{"ast":null,"code":"'use strict';\n\nvar React = require('react');\nvar PdfJsApi = require('pdfjs-dist');\nfunction _interopNamespaceDefault(e) {\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n  n.default = e;\n  return Object.freeze(n);\n}\nvar React__namespace = /*#__PURE__*/_interopNamespaceDefault(React);\nvar PdfJsApi__namespace = /*#__PURE__*/_interopNamespaceDefault(PdfJsApi);\nexports.AnnotationType = void 0;\n(function (AnnotationType) {\n  AnnotationType[AnnotationType[\"Text\"] = 1] = \"Text\";\n  AnnotationType[AnnotationType[\"Link\"] = 2] = \"Link\";\n  AnnotationType[AnnotationType[\"FreeText\"] = 3] = \"FreeText\";\n  AnnotationType[AnnotationType[\"Line\"] = 4] = \"Line\";\n  AnnotationType[AnnotationType[\"Square\"] = 5] = \"Square\";\n  AnnotationType[AnnotationType[\"Circle\"] = 6] = \"Circle\";\n  AnnotationType[AnnotationType[\"Polygon\"] = 7] = \"Polygon\";\n  AnnotationType[AnnotationType[\"Polyline\"] = 8] = \"Polyline\";\n  AnnotationType[AnnotationType[\"Highlight\"] = 9] = \"Highlight\";\n  AnnotationType[AnnotationType[\"Underline\"] = 10] = \"Underline\";\n  AnnotationType[AnnotationType[\"Squiggly\"] = 11] = \"Squiggly\";\n  AnnotationType[AnnotationType[\"StrikeOut\"] = 12] = \"StrikeOut\";\n  AnnotationType[AnnotationType[\"Stamp\"] = 13] = \"Stamp\";\n  AnnotationType[AnnotationType[\"Caret\"] = 14] = \"Caret\";\n  AnnotationType[AnnotationType[\"Ink\"] = 15] = \"Ink\";\n  AnnotationType[AnnotationType[\"Popup\"] = 16] = \"Popup\";\n  AnnotationType[AnnotationType[\"FileAttachment\"] = 17] = \"FileAttachment\";\n})(exports.AnnotationType || (exports.AnnotationType = {}));\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexports.TextDirection = void 0;\n(function (TextDirection) {\n  TextDirection[\"RightToLeft\"] = \"RTL\";\n  TextDirection[\"LeftToRight\"] = \"LTR\";\n})(exports.TextDirection || (exports.TextDirection = {}));\nvar ThemeContext = React__namespace.createContext({\n  currentTheme: 'light',\n  direction: exports.TextDirection.LeftToRight,\n  setCurrentTheme: function () {}\n});\nvar classNames = function (classes) {\n  var result = [];\n  Object.keys(classes).forEach(function (clazz) {\n    if (clazz && classes[clazz]) {\n      result.push(clazz);\n    }\n  });\n  return result.join(' ');\n};\nvar Button = function (_a) {\n  var children = _a.children,\n    testId = _a.testId,\n    onClick = _a.onClick;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var attrs = testId ? {\n    'data-testid': testId\n  } : {};\n  return React__namespace.createElement(\"button\", __assign({\n    className: classNames({\n      'rpv-core__button': true,\n      'rpv-core__button--rtl': isRtl\n    }),\n    type: \"button\",\n    onClick: onClick\n  }, attrs), children);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React__namespace.useLayoutEffect : React__namespace.useEffect;\nvar useIntersectionObserver = function (props) {\n  var containerRef = React__namespace.useRef(null);\n  var once = props.once,\n    threshold = props.threshold,\n    onVisibilityChanged = props.onVisibilityChanged;\n  useIsomorphicLayoutEffect(function () {\n    var container = containerRef.current;\n    if (!container) {\n      return;\n    }\n    var intersectionTracker = new IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        var isVisible = entry.isIntersecting;\n        var ratio = entry.intersectionRatio;\n        onVisibilityChanged({\n          isVisible: isVisible,\n          ratio: ratio\n        });\n        if (isVisible && once) {\n          intersectionTracker.unobserve(container);\n          intersectionTracker.disconnect();\n        }\n      });\n    }, {\n      threshold: threshold || 0\n    });\n    intersectionTracker.observe(container);\n    return function () {\n      intersectionTracker.unobserve(container);\n      intersectionTracker.disconnect();\n    };\n  }, []);\n  return containerRef;\n};\nvar LazyRender = function (_a) {\n  var attrs = _a.attrs,\n    children = _a.children,\n    testId = _a.testId;\n  var _b = React__namespace.useState(false),\n    visible = _b[0],\n    setVisible = _b[1];\n  var containerAttrs = testId ? __assign(__assign({}, attrs), {\n    'data-testid': testId\n  }) : attrs;\n  var handleVisibilityChanged = function (params) {\n    if (params.isVisible) {\n      setVisible(true);\n    }\n  };\n  var containerRef = useIntersectionObserver({\n    once: true,\n    onVisibilityChanged: handleVisibilityChanged\n  });\n  return React__namespace.createElement(\"div\", __assign({\n    ref: containerRef\n  }, containerAttrs), visible && children);\n};\nvar Menu = function (_a) {\n  var children = _a.children;\n  var containerRef = React__namespace.useRef();\n  var visibleMenuItemsRef = React__namespace.useRef([]);\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var handleKeyDown = function (e) {\n    var container = containerRef.current;\n    if (!container) {\n      return;\n    }\n    switch (e.key) {\n      case 'Tab':\n        e.preventDefault();\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        moveToItem(function (_, currentIndex) {\n          return currentIndex + 1;\n        });\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        moveToItem(function (_, currentIndex) {\n          return currentIndex - 1;\n        });\n        break;\n      case 'End':\n        e.preventDefault();\n        moveToItem(function (items, _) {\n          return items.length - 1;\n        });\n        break;\n      case 'Home':\n        e.preventDefault();\n        moveToItem(function (_, __) {\n          return 0;\n        });\n        break;\n    }\n  };\n  var moveToItem = function (getNextItem) {\n    var container = containerRef.current;\n    if (!container) {\n      return;\n    }\n    var items = visibleMenuItemsRef.current;\n    var currentIndex = items.findIndex(function (item) {\n      return item.getAttribute('tabindex') === '0';\n    });\n    var targetIndex = Math.min(items.length - 1, Math.max(0, getNextItem(items, currentIndex)));\n    if (currentIndex >= 0 && currentIndex <= items.length - 1) {\n      items[currentIndex].setAttribute('tabindex', '-1');\n    }\n    items[targetIndex].setAttribute('tabindex', '0');\n    items[targetIndex].focus();\n  };\n  var findVisibleItems = function (container) {\n    var visibleItems = [];\n    container.querySelectorAll('.rpv-core__menu-item[role=\"menuitem\"]').forEach(function (item) {\n      if (item instanceof HTMLElement) {\n        var parent_1 = item.parentElement;\n        if (parent_1 === container) {\n          visibleItems.push(item);\n        } else {\n          if (window.getComputedStyle(parent_1).display !== 'none') {\n            visibleItems.push(item);\n          }\n        }\n      }\n    });\n    return visibleItems;\n  };\n  useIsomorphicLayoutEffect(function () {\n    var container = containerRef.current;\n    if (!container) {\n      return;\n    }\n    var visibleItems = findVisibleItems(container);\n    visibleMenuItemsRef.current = visibleItems;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    document.addEventListener('keydown', handleKeyDown);\n    return function () {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    ref: containerRef,\n    \"aria-orientation\": \"vertical\",\n    className: classNames({\n      'rpv-core__menu': true,\n      'rpv-core__menu--rtl': isRtl\n    }),\n    role: \"menu\",\n    tabIndex: 0\n  }, children);\n};\nvar MenuDivider = function () {\n  return React__namespace.createElement(\"div\", {\n    \"aria-orientation\": \"horizontal\",\n    className: \"rpv-core__menu-divider\",\n    role: \"separator\"\n  });\n};\nvar Icon = function (_a) {\n  var children = _a.children,\n    _b = _a.ignoreDirection,\n    ignoreDirection = _b === void 0 ? false : _b,\n    _c = _a.size,\n    size = _c === void 0 ? 24 : _c;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = !ignoreDirection && direction === exports.TextDirection.RightToLeft;\n  var width = \"\".concat(size || 24, \"px\");\n  return React__namespace.createElement(\"svg\", {\n    \"aria-hidden\": \"true\",\n    className: classNames({\n      'rpv-core__icon': true,\n      'rpv-core__icon--rtl': isRtl\n    }),\n    focusable: \"false\",\n    height: width,\n    viewBox: \"0 0 24 24\",\n    width: width\n  }, children);\n};\nvar CheckIcon = function () {\n  return React__namespace.createElement(Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M23.5,0.499l-16.5,23l-6.5-6.5\"\n  }));\n};\nvar MenuItem = function (_a) {\n  var _b = _a.checked,\n    checked = _b === void 0 ? false : _b,\n    children = _a.children,\n    _c = _a.icon,\n    icon = _c === void 0 ? null : _c,\n    _d = _a.isDisabled,\n    isDisabled = _d === void 0 ? false : _d,\n    testId = _a.testId,\n    onClick = _a.onClick;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var attrs = testId ? {\n    'data-testid': testId\n  } : {};\n  return React__namespace.createElement(\"button\", __assign({\n    className: classNames({\n      'rpv-core__menu-item': true,\n      'rpv-core__menu-item--disabled': isDisabled,\n      'rpv-core__menu-item--ltr': !isRtl,\n      'rpv-core__menu-item--rtl': isRtl\n    }),\n    role: \"menuitem\",\n    tabIndex: -1,\n    type: \"button\",\n    onClick: onClick\n  }, attrs), React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__menu-item-icon': true,\n      'rpv-core__menu-item-icon--ltr': !isRtl,\n      'rpv-core__menu-item-icon--rtl': isRtl\n    })\n  }, icon), React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__menu-item-label': true,\n      'rpv-core__menu-item-label--ltr': !isRtl,\n      'rpv-core__menu-item-label--rtl': isRtl\n    })\n  }, children), React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__menu-item-check': true,\n      'rpv-core__menu-item-check--ltr': !isRtl,\n      'rpv-core__menu-item-check--rtl': isRtl\n    })\n  }, checked && React__namespace.createElement(CheckIcon, null)));\n};\nvar MinimalButton = function (_a) {\n  var _b = _a.ariaLabel,\n    ariaLabel = _b === void 0 ? '' : _b,\n    _c = _a.ariaKeyShortcuts,\n    ariaKeyShortcuts = _c === void 0 ? '' : _c,\n    children = _a.children,\n    _d = _a.isDisabled,\n    isDisabled = _d === void 0 ? false : _d,\n    _e = _a.isSelected,\n    isSelected = _e === void 0 ? false : _e,\n    testId = _a.testId,\n    onClick = _a.onClick;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var attrs = testId ? {\n    'data-testid': testId\n  } : {};\n  return React__namespace.createElement(\"button\", __assign({\n    \"aria-label\": ariaLabel\n  }, ariaKeyShortcuts && {\n    'aria-keyshortcuts': ariaKeyShortcuts\n  }, isDisabled && {\n    'aria-disabled': true\n  }, {\n    className: classNames({\n      'rpv-core__minimal-button': true,\n      'rpv-core__minimal-button--disabled': isDisabled,\n      'rpv-core__minimal-button--rtl': isRtl,\n      'rpv-core__minimal-button--selected': isSelected\n    }),\n    type: \"button\",\n    onClick: onClick\n  }, attrs), children);\n};\nvar PrimaryButton = function (_a) {\n  var children = _a.children,\n    testId = _a.testId,\n    onClick = _a.onClick;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var attrs = testId ? {\n    'data-testid': testId\n  } : {};\n  return React__namespace.createElement(\"button\", __assign({\n    className: classNames({\n      'rpv-core__primary-button': true,\n      'rpv-core__primary-button--rtl': isRtl\n    }),\n    type: \"button\",\n    onClick: onClick\n  }, attrs), children);\n};\nvar ProgressBar = function (_a) {\n  var progress = _a.progress;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  return React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__progress-bar': true,\n      'rpv-core__progress-bar--rtl': isRtl\n    })\n  }, React__namespace.createElement(\"div\", {\n    className: \"rpv-core__progress-bar-progress\",\n    style: {\n      width: \"\".concat(progress, \"%\")\n    }\n  }, progress, \"%\"));\n};\nvar Separator = function () {\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-core__separator\"\n  });\n};\nvar Spinner = function (_a) {\n  var _b = _a.size,\n    size = _b === void 0 ? '4rem' : _b,\n    testId = _a.testId;\n  var _c = React__namespace.useState(false),\n    visible = _c[0],\n    setVisible = _c[1];\n  var attrs = testId ? {\n    'data-testid': testId\n  } : {};\n  var handleVisibilityChanged = function (params) {\n    setVisible(params.isVisible);\n  };\n  var containerRef = useIntersectionObserver({\n    onVisibilityChanged: handleVisibilityChanged\n  });\n  return React__namespace.createElement(\"div\", __assign({}, attrs, {\n    className: classNames({\n      'rpv-core__spinner': true,\n      'rpv-core__spinner--animating': visible\n    }),\n    ref: containerRef,\n    style: {\n      height: size,\n      width: size\n    }\n  }));\n};\nvar Splitter = function (_a) {\n  var constrain = _a.constrain;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var resizerRef = React__namespace.useRef();\n  var leftSideRef = React__namespace.useRef();\n  var rightSideRef = React__namespace.useRef();\n  var xRef = React__namespace.useRef(0);\n  var yRef = React__namespace.useRef(0);\n  var leftWidthRef = React__namespace.useRef(0);\n  var resizerWidthRef = React__namespace.useRef(0);\n  var eventOptions = {\n    capture: true\n  };\n  var handleMouseMove = function (e) {\n    var resizerEle = resizerRef.current;\n    var leftSide = leftSideRef.current;\n    var rightSide = rightSideRef.current;\n    if (!resizerEle || !leftSide || !rightSide) {\n      return;\n    }\n    var resizerWidth = resizerWidthRef.current;\n    var dx = e.clientX - xRef.current;\n    var firstHalfSize = leftWidthRef.current + (isRtl ? -dx : dx);\n    var containerWidth = resizerEle.parentElement.getBoundingClientRect().width;\n    var firstHalfPercentage = firstHalfSize * 100 / containerWidth;\n    resizerEle.classList.add('rpv-core__splitter--resizing');\n    if (constrain) {\n      var secondHalfSize = containerWidth - firstHalfSize - resizerWidth;\n      var secondHalfPercentage = secondHalfSize * 100 / containerWidth;\n      if (!constrain({\n        firstHalfPercentage: firstHalfPercentage,\n        firstHalfSize: firstHalfSize,\n        secondHalfPercentage: secondHalfPercentage,\n        secondHalfSize: secondHalfSize\n      })) {\n        return;\n      }\n    }\n    leftSide.style.width = \"\".concat(firstHalfPercentage, \"%\");\n    document.body.classList.add('rpv-core__splitter-body--resizing');\n    leftSide.classList.add('rpv-core__splitter-sibling--resizing');\n    rightSide.classList.add('rpv-core__splitter-sibling--resizing');\n  };\n  var handleMouseUp = function (e) {\n    var resizerEle = resizerRef.current;\n    var leftSide = leftSideRef.current;\n    var rightSide = rightSideRef.current;\n    if (!resizerEle || !leftSide || !rightSide) {\n      return;\n    }\n    document.body.classList.remove('rpv-core__splitter-body--resizing');\n    resizerEle.classList.remove('rpv-core__splitter--resizing');\n    leftSide.classList.remove('rpv-core__splitter-sibling--resizing');\n    rightSide.classList.remove('rpv-core__splitter-sibling--resizing');\n    document.removeEventListener('mousemove', handleMouseMove, eventOptions);\n    document.removeEventListener('mouseup', handleMouseUp, eventOptions);\n  };\n  var handleMouseDown = function (e) {\n    var leftSide = leftSideRef.current;\n    if (!leftSide) {\n      return;\n    }\n    xRef.current = e.clientX;\n    yRef.current = e.clientY;\n    leftWidthRef.current = leftSide.getBoundingClientRect().width;\n    document.addEventListener('mousemove', handleMouseMove, eventOptions);\n    document.addEventListener('mouseup', handleMouseUp, eventOptions);\n  };\n  React__namespace.useEffect(function () {\n    var resizerEle = resizerRef.current;\n    if (!resizerEle) {\n      return;\n    }\n    resizerWidthRef.current = resizerEle.getBoundingClientRect().width;\n    leftSideRef.current = resizerEle.previousElementSibling;\n    rightSideRef.current = resizerEle.nextElementSibling;\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    ref: resizerRef,\n    className: \"rpv-core__splitter\",\n    onMouseDown: handleMouseDown\n  });\n};\nvar TextBox = function (_a) {\n  var _b = _a.ariaLabel,\n    ariaLabel = _b === void 0 ? '' : _b,\n    _c = _a.autoFocus,\n    autoFocus = _c === void 0 ? false : _c,\n    _d = _a.placeholder,\n    placeholder = _d === void 0 ? '' : _d,\n    testId = _a.testId,\n    _e = _a.type,\n    type = _e === void 0 ? 'text' : _e,\n    _f = _a.value,\n    value = _f === void 0 ? '' : _f,\n    onChange = _a.onChange,\n    _g = _a.onKeyDown,\n    onKeyDown = _g === void 0 ? function () {} : _g;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var textboxRef = React__namespace.useRef();\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var attrs = {\n    ref: textboxRef,\n    'data-testid': '',\n    'aria-label': ariaLabel,\n    className: classNames({\n      'rpv-core__textbox': true,\n      'rpv-core__textbox--rtl': isRtl\n    }),\n    placeholder: placeholder,\n    value: value,\n    onChange: function (e) {\n      return onChange(e.target.value);\n    },\n    onKeyDown: onKeyDown\n  };\n  if (testId) {\n    attrs['data-testid'] = testId;\n  }\n  useIsomorphicLayoutEffect(function () {\n    if (autoFocus) {\n      var textboxEle = textboxRef.current;\n      if (textboxEle) {\n        var x = window.scrollX;\n        var y = window.scrollY;\n        textboxEle.focus();\n        window.scrollTo(x, y);\n      }\n    }\n  }, []);\n  return type === 'text' ? React__namespace.createElement(\"input\", __assign({\n    type: \"text\"\n  }, attrs)) : React__namespace.createElement(\"input\", __assign({\n    type: \"password\"\n  }, attrs));\n};\nvar useIsMounted = function () {\n  var isMountedRef = React__namespace.useRef(false);\n  React__namespace.useEffect(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return isMountedRef;\n};\nvar usePrevious = function (value) {\n  var ref = React__namespace.useRef(value);\n  React__namespace.useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n};\nvar PageRenderStatus;\n(function (PageRenderStatus) {\n  PageRenderStatus[\"NotRenderedYet\"] = \"NotRenderedYet\";\n  PageRenderStatus[\"Rendering\"] = \"Rendering\";\n  PageRenderStatus[\"Rendered\"] = \"Rendered\";\n})(PageRenderStatus || (PageRenderStatus = {}));\nvar OUT_OF_RANGE_VISIBILITY = -9999;\nvar useRenderQueue = function (_a) {\n  var doc = _a.doc;\n  var numPages = doc.numPages;\n  var docId = doc.loadingTask.docId;\n  var initialPageVisibilities = React__namespace.useMemo(function () {\n    return Array(numPages).fill(null).map(function (_, pageIndex) {\n      return {\n        pageIndex: pageIndex,\n        renderStatus: PageRenderStatus.NotRenderedYet,\n        visibility: OUT_OF_RANGE_VISIBILITY\n      };\n    });\n  }, [docId]);\n  var latestRef = React__namespace.useRef({\n    currentRenderingPage: -1,\n    startRange: 0,\n    endRange: numPages - 1,\n    visibilities: initialPageVisibilities\n  });\n  var markNotRendered = function () {\n    for (var i = 0; i < numPages; i++) {\n      latestRef.current.visibilities[i].renderStatus = PageRenderStatus.NotRenderedYet;\n    }\n  };\n  var markRendered = function (pageIndex) {\n    latestRef.current.visibilities[pageIndex].renderStatus = PageRenderStatus.Rendered;\n  };\n  var markRendering = function (pageIndex) {\n    if (latestRef.current.currentRenderingPage !== -1 && latestRef.current.currentRenderingPage !== pageIndex && latestRef.current.visibilities[latestRef.current.currentRenderingPage].renderStatus === PageRenderStatus.Rendering) {\n      latestRef.current.visibilities[latestRef.current.currentRenderingPage].renderStatus = PageRenderStatus.NotRenderedYet;\n    }\n    latestRef.current.visibilities[pageIndex].renderStatus = PageRenderStatus.Rendering;\n    latestRef.current.currentRenderingPage = pageIndex;\n  };\n  var setRange = function (startIndex, endIndex) {\n    latestRef.current.startRange = startIndex;\n    latestRef.current.endRange = endIndex;\n    for (var i = 0; i < numPages; i++) {\n      if (i < startIndex || i > endIndex) {\n        latestRef.current.visibilities[i].visibility = OUT_OF_RANGE_VISIBILITY;\n        latestRef.current.visibilities[i].renderStatus = PageRenderStatus.NotRenderedYet;\n      }\n    }\n  };\n  var setOutOfRange = function (pageIndex) {\n    setVisibility(pageIndex, OUT_OF_RANGE_VISIBILITY);\n  };\n  var setVisibility = function (pageIndex, visibility) {\n    latestRef.current.visibilities[pageIndex].visibility = visibility;\n  };\n  var getHighestPriorityPage = function () {\n    var visiblePages = latestRef.current.visibilities.slice(latestRef.current.startRange, latestRef.current.endRange + 1).filter(function (item) {\n      return item.visibility > OUT_OF_RANGE_VISIBILITY;\n    });\n    if (!visiblePages.length) {\n      return -1;\n    }\n    var firstVisiblePage = visiblePages[0].pageIndex;\n    var lastVisiblePage = visiblePages[visiblePages.length - 1].pageIndex;\n    var numVisiblePages = visiblePages.length;\n    for (var i = 0; i < numVisiblePages; i++) {\n      if (visiblePages[i].renderStatus === PageRenderStatus.Rendering) {\n        return -1;\n      }\n      if (visiblePages[i].renderStatus === PageRenderStatus.NotRenderedYet) {\n        return visiblePages[i].pageIndex;\n      }\n    }\n    if (lastVisiblePage + 1 < numPages && latestRef.current.visibilities[lastVisiblePage + 1].renderStatus !== PageRenderStatus.Rendered) {\n      return lastVisiblePage + 1;\n    } else if (firstVisiblePage - 1 >= 0 && latestRef.current.visibilities[firstVisiblePage - 1].renderStatus !== PageRenderStatus.Rendered) {\n      return firstVisiblePage - 1;\n    }\n    return -1;\n  };\n  var isInRange = function (pageIndex) {\n    return pageIndex >= latestRef.current.startRange && pageIndex <= latestRef.current.endRange;\n  };\n  return {\n    getHighestPriorityPage: getHighestPriorityPage,\n    isInRange: isInRange,\n    markNotRendered: markNotRendered,\n    markRendered: markRendered,\n    markRendering: markRendering,\n    setOutOfRange: setOutOfRange,\n    setRange: setRange,\n    setVisibility: setVisibility\n  };\n};\nvar core = {\n  askingPassword: {\n    requirePasswordToOpen: \"This document requires a password to open\",\n    submit: \"Submit\"\n  },\n  wrongPassword: {\n    tryAgain: \"The password is wrong. Please try again\"\n  },\n  pageLabel: \"Page {{pageIndex}}\"\n};\nvar enUs = {\n  core: core\n};\nvar DefaultLocalization = enUs;\nvar LocalizationContext = React__namespace.createContext({\n  l10n: DefaultLocalization,\n  setL10n: function () {}\n});\nvar id = 0;\nvar uniqueId = function () {\n  return id++;\n};\nvar useClickOutside = function (closeOnClickOutside, targetRef, onClickOutside) {\n  var clickHandler = function (e) {\n    var target = targetRef.current;\n    if (!target) {\n      return;\n    }\n    var clickedTarget = e.target;\n    if (clickedTarget instanceof Element && clickedTarget.shadowRoot) {\n      var paths = e.composedPath();\n      if (paths.length > 0 && !target.contains(paths[0])) {\n        onClickOutside();\n      }\n    } else if (!target.contains(clickedTarget)) {\n      onClickOutside();\n    }\n  };\n  React__namespace.useEffect(function () {\n    if (!closeOnClickOutside) {\n      return;\n    }\n    var eventOptions = {\n      capture: true\n    };\n    document.addEventListener('click', clickHandler, eventOptions);\n    return function () {\n      document.removeEventListener('click', clickHandler, eventOptions);\n    };\n  }, []);\n};\nvar useEscape = function (handler) {\n  var keyUpHandler = function (e) {\n    if (e.key === 'Escape') {\n      handler();\n    }\n  };\n  React__namespace.useEffect(function () {\n    document.addEventListener('keyup', keyUpHandler);\n    return function () {\n      document.removeEventListener('keyup', keyUpHandler);\n    };\n  }, []);\n};\nvar useLockScroll = function () {\n  React__namespace.useEffect(function () {\n    var originalStyle = window.getComputedStyle(document.body).overflow;\n    document.body.style.overflow = 'hidden';\n    return function () {\n      document.body.style.overflow = originalStyle;\n    };\n  }, []);\n};\nvar ModalBody = function (_a) {\n  var ariaControlsSuffix = _a.ariaControlsSuffix,\n    children = _a.children,\n    closeOnClickOutside = _a.closeOnClickOutside,\n    closeOnEscape = _a.closeOnEscape,\n    onToggle = _a.onToggle;\n  var contentRef = React__namespace.useRef();\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  useLockScroll();\n  useEscape(function () {\n    if (contentRef.current && closeOnEscape) {\n      onToggle();\n    }\n  });\n  useClickOutside(closeOnClickOutside, contentRef, onToggle);\n  useIsomorphicLayoutEffect(function () {\n    var contentEle = contentRef.current;\n    if (!contentEle) {\n      return;\n    }\n    var maxHeight = document.body.clientHeight * 0.75;\n    if (contentEle.getBoundingClientRect().height >= maxHeight) {\n      contentEle.style.overflow = 'auto';\n      contentEle.style.maxHeight = \"\".concat(maxHeight, \"px\");\n    }\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    \"aria-modal\": \"true\",\n    className: classNames({\n      'rpv-core__modal-body': true,\n      'rpv-core__modal-body--rtl': isRtl\n    }),\n    id: \"rpv-core__modal-body-\".concat(ariaControlsSuffix),\n    ref: contentRef,\n    role: \"dialog\",\n    tabIndex: -1\n  }, children);\n};\nvar ModalOverlay = function (_a) {\n  var children = _a.children;\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-core__modal-overlay\"\n  }, children);\n};\nexports.ToggleStatus = void 0;\n(function (ToggleStatus) {\n  ToggleStatus[\"Close\"] = \"Close\";\n  ToggleStatus[\"Open\"] = \"Open\";\n  ToggleStatus[\"Toggle\"] = \"Toggle\";\n})(exports.ToggleStatus || (exports.ToggleStatus = {}));\nvar useToggle = function (isOpened) {\n  var _a = React__namespace.useState(isOpened),\n    opened = _a[0],\n    setOpened = _a[1];\n  var toggle = function (status) {\n    switch (status) {\n      case exports.ToggleStatus.Close:\n        setOpened(false);\n        break;\n      case exports.ToggleStatus.Open:\n        setOpened(true);\n        break;\n      case exports.ToggleStatus.Toggle:\n      default:\n        setOpened(function (isOpened) {\n          return !isOpened;\n        });\n        break;\n    }\n  };\n  return {\n    opened: opened,\n    toggle: toggle\n  };\n};\nvar Portal = function (_a) {\n  var content = _a.content,\n    _b = _a.isOpened,\n    isOpened = _b === void 0 ? false : _b,\n    target = _a.target;\n  var _c = useToggle(isOpened),\n    opened = _c.opened,\n    toggle = _c.toggle;\n  return React__namespace.createElement(React__namespace.Fragment, null, target && target(toggle, opened), opened && content(toggle));\n};\nvar Modal = function (_a) {\n  var ariaControlsSuffix = _a.ariaControlsSuffix,\n    closeOnClickOutside = _a.closeOnClickOutside,\n    closeOnEscape = _a.closeOnEscape,\n    content = _a.content,\n    _b = _a.isOpened,\n    isOpened = _b === void 0 ? false : _b,\n    target = _a.target;\n  var controlsSuffix = ariaControlsSuffix || \"\".concat(uniqueId());\n  var renderTarget = function (toggle, opened) {\n    return React__namespace.createElement(\"div\", {\n      \"aria-expanded\": opened ? 'true' : 'false',\n      \"aria-haspopup\": \"dialog\",\n      \"aria-controls\": \"rpv-core__modal-body-\".concat(controlsSuffix)\n    }, target(toggle, opened));\n  };\n  var renderContent = function (toggle) {\n    return React__namespace.createElement(ModalOverlay, null, React__namespace.createElement(ModalBody, {\n      ariaControlsSuffix: controlsSuffix,\n      closeOnClickOutside: closeOnClickOutside,\n      closeOnEscape: closeOnEscape,\n      onToggle: toggle\n    }, content(toggle)));\n  };\n  return React__namespace.createElement(Portal, {\n    target: target ? renderTarget : null,\n    content: renderContent,\n    isOpened: isOpened\n  });\n};\nexports.Position = void 0;\n(function (Position) {\n  Position[\"TopLeft\"] = \"TOP_LEFT\";\n  Position[\"TopCenter\"] = \"TOP_CENTER\";\n  Position[\"TopRight\"] = \"TOP_RIGHT\";\n  Position[\"RightTop\"] = \"RIGHT_TOP\";\n  Position[\"RightCenter\"] = \"RIGHT_CENTER\";\n  Position[\"RightBottom\"] = \"RIGHT_BOTTOM\";\n  Position[\"BottomLeft\"] = \"BOTTOM_LEFT\";\n  Position[\"BottomCenter\"] = \"BOTTOM_CENTER\";\n  Position[\"BottomRight\"] = \"BOTTOM_RIGHT\";\n  Position[\"LeftTop\"] = \"LEFT_TOP\";\n  Position[\"LeftCenter\"] = \"LEFT_CENTER\";\n  Position[\"LeftBottom\"] = \"LEFT_BOTTOM\";\n})(exports.Position || (exports.Position = {}));\nvar calculatePosition = function (content, target, position, offset) {\n  var targetRect = target.getBoundingClientRect();\n  var contentRect = content.getBoundingClientRect();\n  var height = contentRect.height,\n    width = contentRect.width;\n  var top = 0;\n  var left = 0;\n  switch (position) {\n    case exports.Position.TopLeft:\n      top = targetRect.top - height;\n      left = targetRect.left;\n      break;\n    case exports.Position.TopCenter:\n      top = targetRect.top - height;\n      left = targetRect.left + targetRect.width / 2 - width / 2;\n      break;\n    case exports.Position.TopRight:\n      top = targetRect.top - height;\n      left = targetRect.left + targetRect.width - width;\n      break;\n    case exports.Position.RightTop:\n      top = targetRect.top;\n      left = targetRect.left + targetRect.width;\n      break;\n    case exports.Position.RightCenter:\n      top = targetRect.top + targetRect.height / 2 - height / 2;\n      left = targetRect.left + targetRect.width;\n      break;\n    case exports.Position.RightBottom:\n      top = targetRect.top + targetRect.height - height;\n      left = targetRect.left + targetRect.width;\n      break;\n    case exports.Position.BottomLeft:\n      top = targetRect.top + targetRect.height;\n      left = targetRect.left;\n      break;\n    case exports.Position.BottomCenter:\n      top = targetRect.top + targetRect.height;\n      left = targetRect.left + targetRect.width / 2 - width / 2;\n      break;\n    case exports.Position.BottomRight:\n      top = targetRect.top + targetRect.height;\n      left = targetRect.left + targetRect.width - width;\n      break;\n    case exports.Position.LeftTop:\n      top = targetRect.top;\n      left = targetRect.left - width;\n      break;\n    case exports.Position.LeftCenter:\n      top = targetRect.top + targetRect.height / 2 - height / 2;\n      left = targetRect.left - width;\n      break;\n    case exports.Position.LeftBottom:\n      top = targetRect.top + targetRect.height - height;\n      left = targetRect.left - width;\n      break;\n  }\n  return {\n    left: left + (offset.left || 0),\n    top: top + (offset.top || 0)\n  };\n};\nvar usePosition = function (contentRef, targetRef, anchorRef, position, offset) {\n  useIsomorphicLayoutEffect(function () {\n    var targetEle = targetRef.current;\n    var contentEle = contentRef.current;\n    var anchorEle = anchorRef.current;\n    if (!contentEle || !targetEle || !anchorEle) {\n      return;\n    }\n    var anchorRect = anchorEle.getBoundingClientRect();\n    var _a = calculatePosition(contentEle, targetEle, position, offset),\n      top = _a.top,\n      left = _a.left;\n    contentEle.style.top = \"\".concat(top - anchorRect.top, \"px\");\n    contentEle.style.left = \"\".concat(left - anchorRect.left, \"px\");\n  }, []);\n};\nvar Arrow = function (_a) {\n  var _b;\n  var customClassName = _a.customClassName,\n    position = _a.position;\n  return React__namespace.createElement(\"div\", {\n    className: classNames((_b = {\n      'rpv-core__arrow': true,\n      'rpv-core__arrow--tl': position === exports.Position.TopLeft,\n      'rpv-core__arrow--tc': position === exports.Position.TopCenter,\n      'rpv-core__arrow--tr': position === exports.Position.TopRight,\n      'rpv-core__arrow--rt': position === exports.Position.RightTop,\n      'rpv-core__arrow--rc': position === exports.Position.RightCenter,\n      'rpv-core__arrow--rb': position === exports.Position.RightBottom,\n      'rpv-core__arrow--bl': position === exports.Position.BottomLeft,\n      'rpv-core__arrow--bc': position === exports.Position.BottomCenter,\n      'rpv-core__arrow--br': position === exports.Position.BottomRight,\n      'rpv-core__arrow--lt': position === exports.Position.LeftTop,\n      'rpv-core__arrow--lc': position === exports.Position.LeftCenter,\n      'rpv-core__arrow--lb': position === exports.Position.LeftBottom\n    }, _b[\"\".concat(customClassName)] = customClassName !== '', _b))\n  });\n};\nvar PopoverBody = function (_a) {\n  var ariaControlsSuffix = _a.ariaControlsSuffix,\n    children = _a.children,\n    closeOnClickOutside = _a.closeOnClickOutside,\n    offset = _a.offset,\n    position = _a.position,\n    targetRef = _a.targetRef,\n    onClose = _a.onClose;\n  var contentRef = React__namespace.useRef();\n  var innerRef = React__namespace.useRef();\n  var anchorRef = React__namespace.useRef();\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  useClickOutside(closeOnClickOutside, contentRef, onClose);\n  usePosition(contentRef, targetRef, anchorRef, position, offset);\n  useIsomorphicLayoutEffect(function () {\n    var innerContentEle = innerRef.current;\n    if (!innerContentEle) {\n      return;\n    }\n    var maxHeight = document.body.clientHeight * 0.75;\n    if (innerContentEle.getBoundingClientRect().height >= maxHeight) {\n      innerContentEle.style.overflow = 'auto';\n      innerContentEle.style.maxHeight = \"\".concat(maxHeight, \"px\");\n    }\n  }, []);\n  var innerId = \"rpv-core__popover-body-inner-\".concat(ariaControlsSuffix);\n  return React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(\"div\", {\n    ref: anchorRef,\n    style: {\n      left: 0,\n      position: 'absolute',\n      top: 0\n    }\n  }), React__namespace.createElement(\"div\", {\n    \"aria-describedby\": innerId,\n    className: classNames({\n      'rpv-core__popover-body': true,\n      'rpv-core__popover-body--rtl': isRtl\n    }),\n    id: \"rpv-core__popover-body-\".concat(ariaControlsSuffix),\n    ref: contentRef,\n    role: \"dialog\",\n    tabIndex: -1\n  }, React__namespace.createElement(Arrow, {\n    customClassName: \"rpv-core__popover-body-arrow\",\n    position: position\n  }), React__namespace.createElement(\"div\", {\n    id: innerId,\n    ref: innerRef\n  }, children)));\n};\nvar PopoverOverlay = function (_a) {\n  var closeOnEscape = _a.closeOnEscape,\n    onClose = _a.onClose;\n  var containerRef = React__namespace.useRef();\n  useEscape(function () {\n    if (containerRef.current && closeOnEscape) {\n      onClose();\n    }\n  });\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-core__popover-overlay\",\n    ref: containerRef\n  });\n};\nvar Popover = function (_a) {\n  var _b = _a.ariaHasPopup,\n    ariaHasPopup = _b === void 0 ? 'dialog' : _b,\n    ariaControlsSuffix = _a.ariaControlsSuffix,\n    closeOnClickOutside = _a.closeOnClickOutside,\n    closeOnEscape = _a.closeOnEscape,\n    content = _a.content,\n    _c = _a.lockScroll,\n    lockScroll = _c === void 0 ? true : _c,\n    offset = _a.offset,\n    position = _a.position,\n    target = _a.target;\n  var _d = useToggle(false),\n    opened = _d.opened,\n    toggle = _d.toggle;\n  var targetRef = React__namespace.useRef();\n  var controlsSuffix = React__namespace.useMemo(function () {\n    return ariaControlsSuffix || \"\".concat(uniqueId());\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    ref: targetRef,\n    \"aria-expanded\": opened ? 'true' : 'false',\n    \"aria-haspopup\": ariaHasPopup,\n    \"aria-controls\": \"rpv-core__popver-body-\".concat(controlsSuffix)\n  }, target(toggle, opened), opened && React__namespace.createElement(React__namespace.Fragment, null, lockScroll && React__namespace.createElement(PopoverOverlay, {\n    closeOnEscape: closeOnEscape,\n    onClose: toggle\n  }), React__namespace.createElement(PopoverBody, {\n    ariaControlsSuffix: controlsSuffix,\n    closeOnClickOutside: closeOnClickOutside,\n    offset: offset,\n    position: position,\n    targetRef: targetRef,\n    onClose: toggle\n  }, content(toggle))));\n};\nvar TooltipBody = function (_a) {\n  var ariaControlsSuffix = _a.ariaControlsSuffix,\n    children = _a.children,\n    contentRef = _a.contentRef,\n    offset = _a.offset,\n    position = _a.position,\n    targetRef = _a.targetRef;\n  var anchorRef = React__namespace.useRef();\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  usePosition(contentRef, targetRef, anchorRef, position, offset);\n  return React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(\"div\", {\n    ref: anchorRef,\n    style: {\n      left: 0,\n      position: 'absolute',\n      top: 0\n    }\n  }), React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__tooltip-body': true,\n      'rpv-core__tooltip-body--rtl': isRtl\n    }),\n    id: \"rpv-core__tooltip-body-\".concat(ariaControlsSuffix),\n    ref: contentRef,\n    role: \"tooltip\"\n  }, React__namespace.createElement(Arrow, {\n    customClassName: \"rpv-core__tooltip-body-arrow\",\n    position: position\n  }), React__namespace.createElement(\"div\", {\n    className: \"rpv-core__tooltip-body-content\"\n  }, children)));\n};\nvar Tooltip = function (_a) {\n  var ariaControlsSuffix = _a.ariaControlsSuffix,\n    content = _a.content,\n    offset = _a.offset,\n    position = _a.position,\n    target = _a.target;\n  var _b = useToggle(false),\n    opened = _b.opened,\n    toggle = _b.toggle;\n  var targetRef = React__namespace.useRef();\n  var contentRef = React__namespace.useRef();\n  var controlsSuffix = React__namespace.useMemo(function () {\n    return ariaControlsSuffix || \"\".concat(uniqueId());\n  }, []);\n  useEscape(function () {\n    if (targetRef.current && document.activeElement && targetRef.current.contains(document.activeElement)) {\n      close();\n    }\n  });\n  var open = function () {\n    toggle(exports.ToggleStatus.Open);\n  };\n  var close = function () {\n    toggle(exports.ToggleStatus.Close);\n  };\n  var onBlur = function (e) {\n    var shouldHideTooltip = e.relatedTarget instanceof HTMLElement && e.currentTarget.parentElement && e.currentTarget.parentElement.contains(e.relatedTarget);\n    if (shouldHideTooltip) {\n      if (contentRef.current) {\n        contentRef.current.style.display = 'none';\n      }\n    } else {\n      close();\n    }\n  };\n  return React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(\"div\", {\n    ref: targetRef,\n    \"aria-describedby\": \"rpv-core__tooltip-body-\".concat(controlsSuffix),\n    onBlur: onBlur,\n    onFocus: open,\n    onMouseEnter: open,\n    onMouseLeave: close\n  }, target), opened && React__namespace.createElement(TooltipBody, {\n    ariaControlsSuffix: controlsSuffix,\n    contentRef: contentRef,\n    offset: offset,\n    position: position,\n    targetRef: targetRef\n  }, content()));\n};\nfunction createStore(initialState) {\n  var state = initialState || {};\n  var listeners = {};\n  var update = function (key, data) {\n    var _a;\n    state = __assign(__assign({}, state), (_a = {}, _a[key] = data, _a));\n    (listeners[key] || []).forEach(function (handler) {\n      return handler(state[key]);\n    });\n  };\n  var get = function (key) {\n    return state[key];\n  };\n  return {\n    subscribe: function (key, handler) {\n      listeners[key] = (listeners[key] || []).concat(handler);\n    },\n    unsubscribe: function (key, handler) {\n      listeners[key] = (listeners[key] || []).filter(function (f) {\n        return f !== handler;\n      });\n    },\n    update: function (key, data) {\n      update(key, data);\n    },\n    updateCurrentValue: function (key, updater) {\n      var currentValue = get(key);\n      if (currentValue !== undefined) {\n        update(key, updater(currentValue));\n      }\n    },\n    get: function (key) {\n      return get(key);\n    }\n  };\n}\nexports.LayerRenderStatus = void 0;\n(function (LayerRenderStatus) {\n  LayerRenderStatus[LayerRenderStatus[\"PreRender\"] = 0] = \"PreRender\";\n  LayerRenderStatus[LayerRenderStatus[\"DidRender\"] = 1] = \"DidRender\";\n})(exports.LayerRenderStatus || (exports.LayerRenderStatus = {}));\nexports.PageMode = void 0;\n(function (PageMode) {\n  PageMode[\"Attachments\"] = \"UseAttachments\";\n  PageMode[\"Bookmarks\"] = \"UseOutlines\";\n  PageMode[\"ContentGroup\"] = \"UseOC\";\n  PageMode[\"Default\"] = \"UserNone\";\n  PageMode[\"FullScreen\"] = \"FullScreen\";\n  PageMode[\"Thumbnails\"] = \"UseThumbs\";\n})(exports.PageMode || (exports.PageMode = {}));\nexports.PasswordStatus = void 0;\n(function (PasswordStatus) {\n  PasswordStatus[\"RequiredPassword\"] = \"RequiredPassword\";\n  PasswordStatus[\"WrongPassword\"] = \"WrongPassword\";\n})(exports.PasswordStatus || (exports.PasswordStatus = {}));\nexports.RotateDirection = void 0;\n(function (RotateDirection) {\n  RotateDirection[\"Backward\"] = \"Backward\";\n  RotateDirection[\"Forward\"] = \"Forward\";\n})(exports.RotateDirection || (exports.RotateDirection = {}));\nexports.ScrollMode = void 0;\n(function (ScrollMode) {\n  ScrollMode[\"Page\"] = \"Page\";\n  ScrollMode[\"Horizontal\"] = \"Horizontal\";\n  ScrollMode[\"Vertical\"] = \"Vertical\";\n  ScrollMode[\"Wrapped\"] = \"Wrapped\";\n})(exports.ScrollMode || (exports.ScrollMode = {}));\nexports.SpecialZoomLevel = void 0;\n(function (SpecialZoomLevel) {\n  SpecialZoomLevel[\"ActualSize\"] = \"ActualSize\";\n  SpecialZoomLevel[\"PageFit\"] = \"PageFit\";\n  SpecialZoomLevel[\"PageWidth\"] = \"PageWidth\";\n})(exports.SpecialZoomLevel || (exports.SpecialZoomLevel = {}));\nexports.ViewMode = void 0;\n(function (ViewMode) {\n  ViewMode[\"DualPage\"] = \"DualPage\";\n  ViewMode[\"DualPageWithCover\"] = \"DualPageWithCover\";\n  ViewMode[\"SinglePage\"] = \"SinglePage\";\n})(exports.ViewMode || (exports.ViewMode = {}));\nvar chunk = function (arr, size) {\n  return arr.reduce(function (acc, e, i) {\n    return i % size ? acc[acc.length - 1].push(e) : acc.push([e]), acc;\n  }, []);\n};\nvar isMac = function () {\n  return typeof window !== 'undefined' ? /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform) : false;\n};\nvar normalizeDestination = function (pageIndex, destArray) {\n  switch (destArray[1].name) {\n    case 'XYZ':\n      return {\n        bottomOffset: function (_, viewportHeight) {\n          return destArray[3] === null ? viewportHeight : destArray[3];\n        },\n        leftOffset: function (_, __) {\n          return destArray[2] === null ? 0 : destArray[2];\n        },\n        pageIndex: pageIndex,\n        scaleTo: destArray[4]\n      };\n    case 'Fit':\n    case 'FitB':\n      return {\n        bottomOffset: 0,\n        leftOffset: 0,\n        pageIndex: pageIndex,\n        scaleTo: exports.SpecialZoomLevel.PageFit\n      };\n    case 'FitH':\n    case 'FitBH':\n      return {\n        bottomOffset: destArray[2],\n        leftOffset: 0,\n        pageIndex: pageIndex,\n        scaleTo: exports.SpecialZoomLevel.PageWidth\n      };\n    default:\n      return {\n        bottomOffset: 0,\n        leftOffset: 0,\n        pageIndex: pageIndex,\n        scaleTo: 1\n      };\n  }\n};\nvar pageOutlinesMap = new Map();\nvar pagesMap = new Map();\nvar generateRefKey = function (doc, outline) {\n  return \"\".concat(doc.loadingTask.docId, \"___\").concat(outline.num, \"R\").concat(outline.gen === 0 ? '' : outline.gen);\n};\nvar getPageIndex = function (doc, outline) {\n  var key = generateRefKey(doc, outline);\n  return pageOutlinesMap.has(key) ? pageOutlinesMap.get(key) : null;\n};\nvar cacheOutlineRef = function (doc, outline, pageIndex) {\n  pageOutlinesMap.set(generateRefKey(doc, outline), pageIndex);\n};\nvar clearPagesCache = function () {\n  pageOutlinesMap.clear();\n  pagesMap.clear();\n};\nvar getPage = function (doc, pageIndex) {\n  if (!doc) {\n    return Promise.reject('The document is not loaded yet');\n  }\n  var pageKey = \"\".concat(doc.loadingTask.docId, \"___\").concat(pageIndex);\n  var page = pagesMap.get(pageKey);\n  if (page) {\n    return Promise.resolve(page);\n  }\n  return new Promise(function (resolve, _) {\n    doc.getPage(pageIndex + 1).then(function (page) {\n      pagesMap.set(pageKey, page);\n      if (page.ref) {\n        cacheOutlineRef(doc, page.ref, pageIndex);\n      }\n      resolve(page);\n    });\n  });\n};\nvar getDestination = function (doc, dest) {\n  return new Promise(function (res) {\n    new Promise(function (resolve) {\n      if (typeof dest === 'string') {\n        doc.getDestination(dest).then(function (destArray) {\n          resolve(destArray);\n        });\n      } else {\n        resolve(dest);\n      }\n    }).then(function (destArray) {\n      if ('object' === typeof destArray[0] && destArray[0] !== null) {\n        var outlineRef_1 = destArray[0];\n        var pageIndex = getPageIndex(doc, outlineRef_1);\n        if (pageIndex === null) {\n          doc.getPageIndex(outlineRef_1).then(function (pageIndex) {\n            cacheOutlineRef(doc, outlineRef_1, pageIndex);\n            getDestination(doc, dest).then(function (result) {\n              return res(result);\n            });\n          });\n        } else {\n          res(normalizeDestination(pageIndex, destArray));\n        }\n      } else {\n        var target = normalizeDestination(destArray[0], destArray);\n        res(target);\n      }\n    });\n  });\n};\nvar useDebounceCallback = function (callback, wait) {\n  var timeout = React__namespace.useRef();\n  var cleanup = function () {\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n  };\n  React__namespace.useEffect(function () {\n    return function () {\n      return cleanup();\n    };\n  }, []);\n  return React__namespace.useCallback(function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    cleanup();\n    timeout.current = setTimeout(function () {\n      callback.apply(void 0, args);\n    }, wait);\n  }, [callback, wait]);\n};\nvar useTrackResize = function (_a) {\n  var targetRef = _a.targetRef,\n    onResize = _a.onResize;\n  useIsomorphicLayoutEffect(function () {\n    var io = new ResizeObserver(function (entries) {\n      entries.forEach(function (entry) {\n        onResize(entry.target);\n      });\n    });\n    var container = targetRef.current;\n    if (!container) {\n      return;\n    }\n    io.observe(container);\n    return function () {\n      io.unobserve(container);\n    };\n  }, []);\n};\nvar AnnotationBorderStyleType;\n(function (AnnotationBorderStyleType) {\n  AnnotationBorderStyleType[AnnotationBorderStyleType[\"Solid\"] = 1] = \"Solid\";\n  AnnotationBorderStyleType[AnnotationBorderStyleType[\"Dashed\"] = 2] = \"Dashed\";\n  AnnotationBorderStyleType[AnnotationBorderStyleType[\"Beveled\"] = 3] = \"Beveled\";\n  AnnotationBorderStyleType[AnnotationBorderStyleType[\"Inset\"] = 4] = \"Inset\";\n  AnnotationBorderStyleType[AnnotationBorderStyleType[\"Underline\"] = 5] = \"Underline\";\n})(AnnotationBorderStyleType || (AnnotationBorderStyleType = {}));\nvar dateRegex = new RegExp('^D:' + '(\\\\d{4})' + '(\\\\d{2})?' + '(\\\\d{2})?' + '(\\\\d{2})?' + '(\\\\d{2})?' + '(\\\\d{2})?' + '([Z|+|-])?' + '(\\\\d{2})?' + \"'?\" + '(\\\\d{2})?' + \"'?\");\nvar parse = function (value, min, max, defaultValue) {\n  var parsed = parseInt(value, 10);\n  return parsed >= min && parsed <= max ? parsed : defaultValue;\n};\nvar convertDate = function (input) {\n  var matches = dateRegex.exec(input);\n  if (!matches) {\n    return null;\n  }\n  var year = parseInt(matches[1], 10);\n  var month = parse(matches[2], 1, 12, 1) - 1;\n  var day = parse(matches[3], 1, 31, 1);\n  var hour = parse(matches[4], 0, 23, 0);\n  var minute = parse(matches[5], 0, 59, 0);\n  var second = parse(matches[6], 0, 59, 0);\n  var universalTimeRelation = matches[7] || 'Z';\n  var offsetHour = parse(matches[8], 0, 23, 0);\n  var offsetMinute = parse(matches[9], 0, 59, 0);\n  switch (universalTimeRelation) {\n    case '-':\n      hour += offsetHour;\n      minute += offsetMinute;\n      break;\n    case '+':\n      hour -= offsetHour;\n      minute -= offsetMinute;\n      break;\n  }\n  return new Date(Date.UTC(year, month, day, hour, minute, second));\n};\nvar getContents = function (annotation) {\n  return annotation.contentsObj ? annotation.contentsObj.str : annotation.contents || '';\n};\nvar getTitle = function (annotation) {\n  return annotation.titleObj ? annotation.titleObj.str : annotation.title || '';\n};\nvar PopupWrapper = function (_a) {\n  var annotation = _a.annotation;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var containerRef = React__namespace.useRef();\n  var dateStr = '';\n  if (annotation.modificationDate) {\n    var date = convertDate(annotation.modificationDate);\n    dateStr = date ? \"\".concat(date.toLocaleDateString(), \", \").concat(date.toLocaleTimeString()) : '';\n  }\n  React__namespace.useLayoutEffect(function () {\n    var containerEle = containerRef.current;\n    if (!containerEle) {\n      return;\n    }\n    var annotationEle = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.id, \"\\\"]\"));\n    if (!annotationEle) {\n      return;\n    }\n    var ele = annotationEle;\n    ele.style.zIndex += 1;\n    return function () {\n      ele.style.zIndex = \"\".concat(parseInt(ele.style.zIndex, 10) - 1);\n    };\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    ref: containerRef,\n    className: classNames({\n      'rpv-core__annotation-popup-wrapper': true,\n      'rpv-core__annotation-popup-wrapper--rtl': isRtl\n    }),\n    style: {\n      top: annotation.annotationType === exports.AnnotationType.Popup ? '' : '100%'\n    }\n  }, title && React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__annotation-popup-title': true,\n      'rpv-core__annotation-popup-title--ltr': !isRtl,\n      'rpv-core__annotation-popup-title--rtl': isRtl\n    })\n  }, title), React__namespace.createElement(\"div\", {\n    className: \"rpv-core__annotation-popup-date\"\n  }, dateStr)), contents && React__namespace.createElement(\"div\", {\n    className: \"rpv-core__annotation-popup-content\"\n  }, contents.split('\\n').map(function (item, index) {\n    return React__namespace.createElement(React__namespace.Fragment, {\n      key: index\n    }, item, React__namespace.createElement(\"br\", null));\n  })));\n};\nvar TogglePopupBy;\n(function (TogglePopupBy) {\n  TogglePopupBy[\"Click\"] = \"Click\";\n  TogglePopupBy[\"Hover\"] = \"Hover\";\n})(TogglePopupBy || (TogglePopupBy = {}));\nvar useTogglePopup = function () {\n  var _a = useToggle(false),\n    opened = _a.opened,\n    toggle = _a.toggle;\n  var _b = React__namespace.useState(TogglePopupBy.Hover),\n    togglePopupBy = _b[0],\n    setTooglePopupBy = _b[1];\n  var toggleOnClick = function () {\n    switch (togglePopupBy) {\n      case TogglePopupBy.Click:\n        opened && setTooglePopupBy(TogglePopupBy.Hover);\n        toggle(exports.ToggleStatus.Toggle);\n        break;\n      case TogglePopupBy.Hover:\n        setTooglePopupBy(TogglePopupBy.Click);\n        toggle(exports.ToggleStatus.Open);\n        break;\n    }\n  };\n  var openOnHover = function () {\n    togglePopupBy === TogglePopupBy.Hover && toggle(exports.ToggleStatus.Open);\n  };\n  var closeOnHover = function () {\n    togglePopupBy === TogglePopupBy.Hover && toggle(exports.ToggleStatus.Close);\n  };\n  return {\n    opened: opened,\n    closeOnHover: closeOnHover,\n    openOnHover: openOnHover,\n    toggleOnClick: toggleOnClick\n  };\n};\nvar Annotation = function (_a) {\n  var annotation = _a.annotation,\n    children = _a.children,\n    ignoreBorder = _a.ignoreBorder,\n    hasPopup = _a.hasPopup,\n    isRenderable = _a.isRenderable,\n    page = _a.page,\n    viewport = _a.viewport;\n  var rect = annotation.rect;\n  var _b = useTogglePopup(),\n    closeOnHover = _b.closeOnHover,\n    opened = _b.opened,\n    openOnHover = _b.openOnHover,\n    toggleOnClick = _b.toggleOnClick;\n  var normalizeRect = function (r) {\n    return [Math.min(r[0], r[2]), Math.min(r[1], r[3]), Math.max(r[0], r[2]), Math.max(r[1], r[3])];\n  };\n  var bound = normalizeRect([rect[0], page.view[3] + page.view[1] - rect[1], rect[2], page.view[3] + page.view[1] - rect[3]]);\n  var width = rect[2] - rect[0];\n  var height = rect[3] - rect[1];\n  var styles = {\n    borderColor: '',\n    borderRadius: '',\n    borderStyle: '',\n    borderWidth: ''\n  };\n  if (!ignoreBorder && annotation.borderStyle.width > 0) {\n    switch (annotation.borderStyle.style) {\n      case AnnotationBorderStyleType.Dashed:\n        styles.borderStyle = 'dashed';\n        break;\n      case AnnotationBorderStyleType.Solid:\n        styles.borderStyle = 'solid';\n        break;\n      case AnnotationBorderStyleType.Underline:\n        styles = Object.assign({\n          borderBottomStyle: 'solid'\n        }, styles);\n        break;\n      case AnnotationBorderStyleType.Beveled:\n      case AnnotationBorderStyleType.Inset:\n    }\n    var borderWidth = annotation.borderStyle.width;\n    styles.borderWidth = \"\".concat(borderWidth, \"px\");\n    if (annotation.borderStyle.style !== AnnotationBorderStyleType.Underline) {\n      width = width - 2 * borderWidth;\n      height = height - 2 * borderWidth;\n    }\n    var _c = annotation.borderStyle,\n      horizontalCornerRadius = _c.horizontalCornerRadius,\n      verticalCornerRadius = _c.verticalCornerRadius;\n    if (horizontalCornerRadius > 0 || verticalCornerRadius > 0) {\n      styles.borderRadius = \"\".concat(horizontalCornerRadius, \"px / \").concat(verticalCornerRadius, \"px\");\n    }\n    annotation.color ? styles.borderColor = \"rgb(\".concat(annotation.color[0] | 0, \", \").concat(annotation.color[1] | 0, \", \").concat(annotation.color[2] | 0, \")\") : styles.borderWidth = '0';\n  }\n  return React__namespace.createElement(React__namespace.Fragment, null, isRenderable && children({\n    popup: {\n      opened: opened,\n      closeOnHover: closeOnHover,\n      openOnHover: openOnHover,\n      toggleOnClick: toggleOnClick\n    },\n    slot: {\n      attrs: {\n        style: Object.assign({\n          height: \"\".concat(height, \"px\"),\n          left: \"\".concat(bound[0], \"px\"),\n          top: \"\".concat(bound[1], \"px\"),\n          transform: \"matrix(\".concat(viewport.transform.join(','), \")\"),\n          transformOrigin: \"-\".concat(bound[0], \"px -\").concat(bound[1], \"px\"),\n          width: \"\".concat(width, \"px\")\n        }, styles)\n      },\n      children: React__namespace.createElement(React__namespace.Fragment, null, hasPopup && opened && React__namespace.createElement(PopupWrapper, {\n        annotation: annotation\n      }))\n    }\n  }));\n};\nvar Caret = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--caret\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), props.slot.children);\n  });\n};\nvar Circle = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  var rect = annotation.rect;\n  var width = rect[2] - rect[0];\n  var height = rect[3] - rect[1];\n  var borderWidth = annotation.borderStyle.width;\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--circle\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), React__namespace.createElement(\"svg\", {\n      height: \"\".concat(height, \"px\"),\n      preserveAspectRatio: \"none\",\n      version: \"1.1\",\n      viewBox: \"0 0 \".concat(width, \" \").concat(height),\n      width: \"\".concat(width, \"px\")\n    }, React__namespace.createElement(\"circle\", {\n      cy: height / 2,\n      fill: \"none\",\n      rx: width / 2 - borderWidth / 2,\n      ry: height / 2 - borderWidth / 2,\n      stroke: \"transparent\",\n      strokeWidth: borderWidth || 1\n    })), props.slot.children);\n  });\n};\nvar getFileName = function (url) {\n  var str = url.split('/').pop();\n  return str ? str.split('#')[0].split('?')[0] : url;\n};\nvar downloadFile = function (url, data) {\n  var blobUrl = typeof data === 'string' ? '' : URL.createObjectURL(new Blob([data], {\n    type: ''\n  }));\n  var link = document.createElement('a');\n  link.style.display = 'none';\n  link.href = blobUrl || url;\n  link.setAttribute('download', getFileName(url));\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  if (blobUrl) {\n    URL.revokeObjectURL(blobUrl);\n  }\n};\nvar FileAttachment = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var hasPopup = annotation.hasPopup === false && (!!title || !!contents);\n  var doubleClick = function () {\n    var file = annotation.file;\n    file && downloadFile(file.filename, file.content);\n  };\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: true,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--file-attachment\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onDoubleClick: doubleClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), props.slot.children);\n  });\n};\nvar FreeText = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--free-text\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), props.slot.children);\n  });\n};\nvar Popup = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(title || contents);\n  var ignoredParents = ['Circle', 'Ink', 'Line', 'Polygon', 'PolyLine', 'Square'];\n  var hasPopup = !annotation.parentType || ignoredParents.indexOf(annotation.parentType) !== -1;\n  useIsomorphicLayoutEffect(function () {\n    if (!annotation.parentId) {\n      return;\n    }\n    var parent = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.parentId, \"\\\"]\"));\n    var container = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.id, \"\\\"]\"));\n    if (!parent || !container) {\n      return;\n    }\n    var left = parseFloat(parent.style.left);\n    var top = parseFloat(parent.style.top) + parseFloat(parent.style.height);\n    container.style.left = \"\".concat(left, \"px\");\n    container.style.top = \"\".concat(top, \"px\");\n    container.style.transformOrigin = \"-\".concat(left, \"px -\").concat(top, \"px\");\n  }, []);\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: false,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--popup\",\n      \"data-annotation-id\": annotation.id\n    }), React__namespace.createElement(PopupWrapper, {\n      annotation: annotation\n    }));\n  });\n};\nvar Highlight = function (_a) {\n  var annotation = _a.annotation,\n    childAnnotation = _a.childAnnotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  var hasQuadPoints = annotation.quadPoints && annotation.quadPoints.length > 0;\n  if (hasQuadPoints) {\n    var annotations = annotation.quadPoints.map(function (quadPoint) {\n      return Object.assign({}, annotation, {\n        rect: [quadPoint[2].x, quadPoint[2].y, quadPoint[1].x, quadPoint[1].y],\n        quadPoints: []\n      });\n    });\n    return React__namespace.createElement(React__namespace.Fragment, null, annotations.map(function (ann, index) {\n      return React__namespace.createElement(Highlight, {\n        key: index,\n        annotation: ann,\n        childAnnotation: childAnnotation,\n        page: page,\n        viewport: viewport\n      });\n    }));\n  }\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--highlight\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), props.slot.children), childAnnotation && childAnnotation.annotationType === exports.AnnotationType.Popup && props.popup.opened && React__namespace.createElement(Popup, {\n      annotation: childAnnotation,\n      page: page,\n      viewport: viewport\n    }));\n  });\n};\nvar Ink = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  var rect = annotation.rect;\n  var width = rect[2] - rect[0];\n  var height = rect[3] - rect[1];\n  var borderWidth = annotation.borderStyle.width;\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--ink\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), annotation.inkLists && annotation.inkLists.length && React__namespace.createElement(\"svg\", {\n      height: \"\".concat(height, \"px\"),\n      preserveAspectRatio: \"none\",\n      version: \"1.1\",\n      viewBox: \"0 0 \".concat(width, \" \").concat(height),\n      width: \"\".concat(width, \"px\")\n    }, annotation.inkLists.map(function (inkList, index) {\n      return React__namespace.createElement(\"polyline\", {\n        key: index,\n        fill: \"none\",\n        stroke: \"transparent\",\n        strokeWidth: borderWidth || 1,\n        points: inkList.map(function (item) {\n          return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y);\n        }).join(' ')\n      });\n    })), props.slot.children);\n  });\n};\nvar Line = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  var rect = annotation.rect;\n  var width = rect[2] - rect[0];\n  var height = rect[3] - rect[1];\n  var borderWidth = annotation.borderStyle.width;\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--line\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), React__namespace.createElement(\"svg\", {\n      height: \"\".concat(height, \"px\"),\n      preserveAspectRatio: \"none\",\n      version: \"1.1\",\n      viewBox: \"0 0 \".concat(width, \" \").concat(height),\n      width: \"\".concat(width, \"px\")\n    }, React__namespace.createElement(\"line\", {\n      stroke: \"transparent\",\n      strokeWidth: borderWidth || 1,\n      x1: rect[2] - annotation.lineCoordinates[0],\n      x2: rect[2] - annotation.lineCoordinates[2],\n      y1: rect[3] - annotation.lineCoordinates[1],\n      y2: rect[3] - annotation.lineCoordinates[3]\n    })), props.slot.children);\n  });\n};\nvar INVALID_PROTOCOL = /^([^\\w]*)(javascript|data|vbscript)/im;\nvar HTML_ENTITIES = /&#(\\w+)(^\\w|;)?/g;\nvar CTRL_CHARS = /[\\u0000-\\u001F\\u007F-\\u009F\\u2000-\\u200D\\uFEFF]/gim;\nvar URL_SCHEME = /^([^:]+):/gm;\nvar decodeHtmlEntities = function (str) {\n  return str.replace(HTML_ENTITIES, function (_, dec) {\n    return String.fromCharCode(dec);\n  });\n};\nvar sanitizeUrl = function (url, defaultUrl) {\n  if (defaultUrl === void 0) {\n    defaultUrl = 'about:blank';\n  }\n  var result = decodeHtmlEntities(url || '').replace(CTRL_CHARS, '').trim();\n  if (!result) {\n    return defaultUrl;\n  }\n  var firstChar = result[0];\n  if (firstChar === '.' || firstChar === '/') {\n    return result;\n  }\n  var parsedUrlScheme = result.match(URL_SCHEME);\n  if (!parsedUrlScheme) {\n    return result;\n  }\n  var scheme = parsedUrlScheme[0];\n  return INVALID_PROTOCOL.test(scheme) ? defaultUrl : result;\n};\nvar Link = function (_a) {\n  var _b;\n  var annotation = _a.annotation,\n    doc = _a.doc,\n    outlines = _a.outlines,\n    page = _a.page,\n    viewport = _a.viewport,\n    onExecuteNamedAction = _a.onExecuteNamedAction,\n    onJumpToDest = _a.onJumpToDest;\n  var link = function (e) {\n    e.preventDefault();\n    annotation.action ? onExecuteNamedAction(annotation.action) : getDestination(doc, annotation.dest).then(function (target) {\n      var pageIndex = target.pageIndex,\n        bottomOffset = target.bottomOffset,\n        leftOffset = target.leftOffset,\n        scaleTo = target.scaleTo;\n      onJumpToDest(pageIndex, bottomOffset, leftOffset, scaleTo);\n    });\n  };\n  var isRenderable = !!(annotation.url || annotation.dest || annotation.action || annotation.unsafeUrl);\n  var attrs = {};\n  if (annotation.url || annotation.unsafeUrl) {\n    var targetUrl = sanitizeUrl(annotation.url || annotation.unsafeUrl, '');\n    if (targetUrl) {\n      attrs = {\n        'data-target': 'external',\n        href: targetUrl,\n        rel: 'noopener noreferrer nofollow',\n        target: annotation.newWindow ? '_blank' : '',\n        title: targetUrl\n      };\n    } else {\n      isRenderable = false;\n    }\n  } else {\n    attrs = {\n      href: '',\n      'data-annotation-link': annotation.id,\n      onClick: link\n    };\n  }\n  var title = outlines && outlines.length && annotation.dest && typeof annotation.dest === 'string' ? (_b = outlines.find(function (item) {\n    return item.dest === annotation.dest;\n  })) === null || _b === void 0 ? void 0 : _b.title : '';\n  if (title) {\n    attrs = Object.assign({}, attrs, {\n      title: title,\n      'aria-label': title\n    });\n  }\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: false,\n    ignoreBorder: false,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--link\",\n      \"data-annotation-id\": annotation.id,\n      \"data-testid\": \"core__annotation--link-\".concat(annotation.id)\n    }), React__namespace.createElement(\"a\", __assign({}, attrs)));\n  });\n};\nvar Polygon = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  var rect = annotation.rect;\n  var width = rect[2] - rect[0];\n  var height = rect[3] - rect[1];\n  var borderWidth = annotation.borderStyle.width;\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--polygon\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), annotation.vertices && annotation.vertices.length && React__namespace.createElement(\"svg\", {\n      height: \"\".concat(height, \"px\"),\n      preserveAspectRatio: \"none\",\n      version: \"1.1\",\n      viewBox: \"0 0 \".concat(width, \" \").concat(height),\n      width: \"\".concat(width, \"px\")\n    }, React__namespace.createElement(\"polygon\", {\n      fill: \"none\",\n      stroke: \"transparent\",\n      strokeWidth: borderWidth || 1,\n      points: annotation.vertices.map(function (item) {\n        return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y);\n      }).join(' ')\n    })), props.slot.children);\n  });\n};\nvar Polyline = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  var rect = annotation.rect;\n  var width = rect[2] - rect[0];\n  var height = rect[3] - rect[1];\n  var borderWidth = annotation.borderStyle.width;\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--polyline\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), annotation.vertices && annotation.vertices.length && React__namespace.createElement(\"svg\", {\n      height: \"\".concat(height, \"px\"),\n      preserveAspectRatio: \"none\",\n      version: \"1.1\",\n      viewBox: \"0 0 \".concat(width, \" \").concat(height),\n      width: \"\".concat(width, \"px\")\n    }, React__namespace.createElement(\"polyline\", {\n      fill: \"none\",\n      stroke: \"transparent\",\n      strokeWidth: borderWidth || 1,\n      points: annotation.vertices.map(function (item) {\n        return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y);\n      }).join(' ')\n    })), props.slot.children);\n  });\n};\nvar Square = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  var rect = annotation.rect;\n  var width = rect[2] - rect[0];\n  var height = rect[3] - rect[1];\n  var borderWidth = annotation.borderStyle.width;\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--square\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), React__namespace.createElement(\"svg\", {\n      height: \"\".concat(height, \"px\"),\n      preserveAspectRatio: \"none\",\n      version: \"1.1\",\n      viewBox: \"0 0 \".concat(width, \" \").concat(height),\n      width: \"\".concat(width, \"px\")\n    }, React__namespace.createElement(\"rect\", {\n      height: height - borderWidth,\n      fill: \"none\",\n      stroke: \"transparent\",\n      strokeWidth: borderWidth || 1,\n      x: borderWidth / 2,\n      y: borderWidth / 2,\n      width: width - borderWidth\n    })), props.slot.children);\n  });\n};\nvar Squiggly = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--squiggly\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), props.slot.children);\n  });\n};\nvar Stamp = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--stamp\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), props.slot.children);\n  });\n};\nvar StrikeOut = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--strike-out\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), props.slot.children);\n  });\n};\nvar CommentIcon = function () {\n  return React__namespace.createElement(Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25\"\n  }));\n};\nvar HelpIcon = function () {\n  return React__namespace.createElement(Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M21.423 5.406L17.415 9.414\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M14.587 6.585L18.607 2.565\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M5.405 21.424L9.413 17.416\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M6.585 14.588L2.577 18.596\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M18.602 21.419L14.595 17.412\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M17.419 14.58L21.428 18.589\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M2.582 5.399L6.588 9.406\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M9.421 6.581L5.412 2.572\"\n  }));\n};\nvar KeyIcon = function () {\n  return React__namespace.createElement(Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z\"\n  }));\n};\nvar NoteIcon = function () {\n  return React__namespace.createElement(Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M6 4.5L6 0.5\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M18 4.5L18 0.5\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M10 4.5L10 0.5\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M14 4.5L14 0.5\"\n  }));\n};\nvar ParagraphIcon = function () {\n  return React__namespace.createElement(Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M17.5 0.498L17.5 23.498\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M10.5 0.498L10.5 23.498\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M23.5.5H6.5a6,6,0,0,0,0,12h4\"\n  }));\n};\nvar TriangleIcon = function () {\n  return React__namespace.createElement(Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z\"\n  }));\n};\nvar Text = function (_a) {\n  var annotation = _a.annotation,\n    childAnnotation = _a.childAnnotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  var name = annotation.name ? annotation.name.toLowerCase() : '';\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: false,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--text\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), name && React__namespace.createElement(\"div\", {\n      className: \"rpv-core__annotation-text-icon\"\n    }, name === 'check' && React__namespace.createElement(CheckIcon, null), name === 'comment' && React__namespace.createElement(CommentIcon, null), name === 'help' && React__namespace.createElement(HelpIcon, null), name === 'insert' && React__namespace.createElement(TriangleIcon, null), name === 'key' && React__namespace.createElement(KeyIcon, null), name === 'note' && React__namespace.createElement(NoteIcon, null), (name === 'newparagraph' || name === 'paragraph') && React__namespace.createElement(ParagraphIcon, null)), props.slot.children), childAnnotation && childAnnotation.annotationType === exports.AnnotationType.Popup && props.popup.opened && React__namespace.createElement(Popup, {\n      annotation: childAnnotation,\n      page: page,\n      viewport: viewport\n    }));\n  });\n};\nvar Underline = function (_a) {\n  var annotation = _a.annotation,\n    page = _a.page,\n    viewport = _a.viewport;\n  var hasPopup = annotation.hasPopup === false;\n  var title = getTitle(annotation);\n  var contents = getContents(annotation);\n  var isRenderable = !!(annotation.hasPopup || title || contents);\n  return React__namespace.createElement(Annotation, {\n    annotation: annotation,\n    hasPopup: hasPopup,\n    ignoreBorder: true,\n    isRenderable: isRenderable,\n    page: page,\n    viewport: viewport\n  }, function (props) {\n    return React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, {\n      className: \"rpv-core__annotation rpv-core__annotation--underline\",\n      \"data-annotation-id\": annotation.id,\n      onClick: props.popup.toggleOnClick,\n      onMouseEnter: props.popup.openOnHover,\n      onMouseLeave: props.popup.closeOnHover\n    }), props.slot.children);\n  });\n};\nvar AnnotationLayerBody = function (_a) {\n  var annotations = _a.annotations,\n    doc = _a.doc,\n    outlines = _a.outlines,\n    page = _a.page,\n    pageIndex = _a.pageIndex,\n    plugins = _a.plugins,\n    rotation = _a.rotation,\n    scale = _a.scale,\n    onExecuteNamedAction = _a.onExecuteNamedAction,\n    onJumpToDest = _a.onJumpToDest;\n  var containerRef = React__namespace.useRef();\n  var viewport = page.getViewport({\n    rotation: rotation,\n    scale: scale\n  });\n  var clonedViewPort = viewport.clone({\n    dontFlip: true\n  });\n  var filterAnnotations = annotations.filter(function (annotation) {\n    return !annotation.parentId;\n  });\n  useIsomorphicLayoutEffect(function () {\n    var container = containerRef.current;\n    if (!container) {\n      return;\n    }\n    plugins.forEach(function (plugin) {\n      if (plugin.onAnnotationLayerRender) {\n        plugin.onAnnotationLayerRender({\n          annotations: filterAnnotations,\n          container: container,\n          pageIndex: pageIndex,\n          rotation: rotation,\n          scale: scale\n        });\n      }\n    });\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    ref: containerRef,\n    className: \"rpv-core__annotation-layer\",\n    \"data-testid\": \"core__annotation-layer-\".concat(pageIndex)\n  }, filterAnnotations.map(function (annotation) {\n    var childAnnotation = annotations.find(function (item) {\n      return item.parentId === annotation.id;\n    });\n    switch (annotation.annotationType) {\n      case exports.AnnotationType.Caret:\n        return React__namespace.createElement(Caret, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Circle:\n        return React__namespace.createElement(Circle, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.FileAttachment:\n        return React__namespace.createElement(FileAttachment, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.FreeText:\n        return React__namespace.createElement(FreeText, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Highlight:\n        return React__namespace.createElement(Highlight, {\n          key: annotation.id,\n          annotation: annotation,\n          childAnnotation: childAnnotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Ink:\n        return React__namespace.createElement(Ink, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Line:\n        return React__namespace.createElement(Line, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Link:\n        return React__namespace.createElement(Link, {\n          key: annotation.id,\n          annotation: annotation,\n          doc: doc,\n          outlines: outlines,\n          page: page,\n          viewport: clonedViewPort,\n          onExecuteNamedAction: onExecuteNamedAction,\n          onJumpToDest: onJumpToDest\n        });\n      case exports.AnnotationType.Polygon:\n        return React__namespace.createElement(Polygon, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Polyline:\n        return React__namespace.createElement(Polyline, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Popup:\n        return React__namespace.createElement(Popup, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Square:\n        return React__namespace.createElement(Square, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Squiggly:\n        return React__namespace.createElement(Squiggly, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Stamp:\n        return React__namespace.createElement(Stamp, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.StrikeOut:\n        return React__namespace.createElement(StrikeOut, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Text:\n        return React__namespace.createElement(Text, {\n          key: annotation.id,\n          annotation: annotation,\n          childAnnotation: childAnnotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      case exports.AnnotationType.Underline:\n        return React__namespace.createElement(Underline, {\n          key: annotation.id,\n          annotation: annotation,\n          page: page,\n          viewport: clonedViewPort\n        });\n      default:\n        return React__namespace.createElement(React__namespace.Fragment, {\n          key: annotation.id\n        });\n    }\n  }));\n};\nvar AnnotationLoader = function (_a) {\n  var page = _a.page,\n    renderAnnotations = _a.renderAnnotations;\n  var isMounted = useIsMounted();\n  var _b = React__namespace.useState({\n      loading: true,\n      annotations: []\n    }),\n    status = _b[0],\n    setStatus = _b[1];\n  React__namespace.useEffect(function () {\n    page.getAnnotations({\n      intent: 'display'\n    }).then(function (result) {\n      if (isMounted.current) {\n        setStatus({\n          loading: false,\n          annotations: result\n        });\n      }\n    });\n  }, []);\n  return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : renderAnnotations(status.annotations);\n};\nvar AnnotationLayer = function (_a) {\n  var doc = _a.doc,\n    outlines = _a.outlines,\n    page = _a.page,\n    pageIndex = _a.pageIndex,\n    plugins = _a.plugins,\n    rotation = _a.rotation,\n    scale = _a.scale,\n    onExecuteNamedAction = _a.onExecuteNamedAction,\n    onJumpToDest = _a.onJumpToDest;\n  var renderAnnotations = function (annotations) {\n    return React__namespace.createElement(AnnotationLayerBody, {\n      annotations: annotations,\n      doc: doc,\n      outlines: outlines,\n      page: page,\n      pageIndex: pageIndex,\n      plugins: plugins,\n      rotation: rotation,\n      scale: scale,\n      onExecuteNamedAction: onExecuteNamedAction,\n      onJumpToDest: onJumpToDest\n    });\n  };\n  return React__namespace.createElement(AnnotationLoader, {\n    page: page,\n    renderAnnotations: renderAnnotations\n  });\n};\nvar floatToRatio = function (x, limit) {\n  var _a, _b;\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  var y = 1 / x;\n  if (y > limit) {\n    return [1, limit];\n  }\n  if (Math.floor(y) === y) {\n    return [1, y];\n  }\n  var value = x > 1 ? y : x;\n  var a = 0;\n  var b = 1;\n  var c = 1;\n  var d = 1;\n  while (true) {\n    var numerator = a + c;\n    var denominator = b + d;\n    if (denominator > limit) {\n      break;\n    }\n    value <= numerator / denominator ? (_a = [numerator, denominator], c = _a[0], d = _a[1], _a) : (_b = [numerator, denominator], a = _b[0], b = _b[1], _b);\n  }\n  var middle = (a / b + c / d) / 2;\n  return value < middle ? value === x ? [a, b] : [b, a] : value === x ? [c, d] : [d, c];\n};\nvar roundToDivide = function (a, b) {\n  var remainder = a % b;\n  return remainder === 0 ? a : Math.floor(a - remainder);\n};\nvar MAX_CANVAS_SIZE = 4096 * 4096;\nvar CanvasLayer = function (_a) {\n  var canvasLayerRef = _a.canvasLayerRef,\n    height = _a.height,\n    page = _a.page,\n    pageIndex = _a.pageIndex,\n    plugins = _a.plugins,\n    rotation = _a.rotation,\n    scale = _a.scale,\n    width = _a.width,\n    onRenderCanvasCompleted = _a.onRenderCanvasCompleted;\n  var renderTask = React__namespace.useRef();\n  useIsomorphicLayoutEffect(function () {\n    var task = renderTask.current;\n    if (task) {\n      task.cancel();\n    }\n    var canvasEle = canvasLayerRef.current;\n    canvasEle.removeAttribute('data-testid');\n    plugins.forEach(function (plugin) {\n      if (plugin.onCanvasLayerRender) {\n        plugin.onCanvasLayerRender({\n          ele: canvasEle,\n          pageIndex: pageIndex,\n          rotation: rotation,\n          scale: scale,\n          status: exports.LayerRenderStatus.PreRender\n        });\n      }\n    });\n    var viewport = page.getViewport({\n      rotation: rotation,\n      scale: scale\n    });\n    var outputScale = window.devicePixelRatio || 1;\n    var maxScale = Math.sqrt(MAX_CANVAS_SIZE / (viewport.width * viewport.height));\n    var shouldScaleByCSS = outputScale > maxScale;\n    shouldScaleByCSS ? canvasEle.style.transform = \"scale(1, 1)\" : canvasEle.style.removeProperty('transform');\n    var possibleScale = Math.min(maxScale, outputScale);\n    var _a = floatToRatio(possibleScale, 8),\n      x = _a[0],\n      y = _a[1];\n    canvasEle.width = roundToDivide(viewport.width * possibleScale, x);\n    canvasEle.height = roundToDivide(viewport.height * possibleScale, x);\n    canvasEle.style.width = \"\".concat(roundToDivide(viewport.width, y), \"px\");\n    canvasEle.style.height = \"\".concat(roundToDivide(viewport.height, y), \"px\");\n    canvasEle.hidden = true;\n    var canvasContext = canvasEle.getContext('2d', {\n      alpha: false\n    });\n    var transform = shouldScaleByCSS || outputScale !== 1 ? [possibleScale, 0, 0, possibleScale, 0, 0] : null;\n    renderTask.current = page.render({\n      canvasContext: canvasContext,\n      transform: transform,\n      viewport: viewport\n    });\n    renderTask.current.promise.then(function () {\n      canvasEle.hidden = false;\n      canvasEle.setAttribute('data-testid', \"core__canvas-layer-\".concat(pageIndex));\n      plugins.forEach(function (plugin) {\n        if (plugin.onCanvasLayerRender) {\n          plugin.onCanvasLayerRender({\n            ele: canvasEle,\n            pageIndex: pageIndex,\n            rotation: rotation,\n            scale: scale,\n            status: exports.LayerRenderStatus.DidRender\n          });\n        }\n      });\n      onRenderCanvasCompleted();\n    }, function () {\n      onRenderCanvasCompleted();\n    });\n    return function () {\n      if (canvasEle) {\n        canvasEle.width = 0;\n        canvasEle.height = 0;\n      }\n    };\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-core__canvas-layer\",\n    style: {\n      height: \"\".concat(height, \"px\"),\n      width: \"\".concat(width, \"px\")\n    }\n  }, React__namespace.createElement(\"canvas\", {\n    ref: canvasLayerRef\n  }));\n};\nvar SvgLayer = function (_a) {\n  var height = _a.height,\n    page = _a.page,\n    rotation = _a.rotation,\n    scale = _a.scale,\n    width = _a.width;\n  var containerRef = React__namespace.useRef();\n  var empty = function () {\n    var containerEle = containerRef.current;\n    if (!containerEle) {\n      return;\n    }\n    containerEle.innerHTML = '';\n  };\n  useIsomorphicLayoutEffect(function () {\n    var containerEle = containerRef.current;\n    var viewport = page.getViewport({\n      rotation: rotation,\n      scale: scale\n    });\n    page.getOperatorList().then(function (operatorList) {\n      empty();\n      var graphic = new PdfJsApi__namespace.SVGGraphics(page.commonObjs, page.objs);\n      graphic.getSVG(operatorList, viewport).then(function (svg) {\n        svg.style.height = \"\".concat(height, \"px\");\n        svg.style.width = \"\".concat(width, \"px\");\n        containerEle.appendChild(svg);\n      });\n    });\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-core__svg-layer\",\n    ref: containerRef\n  });\n};\nvar TextLayer = function (_a) {\n  var containerRef = _a.containerRef,\n    page = _a.page,\n    pageIndex = _a.pageIndex,\n    plugins = _a.plugins,\n    rotation = _a.rotation,\n    scale = _a.scale,\n    onRenderTextCompleted = _a.onRenderTextCompleted;\n  var renderTask = React__namespace.useRef();\n  var empty = function () {\n    var containerEle = containerRef.current;\n    if (!containerEle) {\n      return;\n    }\n    var spans = [].slice.call(containerEle.querySelectorAll('.rpv-core__text-layer-text'));\n    spans.forEach(function (span) {\n      return containerEle.removeChild(span);\n    });\n    var breaks = [].slice.call(containerEle.querySelectorAll('br[role=\"presentation\"]'));\n    breaks.forEach(function (br) {\n      return containerEle.removeChild(br);\n    });\n  };\n  useIsomorphicLayoutEffect(function () {\n    var task = renderTask.current;\n    if (task) {\n      task.cancel();\n    }\n    var containerEle = containerRef.current;\n    if (!containerEle) {\n      return;\n    }\n    containerEle.removeAttribute('data-testid');\n    var viewport = page.getViewport({\n      rotation: rotation,\n      scale: scale\n    });\n    plugins.forEach(function (plugin) {\n      if (plugin.onTextLayerRender) {\n        plugin.onTextLayerRender({\n          ele: containerEle,\n          pageIndex: pageIndex,\n          scale: scale,\n          status: exports.LayerRenderStatus.PreRender\n        });\n      }\n    });\n    page.getTextContent().then(function (textContent) {\n      empty();\n      renderTask.current = PdfJsApi__namespace.renderTextLayer({\n        container: containerEle,\n        textContent: textContent,\n        textContentSource: textContent,\n        viewport: viewport\n      });\n      renderTask.current.promise.then(function () {\n        containerEle.setAttribute('data-testid', \"core__text-layer-\".concat(pageIndex));\n        var spans = [].slice.call(containerEle.children);\n        spans.forEach(function (span) {\n          if (!span.classList.contains('rpv-core__text-layer-text--not')) {\n            span.classList.add('rpv-core__text-layer-text');\n          }\n        });\n        plugins.forEach(function (plugin) {\n          if (plugin.onTextLayerRender) {\n            plugin.onTextLayerRender({\n              ele: containerEle,\n              pageIndex: pageIndex,\n              scale: scale,\n              status: exports.LayerRenderStatus.DidRender\n            });\n          }\n        });\n        onRenderTextCompleted();\n      }, function () {\n        containerEle.removeAttribute('data-testid');\n        onRenderTextCompleted();\n      });\n    });\n    return function () {\n      var _a;\n      empty();\n      (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n    };\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-core__text-layer\",\n    ref: containerRef\n  });\n};\nvar PageLayer = function (_a) {\n  var doc = _a.doc,\n    measureRef = _a.measureRef,\n    outlines = _a.outlines,\n    pageIndex = _a.pageIndex,\n    pageRotation = _a.pageRotation,\n    pageSize = _a.pageSize,\n    plugins = _a.plugins,\n    renderPage = _a.renderPage,\n    renderQueueKey = _a.renderQueueKey,\n    rotation = _a.rotation,\n    scale = _a.scale,\n    shouldRender = _a.shouldRender,\n    viewMode = _a.viewMode,\n    onExecuteNamedAction = _a.onExecuteNamedAction,\n    onJumpToDest = _a.onJumpToDest,\n    onRenderCompleted = _a.onRenderCompleted,\n    onRotatePage = _a.onRotatePage;\n  var isMounted = useIsMounted();\n  var _b = React__namespace.useState(null),\n    page = _b[0],\n    setPage = _b[1];\n  var _c = React__namespace.useState(false),\n    canvasLayerRendered = _c[0],\n    setCanvasLayerRendered = _c[1];\n  var _d = React__namespace.useState(false),\n    textLayerRendered = _d[0],\n    setTextLayerRendered = _d[1];\n  var canvasLayerRef = React__namespace.useRef();\n  var textLayerRef = React__namespace.useRef();\n  var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n  var scaledWidth = pageSize.pageWidth * scale;\n  var scaledHeight = pageSize.pageHeight * scale;\n  var w = isVertical ? scaledWidth : scaledHeight;\n  var h = isVertical ? scaledHeight : scaledWidth;\n  var rotationValue = (pageSize.rotation + rotation + pageRotation) % 360;\n  var renderQueueKeyRef = React__namespace.useRef(0);\n  var determinePageInstance = function () {\n    getPage(doc, pageIndex).then(function (pdfPage) {\n      if (isMounted.current) {\n        renderQueueKeyRef.current = renderQueueKey;\n        setPage(pdfPage);\n      }\n    });\n  };\n  var defaultPageRenderer = function (props) {\n    return React__namespace.createElement(React__namespace.Fragment, null, props.canvasLayer.children, props.textLayer.children, props.annotationLayer.children);\n  };\n  var renderPageLayer = renderPage || defaultPageRenderer;\n  var handleRenderCanvasCompleted = function () {\n    if (isMounted.current) {\n      setCanvasLayerRendered(true);\n    }\n  };\n  var handleRenderTextCompleted = function () {\n    if (isMounted.current) {\n      setTextLayerRendered(true);\n    }\n  };\n  React__namespace.useEffect(function () {\n    setPage(null);\n    setCanvasLayerRendered(false);\n    setTextLayerRendered(false);\n  }, [pageRotation, rotation, scale]);\n  React__namespace.useEffect(function () {\n    if (shouldRender && isMounted.current && !page) {\n      determinePageInstance();\n    }\n  }, [shouldRender, page]);\n  React__namespace.useEffect(function () {\n    if (canvasLayerRendered && textLayerRendered) {\n      if (renderQueueKey !== renderQueueKeyRef.current) {\n        setPage(null);\n        setCanvasLayerRendered(false);\n        setTextLayerRendered(false);\n      } else {\n        onRenderCompleted(pageIndex);\n      }\n    }\n  }, [canvasLayerRendered, textLayerRendered]);\n  return React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__page-layer': true,\n      'rpv-core__page-layer--dual': viewMode === exports.ViewMode.DualPage,\n      'rpv-core__page-layer--dual-cover': viewMode === exports.ViewMode.DualPageWithCover,\n      'rpv-core__page-layer--single': viewMode === exports.ViewMode.SinglePage\n    }),\n    \"data-testid\": \"core__page-layer-\".concat(pageIndex),\n    ref: measureRef,\n    style: {\n      height: \"\".concat(h, \"px\"),\n      width: \"\".concat(w, \"px\")\n    }\n  }, !page ? React__namespace.createElement(Spinner, {\n    testId: \"core__page-layer-loading-\".concat(pageIndex)\n  }) : React__namespace.createElement(React__namespace.Fragment, null, renderPageLayer({\n    annotationLayer: {\n      attrs: {},\n      children: React__namespace.createElement(AnnotationLayer, {\n        doc: doc,\n        outlines: outlines,\n        page: page,\n        pageIndex: pageIndex,\n        plugins: plugins,\n        rotation: rotationValue,\n        scale: scale,\n        onExecuteNamedAction: onExecuteNamedAction,\n        onJumpToDest: onJumpToDest\n      })\n    },\n    canvasLayer: {\n      attrs: {},\n      children: React__namespace.createElement(CanvasLayer, {\n        canvasLayerRef: canvasLayerRef,\n        height: h,\n        page: page,\n        pageIndex: pageIndex,\n        plugins: plugins,\n        rotation: rotationValue,\n        scale: scale,\n        width: w,\n        onRenderCanvasCompleted: handleRenderCanvasCompleted\n      })\n    },\n    canvasLayerRendered: canvasLayerRendered,\n    doc: doc,\n    height: h,\n    pageIndex: pageIndex,\n    rotation: rotationValue,\n    scale: scale,\n    svgLayer: {\n      attrs: {},\n      children: React__namespace.createElement(SvgLayer, {\n        height: h,\n        page: page,\n        rotation: rotationValue,\n        scale: scale,\n        width: w\n      })\n    },\n    textLayer: {\n      attrs: {},\n      children: React__namespace.createElement(TextLayer, {\n        containerRef: textLayerRef,\n        page: page,\n        pageIndex: pageIndex,\n        plugins: plugins,\n        rotation: rotationValue,\n        scale: scale,\n        onRenderTextCompleted: handleRenderTextCompleted\n      })\n    },\n    textLayerRendered: textLayerRendered,\n    width: w,\n    markRendered: onRenderCompleted,\n    onRotatePage: function (direction) {\n      return onRotatePage(pageIndex, direction);\n    }\n  }), plugins.map(function (plugin, idx) {\n    return plugin.renderPageLayer ? React__namespace.createElement(React__namespace.Fragment, {\n      key: idx\n    }, plugin.renderPageLayer({\n      canvasLayerRef: canvasLayerRef,\n      canvasLayerRendered: canvasLayerRendered,\n      doc: doc,\n      height: h,\n      pageIndex: pageIndex,\n      rotation: rotationValue,\n      scale: scale,\n      textLayerRef: textLayerRef,\n      textLayerRendered: textLayerRendered,\n      width: w\n    })) : React__namespace.createElement(React__namespace.Fragment, {\n      key: idx\n    });\n  })));\n};\nvar getFileExt = function (url) {\n  var str = url.split(/\\./).pop();\n  return str ? str.toLowerCase() : '';\n};\nvar rectReducer = function (state, action) {\n  var rect = action.rect;\n  return state.height !== rect.height || state.width !== rect.width ? rect : state;\n};\nvar useMeasureRect = function (_a) {\n  var elementRef = _a.elementRef;\n  var _b = React__namespace.useState(elementRef.current),\n    element = _b[0],\n    setElement = _b[1];\n  var initializedRectRef = React__namespace.useRef(false);\n  var _c = React__namespace.useReducer(rectReducer, {\n      height: 0,\n      width: 0\n    }),\n    rect = _c[0],\n    dispatch = _c[1];\n  useIsomorphicLayoutEffect(function () {\n    if (elementRef.current !== element) {\n      setElement(elementRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initializedRectRef.current) {\n      initializedRectRef.current = true;\n      var _a = element.getBoundingClientRect(),\n        height = _a.height,\n        width = _a.width;\n      dispatch({\n        rect: {\n          height: height,\n          width: width\n        }\n      });\n    }\n  }, [element]);\n  React__namespace.useEffect(function () {\n    if (!element) {\n      return;\n    }\n    var tracker = new ResizeObserver(function (entries, __) {\n      entries.forEach(function (entry) {\n        if (entry.target === element) {\n          var _a = entry.contentRect,\n            height = _a.height,\n            width = _a.width;\n          dispatch({\n            rect: {\n              height: height,\n              width: width\n            }\n          });\n        }\n      });\n    });\n    tracker.observe(element);\n    return function () {\n      tracker.unobserve(element);\n    };\n  }, [element]);\n  return rect;\n};\nvar ScrollDirection;\n(function (ScrollDirection) {\n  ScrollDirection[\"Horizontal\"] = \"Horizontal\";\n  ScrollDirection[\"Vertical\"] = \"Vertical\";\n  ScrollDirection[\"Both\"] = \"Both\";\n})(ScrollDirection || (ScrollDirection = {}));\nvar easeOutQuart = function (t) {\n  return 1 - Math.pow(1 - t, 4);\n};\nvar EPS = 0.0001;\nvar smoothScroll = function (ele, scrollDirection, targetPosition, duration, easing, onReachTarget) {\n  if (easing === void 0) {\n    easing = function (t) {\n      return t;\n    };\n  }\n  if (onReachTarget === void 0) {\n    onReachTarget = function () {};\n  }\n  var top = 0;\n  var left = 0;\n  switch (scrollDirection) {\n    case ScrollDirection.Horizontal:\n      left = ele.scrollLeft;\n      top = 0;\n    case ScrollDirection.Both:\n      left = ele.scrollLeft;\n      top = ele.scrollTop;\n      break;\n    case ScrollDirection.Vertical:\n    default:\n      left = 0;\n      top = ele.scrollTop;\n      break;\n  }\n  if (top === targetPosition.top && scrollDirection === ScrollDirection.Vertical) {\n    return;\n  }\n  if (left === targetPosition.left && scrollDirection === ScrollDirection.Horizontal) {\n    return;\n  }\n  var startTime = -1;\n  var requestId;\n  var offset = {\n    left: left - targetPosition.left,\n    top: top - targetPosition.top\n  };\n  var loop = function (currentTime) {\n    if (startTime === -1) {\n      startTime = currentTime;\n    }\n    var time = currentTime - startTime;\n    var percent = Math.min(time / duration, 1);\n    var easedPercent = easing(percent);\n    var updatePosition = {\n      left: left - offset.left * easedPercent,\n      top: top - offset.top * easedPercent\n    };\n    switch (scrollDirection) {\n      case ScrollDirection.Horizontal:\n        ele.scrollLeft = updatePosition.left;\n        break;\n      case ScrollDirection.Both:\n        ele.scrollLeft = updatePosition.left;\n        ele.scrollTop = updatePosition.top;\n        break;\n      case ScrollDirection.Vertical:\n      default:\n        ele.scrollTop = updatePosition.top;\n        break;\n    }\n    if (Math.abs(updatePosition.top - targetPosition.top) <= EPS && Math.abs(updatePosition.left - targetPosition.left) <= EPS) {\n      onReachTarget();\n    }\n    if (time < duration) {\n      requestId = window.requestAnimationFrame(loop);\n    } else {\n      window.cancelAnimationFrame(requestId);\n    }\n  };\n  requestId = window.requestAnimationFrame(loop);\n};\nvar useRafState = function (initialState) {\n  var isMounted = useIsMounted();\n  var rafRef = React__namespace.useRef(0);\n  var _a = React__namespace.useState(initialState),\n    state = _a[0],\n    setState = _a[1];\n  var setRafState = React__namespace.useCallback(function (value) {\n    cancelAnimationFrame(rafRef.current);\n    rafRef.current = requestAnimationFrame(function () {\n      isMounted.current && setState(value);\n    });\n  }, []);\n  React__namespace.useEffect(function () {\n    return function () {\n      cancelAnimationFrame(rafRef.current);\n    };\n  }, []);\n  return [state, setRafState];\n};\nvar ZERO_OFFSET$6 = {\n  left: 0,\n  top: 0\n};\nvar SCROLL_EVENT_OPTIONS = {\n  capture: false,\n  passive: true\n};\nvar SCROLL_DURATION = 400;\nvar useScroll = function (_a) {\n  var elementRef = _a.elementRef,\n    isRtl = _a.isRtl,\n    scrollDirection = _a.scrollDirection,\n    onSmoothScroll = _a.onSmoothScroll;\n  var _b = useRafState(ZERO_OFFSET$6),\n    scrollOffset = _b[0],\n    setScrollOffset = _b[1];\n  var _c = React__namespace.useState(elementRef.current),\n    element = _c[0],\n    setElement = _c[1];\n  var factor = isRtl ? -1 : 1;\n  var latestRef = React__namespace.useRef(scrollDirection);\n  latestRef.current = scrollDirection;\n  var handleSmoothScrollingComplete = React__namespace.useCallback(function () {\n    return onSmoothScroll(false);\n  }, []);\n  var handleScroll = React__namespace.useCallback(function () {\n    if (!element) {\n      return;\n    }\n    switch (latestRef.current) {\n      case ScrollDirection.Horizontal:\n        setScrollOffset({\n          left: factor * element.scrollLeft,\n          top: 0\n        });\n        break;\n      case ScrollDirection.Both:\n        setScrollOffset({\n          left: factor * element.scrollLeft,\n          top: element.scrollTop\n        });\n        break;\n      case ScrollDirection.Vertical:\n      default:\n        setScrollOffset({\n          left: 0,\n          top: element.scrollTop\n        });\n        break;\n    }\n  }, [element]);\n  useIsomorphicLayoutEffect(function () {\n    setElement(elementRef.current);\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (!element) {\n      return;\n    }\n    element.addEventListener('scroll', handleScroll, SCROLL_EVENT_OPTIONS);\n    return function () {\n      element.removeEventListener('scroll', handleScroll, SCROLL_EVENT_OPTIONS);\n    };\n  }, [element]);\n  var scrollTo = React__namespace.useCallback(function (targetPosition, withSmoothScroll) {\n    var ele = elementRef.current;\n    if (!ele) {\n      return;\n    }\n    var updatePosition = {\n      left: 0,\n      top: 0\n    };\n    switch (latestRef.current) {\n      case ScrollDirection.Horizontal:\n        updatePosition.left = factor * targetPosition.left;\n        break;\n      case ScrollDirection.Both:\n        updatePosition.left = factor * targetPosition.left;\n        updatePosition.top = targetPosition.top;\n        break;\n      case ScrollDirection.Vertical:\n      default:\n        updatePosition.top = targetPosition.top;\n        break;\n    }\n    if (withSmoothScroll) {\n      onSmoothScroll(true);\n      smoothScroll(ele, latestRef.current, updatePosition, SCROLL_DURATION, easeOutQuart, handleSmoothScrollingComplete);\n    } else {\n      switch (latestRef.current) {\n        case ScrollDirection.Horizontal:\n          ele.scrollLeft = updatePosition.left;\n          break;\n        case ScrollDirection.Both:\n          ele.scrollLeft = updatePosition.left;\n          ele.scrollTop = updatePosition.top;\n          break;\n        case ScrollDirection.Vertical:\n        default:\n          ele.scrollTop = updatePosition.top;\n          break;\n      }\n    }\n  }, [elementRef]);\n  return {\n    scrollOffset: scrollOffset,\n    scrollTo: scrollTo\n  };\n};\nvar clamp = function (min, max, value) {\n  return Math.max(min, Math.min(value, max));\n};\nvar indexOfMax = function (arr) {\n  return arr.reduce(function (prev, curr, i, a) {\n    return curr > a[prev] ? i : prev;\n  }, 0);\n};\nvar buildContainerStyles = function (totalSize, scrollMode) {\n  switch (scrollMode) {\n    case exports.ScrollMode.Horizontal:\n      return {\n        position: 'relative',\n        height: '100%',\n        width: \"\".concat(totalSize.width, \"px\")\n      };\n    case exports.ScrollMode.Vertical:\n    default:\n      return {\n        position: 'relative',\n        height: \"\".concat(totalSize.height, \"px\"),\n        width: '100%'\n      };\n  }\n};\nvar buildItemContainerStyles = function (item, parentRect, scrollMode) {\n  return scrollMode !== exports.ScrollMode.Page ? {} : {\n    height: \"\".concat(parentRect.height, \"px\"),\n    width: '100%',\n    position: 'absolute',\n    top: 0,\n    transform: \"translateY(\".concat(item.start.top, \"px)\")\n  };\n};\nvar hasDifferentSizes = function (sizes) {\n  var numberOfItems = sizes.length;\n  if (numberOfItems === 1) {\n    return false;\n  }\n  for (var i = 1; i < numberOfItems; i++) {\n    if (sizes[i].height !== sizes[0].height || sizes[i].width !== sizes[0].width) {\n      return true;\n    }\n  }\n  return false;\n};\nvar getMinWidthOfCover = function (sizes, viewMode) {\n  if (viewMode !== exports.ViewMode.DualPageWithCover) {\n    return 0;\n  }\n  if (!hasDifferentSizes(sizes)) {\n    return 2 * sizes[0].width;\n  }\n  var chunkWidths = chunk(sizes.slice(1), 2).map(function (eachChunk) {\n    return eachChunk.length === 2 ? eachChunk[0].width + eachChunk[1].width : eachChunk[0].width;\n  });\n  var widths = [sizes[0].width].concat(chunkWidths);\n  return Math.max.apply(Math, widths);\n};\nvar buildItemStyles = function (item, isRtl, sizes, viewMode, scrollMode) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  var sideProperty = isRtl ? 'right' : 'left';\n  var factor = isRtl ? -1 : 1;\n  var numberOfItems = sizes.length;\n  var left = item.start.left * factor;\n  var _h = item.size,\n    height = _h.height,\n    width = _h.width;\n  if (viewMode === exports.ViewMode.DualPageWithCover) {\n    var transformTop = scrollMode === exports.ScrollMode.Page ? 0 : item.start.top;\n    if (item.index === 0 || numberOfItems % 2 === 0 && item.index === numberOfItems - 1) {\n      return _a = {\n        height: \"\".concat(height, \"px\"),\n        minWidth: \"\".concat(getMinWidthOfCover(sizes, viewMode), \"px\"),\n        width: '100%'\n      }, _a[sideProperty] = 0, _a.position = 'absolute', _a.top = 0, _a.transform = \"translate(\".concat(left, \"px, \").concat(transformTop, \"px)\"), _a;\n    }\n    return _b = {\n      height: \"\".concat(height, \"px\"),\n      width: \"\".concat(width, \"px\")\n    }, _b[sideProperty] = 0, _b.position = 'absolute', _b.top = 0, _b.transform = \"translate(\".concat(left, \"px, \").concat(transformTop, \"px)\"), _b;\n  }\n  if (viewMode === exports.ViewMode.DualPage) {\n    return _c = {\n      height: \"\".concat(height, \"px\"),\n      width: \"\".concat(width, \"px\")\n    }, _c[sideProperty] = 0, _c.position = 'absolute', _c.top = 0, _c.transform = \"translate(\".concat(left, \"px, \").concat(scrollMode === exports.ScrollMode.Page ? 0 : item.start.top, \"px)\"), _c;\n  }\n  switch (scrollMode) {\n    case exports.ScrollMode.Horizontal:\n      return _d = {\n        height: '100%',\n        width: \"\".concat(width, \"px\")\n      }, _d[sideProperty] = 0, _d.position = 'absolute', _d.top = 0, _d.transform = \"translateX(\".concat(left, \"px)\"), _d;\n    case exports.ScrollMode.Page:\n      return _e = {\n        height: \"\".concat(height, \"px\"),\n        width: \"\".concat(width, \"px\")\n      }, _e[sideProperty] = 0, _e.position = 'absolute', _e.top = 0, _e;\n    case exports.ScrollMode.Wrapped:\n      return _f = {\n        height: \"\".concat(height, \"px\"),\n        width: \"\".concat(width, \"px\")\n      }, _f[sideProperty] = 0, _f.position = 'absolute', _f.top = 0, _f.transform = \"translate(\".concat(left, \"px, \").concat(item.start.top, \"px)\"), _f;\n    case exports.ScrollMode.Vertical:\n    default:\n      return _g = {\n        height: \"\".concat(height, \"px\"),\n        width: '100%'\n      }, _g[sideProperty] = 0, _g.position = 'absolute', _g.top = 0, _g.transform = \"translateY(\".concat(item.start.top, \"px)\"), _g;\n  }\n};\nvar findNearest = function (low, high, value, getItemValue) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getItemValue(middle);\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n  return low > 0 ? low - 1 : 0;\n};\nvar calculateRange = function (scrollDirection, measurements, outerSize, scrollOffset) {\n  var currentOffset = 0;\n  switch (scrollDirection) {\n    case ScrollDirection.Horizontal:\n      currentOffset = scrollOffset.left;\n      break;\n    case ScrollDirection.Vertical:\n    default:\n      currentOffset = scrollOffset.top;\n      break;\n  }\n  var size = measurements.length - 1;\n  var getOffset = function (index) {\n    switch (scrollDirection) {\n      case ScrollDirection.Horizontal:\n        return measurements[index].start.left;\n      case ScrollDirection.Both:\n      case ScrollDirection.Vertical:\n      default:\n        return measurements[index].start.top;\n    }\n  };\n  var start = findNearest(0, size, currentOffset, getOffset);\n  if (scrollDirection === ScrollDirection.Both) {\n    var startTop = measurements[start].start.top;\n    while (start - 1 >= 0 && measurements[start - 1].start.top === startTop && measurements[start - 1].start.left >= scrollOffset.left) {\n      start--;\n    }\n  }\n  var end = start;\n  while (end <= size) {\n    var topLeftCorner = {\n      top: measurements[end].start.top - scrollOffset.top,\n      left: measurements[end].start.left - scrollOffset.left\n    };\n    var visibleSize = {\n      height: outerSize.height - topLeftCorner.top,\n      width: outerSize.width - topLeftCorner.left\n    };\n    if (scrollDirection === ScrollDirection.Horizontal && visibleSize.width < 0) {\n      break;\n    }\n    if (scrollDirection === ScrollDirection.Vertical && visibleSize.height < 0) {\n      break;\n    }\n    if (scrollDirection === ScrollDirection.Both && (visibleSize.width < 0 || visibleSize.height < 0)) {\n      break;\n    }\n    end++;\n  }\n  return {\n    start: start,\n    end: end\n  };\n};\nvar ZERO_OFFSET$5 = {\n  left: 0,\n  top: 0\n};\nvar measure = function (numberOfItems, parentRect, sizes, scrollMode) {\n  var measurements = [];\n  var totalWidth = 0;\n  var firstOfRow = {\n    left: 0,\n    top: 0\n  };\n  var maxHeight = 0;\n  var start = ZERO_OFFSET$5;\n  for (var i = 0; i < numberOfItems; i++) {\n    var size = sizes[i];\n    if (i === 0) {\n      totalWidth = size.width;\n      firstOfRow = {\n        left: 0,\n        top: 0\n      };\n      maxHeight = size.height;\n    } else {\n      switch (scrollMode) {\n        case exports.ScrollMode.Wrapped:\n          totalWidth += size.width;\n          if (totalWidth < parentRect.width) {\n            start = {\n              left: measurements[i - 1].end.left,\n              top: firstOfRow.top\n            };\n            maxHeight = Math.max(maxHeight, size.height);\n          } else {\n            totalWidth = size.width;\n            start = {\n              left: firstOfRow.left,\n              top: firstOfRow.top + maxHeight\n            };\n            firstOfRow = {\n              left: start.left,\n              top: start.top\n            };\n            maxHeight = size.height;\n          }\n          break;\n        case exports.ScrollMode.Horizontal:\n        case exports.ScrollMode.Vertical:\n        default:\n          start = measurements[i - 1].end;\n          break;\n      }\n    }\n    var end = {\n      left: start.left + size.width,\n      top: start.top + size.height\n    };\n    measurements[i] = {\n      index: i,\n      start: start,\n      size: size,\n      end: end,\n      visibility: -1\n    };\n  }\n  return measurements;\n};\nvar ZERO_OFFSET$4 = {\n  left: 0,\n  top: 0\n};\nvar measureDualPage = function (numberOfItems, parentRect, sizes, scrollMode) {\n  var measurements = [];\n  var top = 0;\n  var maxHeight = 0;\n  var start = ZERO_OFFSET$4;\n  for (var i = 0; i < numberOfItems; i++) {\n    var size = {\n      height: scrollMode === exports.ScrollMode.Page ? Math.max(parentRect.height, sizes[i].height) : sizes[i].height,\n      width: Math.max(parentRect.width / 2, sizes[i].width)\n    };\n    if (scrollMode === exports.ScrollMode.Page) {\n      start = {\n        left: i % 2 === 0 ? 0 : size.width,\n        top: Math.floor(i / 2) * size.height\n      };\n    } else {\n      if (i % 2 === 0) {\n        top = top + maxHeight;\n        start = {\n          left: 0,\n          top: top\n        };\n        maxHeight = i === numberOfItems - 1 ? sizes[i].height : Math.max(sizes[i].height, sizes[i + 1].height);\n      } else {\n        start = {\n          left: measurements[i - 1].end.left,\n          top: top\n        };\n      }\n    }\n    var end = {\n      left: start.left + size.width,\n      top: start.top + size.height\n    };\n    measurements[i] = {\n      index: i,\n      start: start,\n      size: size,\n      end: end,\n      visibility: -1\n    };\n  }\n  return measurements;\n};\nvar ZERO_OFFSET$3 = {\n  left: 0,\n  top: 0\n};\nvar measureDualPageWithCover = function (numberOfItems, parentRect, sizes, scrollMode) {\n  var measurements = [];\n  var top = 0;\n  var maxHeight = 0;\n  var start = ZERO_OFFSET$3;\n  for (var i = 0; i < numberOfItems; i++) {\n    var size = i === 0 ? {\n      height: scrollMode === exports.ScrollMode.Page ? Math.max(parentRect.height, sizes[i].height) : sizes[i].height,\n      width: scrollMode === exports.ScrollMode.Page ? Math.max(parentRect.width, sizes[i].width) : sizes[i].width\n    } : {\n      height: scrollMode === exports.ScrollMode.Page ? Math.max(parentRect.height, sizes[i].height) : sizes[i].height,\n      width: Math.max(parentRect.width / 2, sizes[i].width)\n    };\n    if (scrollMode === exports.ScrollMode.Page) {\n      start = i === 0 ? ZERO_OFFSET$3 : {\n        left: i % 2 === 0 ? size.width : 0,\n        top: Math.floor((i - 1) / 2) * size.height + measurements[0].end.top\n      };\n    } else {\n      if (i === 0) {\n        start = ZERO_OFFSET$3;\n        top = sizes[0].height;\n        maxHeight = 0;\n      } else if (i % 2 === 1) {\n        top = top + maxHeight;\n        start = {\n          left: 0,\n          top: top\n        };\n        maxHeight = i === numberOfItems - 1 ? sizes[i].height : Math.max(sizes[i].height, sizes[i + 1].height);\n      } else {\n        start = {\n          left: measurements[i - 1].end.left,\n          top: top\n        };\n      }\n    }\n    var end = {\n      left: start.left + size.width,\n      top: start.top + size.height\n    };\n    measurements[i] = {\n      index: i,\n      start: start,\n      size: size,\n      end: end,\n      visibility: -1\n    };\n  }\n  return measurements;\n};\nvar ZERO_OFFSET$2 = {\n  left: 0,\n  top: 0\n};\nvar measureSinglePage = function (numberOfItems, parentRect, sizes) {\n  var measurements = [];\n  for (var i = 0; i < numberOfItems; i++) {\n    var size = {\n      height: Math.max(parentRect.height, sizes[i].height),\n      width: Math.max(parentRect.width, sizes[i].width)\n    };\n    var start = i === 0 ? ZERO_OFFSET$2 : measurements[i - 1].end;\n    var end = {\n      left: start.left + size.width,\n      top: start.top + size.height\n    };\n    measurements[i] = {\n      index: i,\n      start: start,\n      size: size,\n      end: end,\n      visibility: -1\n    };\n  }\n  return measurements;\n};\nvar ZERO_RECT = {\n  height: 0,\n  width: 0\n};\nvar ZERO_OFFSET$1 = {\n  left: 0,\n  top: 0\n};\nvar COMPARE_EPSILON = 0.000000000001;\nvar VIRTUAL_INDEX_ATTR = 'data-virtual-index';\nvar IO_THRESHOLD = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];\nvar useVirtual = function (_a) {\n  var isRtl = _a.isRtl,\n    numberOfItems = _a.numberOfItems,\n    parentRef = _a.parentRef,\n    setStartRange = _a.setStartRange,\n    setEndRange = _a.setEndRange,\n    sizes = _a.sizes,\n    scrollMode = _a.scrollMode,\n    viewMode = _a.viewMode;\n  var _b = React__namespace.useState(false),\n    isSmoothScrolling = _b[0],\n    setSmoothScrolling = _b[1];\n  var onSmoothScroll = React__namespace.useCallback(function (isSmoothScrolling) {\n    return setSmoothScrolling(isSmoothScrolling);\n  }, []);\n  var scrollModeRef = React__namespace.useRef(scrollMode);\n  scrollModeRef.current = scrollMode;\n  var viewModeRef = React__namespace.useRef(viewMode);\n  viewModeRef.current = viewMode;\n  var scrollDirection = scrollMode === exports.ScrollMode.Wrapped || viewMode === exports.ViewMode.DualPageWithCover || viewMode === exports.ViewMode.DualPage ? ScrollDirection.Both : scrollMode === exports.ScrollMode.Horizontal ? ScrollDirection.Horizontal : ScrollDirection.Vertical;\n  var _c = useScroll({\n      elementRef: parentRef,\n      isRtl: isRtl,\n      scrollDirection: scrollDirection,\n      onSmoothScroll: onSmoothScroll\n    }),\n    scrollOffset = _c.scrollOffset,\n    scrollTo = _c.scrollTo;\n  var parentRect = useMeasureRect({\n    elementRef: parentRef\n  });\n  var latestRef = React__namespace.useRef({\n    scrollOffset: ZERO_OFFSET$1,\n    measurements: [],\n    parentRect: ZERO_RECT,\n    totalSize: ZERO_RECT\n  });\n  latestRef.current.scrollOffset = scrollOffset;\n  latestRef.current.parentRect = parentRect;\n  var defaultVisibilities = React__namespace.useMemo(function () {\n    return Array(numberOfItems).fill(-1);\n  }, []);\n  var _d = React__namespace.useState(defaultVisibilities),\n    visibilities = _d[0],\n    setVisibilities = _d[1];\n  var intersectionTracker = React__namespace.useMemo(function () {\n    var io = new IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        var ratio = entry.isIntersecting ? entry.intersectionRatio : -1;\n        var target = entry.target;\n        var indexAttribute = target.getAttribute(VIRTUAL_INDEX_ATTR);\n        if (!indexAttribute) {\n          return;\n        }\n        var index = parseInt(indexAttribute, 10);\n        if (0 <= index && index < numberOfItems) {\n          setVisibilities(function (old) {\n            old[index] = ratio;\n            return __spreadArray([], old, true);\n          });\n        }\n      });\n    }, {\n      threshold: IO_THRESHOLD\n    });\n    return io;\n  }, []);\n  var measurements = React__namespace.useMemo(function () {\n    if (scrollMode === exports.ScrollMode.Page && viewMode === exports.ViewMode.SinglePage) {\n      return measureSinglePage(numberOfItems, parentRect, sizes);\n    }\n    if (viewMode === exports.ViewMode.DualPageWithCover) {\n      return measureDualPageWithCover(numberOfItems, parentRect, sizes, scrollMode);\n    }\n    if (viewMode === exports.ViewMode.DualPage) {\n      return measureDualPage(numberOfItems, parentRect, sizes, scrollMode);\n    }\n    return measure(numberOfItems, parentRect, sizes, scrollMode);\n  }, [scrollMode, sizes, viewMode, parentRect]);\n  var totalSize = measurements[numberOfItems - 1] ? {\n    height: measurements[numberOfItems - 1].end.top,\n    width: measurements[numberOfItems - 1].end.left\n  } : ZERO_RECT;\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n  var _e = calculateRange(scrollDirection, latestRef.current.measurements, latestRef.current.parentRect, latestRef.current.scrollOffset),\n    start = _e.start,\n    end = _e.end;\n  var visiblePageVisibilities = visibilities.slice(clamp(0, numberOfItems, start), clamp(0, numberOfItems, end));\n  var maxVisbilityItem = start + indexOfMax(visiblePageVisibilities);\n  maxVisbilityItem = clamp(0, numberOfItems - 1, maxVisbilityItem);\n  var maxVisbilityIndex = maxVisbilityItem;\n  var startRange = setStartRange(start);\n  var endRange = setEndRange(end);\n  switch (viewMode) {\n    case exports.ViewMode.DualPageWithCover:\n      if (maxVisbilityItem > 0) {\n        maxVisbilityIndex = maxVisbilityItem % 2 === 1 ? maxVisbilityItem : maxVisbilityItem - 1;\n      }\n      startRange = startRange === 0 ? 0 : startRange % 2 === 1 ? startRange : startRange - 1;\n      endRange = endRange % 2 === 1 ? endRange - 1 : endRange;\n      if (numberOfItems - endRange <= 2) {\n        endRange = numberOfItems - 1;\n      }\n      break;\n    case exports.ViewMode.DualPage:\n      maxVisbilityIndex = maxVisbilityItem % 2 === 0 ? maxVisbilityItem : maxVisbilityItem - 1;\n      startRange = startRange % 2 === 0 ? startRange : startRange - 1;\n      endRange = endRange % 2 === 1 ? endRange : endRange - 1;\n      break;\n    case exports.ViewMode.SinglePage:\n    default:\n      maxVisbilityIndex = maxVisbilityItem;\n      break;\n  }\n  var virtualItems = React__namespace.useMemo(function () {\n    var virtualItems = [];\n    var _loop_1 = function (i) {\n      var item = measurements[i];\n      var virtualItem = __assign(__assign({}, item), {\n        visibility: visibilities[i] !== undefined ? visibilities[i] : -1,\n        measureRef: function (ele) {\n          if (!ele) {\n            return;\n          }\n          ele.setAttribute(VIRTUAL_INDEX_ATTR, \"\".concat(i));\n          intersectionTracker.observe(ele);\n        }\n      });\n      virtualItems.push(virtualItem);\n    };\n    for (var i = startRange; i <= endRange; i++) {\n      _loop_1(i);\n    }\n    return virtualItems;\n  }, [startRange, endRange, visibilities, measurements]);\n  var scrollToItem = React__namespace.useCallback(function (index, offset) {\n    var measurements = latestRef.current.measurements;\n    var normalizedIndex = clamp(0, numberOfItems - 1, index);\n    var measurement = measurements[normalizedIndex];\n    var withOffset = scrollModeRef.current === exports.ScrollMode.Page ? ZERO_OFFSET$1 : offset;\n    if (measurement) {\n      scrollTo({\n        left: withOffset.left + measurement.start.left,\n        top: withOffset.top + measurement.start.top\n      }, true);\n    }\n  }, [scrollTo]);\n  var scrollToSmallestItemAbove = React__namespace.useCallback(function (index, offset) {\n    var measurements = latestRef.current.measurements;\n    var start = measurements[index].start;\n    var nextItem = measurements.find(function (item) {\n      return item.start.top - start.top > COMPARE_EPSILON;\n    });\n    if (!nextItem) {\n      return;\n    }\n    var nextIndex = nextItem.index;\n    switch (viewModeRef.current) {\n      case exports.ViewMode.DualPage:\n        nextIndex = nextIndex % 2 === 0 ? nextIndex : nextIndex + 1;\n        break;\n      case exports.ViewMode.DualPageWithCover:\n        nextIndex = nextIndex % 2 === 1 ? nextIndex : nextIndex + 1;\n        break;\n    }\n    scrollToItem(nextIndex, offset);\n  }, []);\n  var scrollToBiggestItemBelow = React__namespace.useCallback(function (index, offset) {\n    var measurements = latestRef.current.measurements;\n    var start = measurements[index].start;\n    var prevIndex = index;\n    var found = false;\n    for (var i = numberOfItems - 1; i >= 0; i--) {\n      if (start.top - measurements[i].start.top > COMPARE_EPSILON) {\n        found = true;\n        prevIndex = measurements[i].index;\n        break;\n      }\n    }\n    if (!found) {\n      return;\n    }\n    switch (viewModeRef.current) {\n      case exports.ViewMode.DualPage:\n        prevIndex = prevIndex % 2 === 0 ? prevIndex : prevIndex - 1;\n        break;\n      case exports.ViewMode.DualPageWithCover:\n        prevIndex = prevIndex % 2 === 0 ? prevIndex - 1 : prevIndex;\n        break;\n    }\n    if (prevIndex === index) {\n      prevIndex = index - 1;\n    }\n    scrollToItem(prevIndex, offset);\n  }, []);\n  var scrollToNextItem = React__namespace.useCallback(function (index, offset) {\n    if (viewModeRef.current === exports.ViewMode.DualPageWithCover || viewModeRef.current === exports.ViewMode.DualPage) {\n      scrollToSmallestItemAbove(index, offset);\n      return;\n    }\n    switch (scrollModeRef.current) {\n      case exports.ScrollMode.Wrapped:\n        scrollToSmallestItemAbove(index, offset);\n        break;\n      case exports.ScrollMode.Horizontal:\n      case exports.ScrollMode.Vertical:\n      default:\n        scrollToItem(index + 1, offset);\n        break;\n    }\n  }, []);\n  var scrollToPreviousItem = React__namespace.useCallback(function (index, offset) {\n    if (viewModeRef.current === exports.ViewMode.DualPageWithCover || viewModeRef.current === exports.ViewMode.DualPage) {\n      scrollToBiggestItemBelow(index, offset);\n      return;\n    }\n    switch (scrollModeRef.current) {\n      case exports.ScrollMode.Wrapped:\n        scrollToBiggestItemBelow(index, offset);\n        break;\n      case exports.ScrollMode.Horizontal:\n      case exports.ScrollMode.Vertical:\n      default:\n        scrollToItem(index - 1, offset);\n        break;\n    }\n  }, []);\n  var getContainerStyles = React__namespace.useCallback(function () {\n    return buildContainerStyles(totalSize, scrollModeRef.current);\n  }, [totalSize]);\n  var getItemContainerStyles = React__namespace.useCallback(function (item) {\n    return buildItemContainerStyles(item, parentRect, scrollModeRef.current);\n  }, [parentRect]);\n  var getItemStyles = React__namespace.useCallback(function (item) {\n    return buildItemStyles(item, isRtl, sizes, viewModeRef.current, scrollModeRef.current);\n  }, [isRtl, sizes]);\n  var zoom = React__namespace.useCallback(function (scale, index) {\n    var _a = latestRef.current,\n      measurements = _a.measurements,\n      scrollOffset = _a.scrollOffset;\n    var normalizedIndex = clamp(0, numberOfItems - 1, index);\n    var measurement = measurements[normalizedIndex];\n    if (measurement) {\n      var updateOffset = scrollModeRef.current === exports.ScrollMode.Page ? {\n        left: measurement.start.left,\n        top: measurement.start.top\n      } : {\n        left: scrollOffset.left * scale,\n        top: scrollOffset.top * scale\n      };\n      scrollTo(updateOffset, false);\n    }\n  }, []);\n  React__namespace.useEffect(function () {\n    return function () {\n      intersectionTracker.disconnect();\n    };\n  }, []);\n  return {\n    boundingClientRect: parentRect,\n    isSmoothScrolling: isSmoothScrolling,\n    startIndex: start,\n    startRange: startRange,\n    endIndex: end,\n    endRange: endRange,\n    maxVisbilityIndex: maxVisbilityIndex,\n    virtualItems: virtualItems,\n    getContainerStyles: getContainerStyles,\n    getItemContainerStyles: getItemContainerStyles,\n    getItemStyles: getItemStyles,\n    scrollToItem: scrollToItem,\n    scrollToNextItem: scrollToNextItem,\n    scrollToPreviousItem: scrollToPreviousItem,\n    zoom: zoom\n  };\n};\nvar SCROLL_BAR_WIDTH = 17;\nvar PAGE_PADDING = 8;\nvar calculateScale = function (container, pageHeight, pageWidth, scale, viewMode, numPages) {\n  var w = pageWidth;\n  switch (true) {\n    case viewMode === exports.ViewMode.DualPageWithCover && numPages >= 3:\n    case viewMode === exports.ViewMode.DualPage && numPages >= 3:\n      w = 2 * pageWidth;\n      break;\n    default:\n      w = pageWidth;\n      break;\n  }\n  switch (scale) {\n    case exports.SpecialZoomLevel.ActualSize:\n      return 1;\n    case exports.SpecialZoomLevel.PageFit:\n      return Math.min((container.clientWidth - SCROLL_BAR_WIDTH) / w, (container.clientHeight - 2 * PAGE_PADDING) / pageHeight);\n    case exports.SpecialZoomLevel.PageWidth:\n      return (container.clientWidth - SCROLL_BAR_WIDTH) / w;\n  }\n};\nvar flaternSingleOutline = function (outline) {\n  var result = [];\n  if (outline.items && outline.items.length > 0) {\n    result = result.concat(flaternOutlines(outline.items));\n  }\n  return result;\n};\nvar flaternOutlines = function (outlines) {\n  var result = [];\n  outlines.map(function (outline) {\n    result = result.concat(outline).concat(flaternSingleOutline(outline));\n  });\n  return result;\n};\nvar useOutlines = function (doc) {\n  var isMounted = useIsMounted();\n  var _a = React__namespace.useState([]),\n    outlines = _a[0],\n    setOutlines = _a[1];\n  React__namespace.useEffect(function () {\n    doc.getOutline().then(function (result) {\n      if (isMounted.current && result !== null) {\n        var items = flaternOutlines(result);\n        setOutlines(items);\n      }\n    });\n  }, []);\n  return outlines;\n};\nvar NUM_OVERSCAN_PAGES = 3;\nvar DEFAULT_PAGE_LAYOUT = {\n  buildPageStyles: function () {\n    return {};\n  },\n  transformSize: function (_a) {\n    var size = _a.size;\n    return size;\n  }\n};\nvar ZERO_OFFSET = {\n  left: 0,\n  top: 0\n};\nvar Inner = function (_a) {\n  var currentFile = _a.currentFile,\n    defaultScale = _a.defaultScale,\n    doc = _a.doc,\n    initialPage = _a.initialPage,\n    initialRotation = _a.initialRotation,\n    initialScale = _a.initialScale,\n    pageLayout = _a.pageLayout,\n    pageSizes = _a.pageSizes,\n    plugins = _a.plugins,\n    renderPage = _a.renderPage,\n    scrollMode = _a.scrollMode,\n    viewMode = _a.viewMode,\n    viewerState = _a.viewerState,\n    onDocumentLoad = _a.onDocumentLoad,\n    onOpenFile = _a.onOpenFile,\n    onPageChange = _a.onPageChange,\n    onRotate = _a.onRotate,\n    onRotatePage = _a.onRotatePage,\n    onZoom = _a.onZoom;\n  var numPages = doc.numPages;\n  var docId = doc.loadingTask.docId;\n  var l10n = React__namespace.useContext(LocalizationContext).l10n;\n  var themeContext = React__namespace.useContext(ThemeContext);\n  var isRtl = themeContext.direction === exports.TextDirection.RightToLeft;\n  var containerRef = React__namespace.useRef();\n  var pagesRef = React__namespace.useRef();\n  var _b = React__namespace.useState(initialPage),\n    currentPage = _b[0],\n    setCurrentPage = _b[1];\n  var mostRecentVisitedRef = React__namespace.useRef(null);\n  var _c = React__namespace.useState(initialRotation),\n    rotation = _c[0],\n    setRotation = _c[1];\n  var previousRotation = usePrevious(rotation);\n  var _d = React__namespace.useState(false),\n    pagesRotationChanged = _d[0],\n    setPagesRotationChanged = _d[1];\n  var _e = React__namespace.useState(new Map()),\n    pagesRotation = _e[0],\n    setPagesRotation = _e[1];\n  var _f = React__namespace.useState(scrollMode),\n    currentScrollMode = _f[0],\n    setCurrentScrollMode = _f[1];\n  var previousScrollMode = usePrevious(currentScrollMode);\n  var _g = React__namespace.useState(viewMode),\n    currentViewMode = _g[0],\n    setCurrentViewMode = _g[1];\n  var previousViewMode = usePrevious(currentViewMode);\n  var outlines = useOutlines(doc);\n  var _h = React__namespace.useState(initialScale),\n    scale = _h[0],\n    setScale = _h[1];\n  var previousScale = usePrevious(scale);\n  var stateRef = React__namespace.useRef(viewerState);\n  var keepSpecialZoomLevelRef = React__namespace.useRef(typeof defaultScale === 'string' ? defaultScale : null);\n  var _j = React__namespace.useState(-1),\n    renderPageIndex = _j[0],\n    setRenderPageIndex = _j[1];\n  var _k = React__namespace.useState(0),\n    renderQueueKey = _k[0],\n    setRenderQueueKey = _k[1];\n  var renderQueue = useRenderQueue({\n    doc: doc\n  });\n  React__namespace.useEffect(function () {\n    return function () {\n      clearPagesCache();\n    };\n  }, [docId]);\n  var layoutBuilder = React__namespace.useMemo(function () {\n    return Object.assign({}, DEFAULT_PAGE_LAYOUT, pageLayout);\n  }, []);\n  var sizes = React__namespace.useMemo(function () {\n    return Array(numPages).fill(0).map(function (_, pageIndex) {\n      var pageSize = [pageSizes[pageIndex].pageHeight, pageSizes[pageIndex].pageWidth];\n      var rect = Math.abs(rotation) % 180 === 0 ? {\n        height: pageSize[0],\n        width: pageSize[1]\n      } : {\n        height: pageSize[1],\n        width: pageSize[0]\n      };\n      var pageRect = {\n        height: rect.height * scale,\n        width: rect.width * scale\n      };\n      return layoutBuilder.transformSize({\n        numPages: numPages,\n        pageIndex: pageIndex,\n        size: pageRect\n      });\n    });\n  }, [rotation, scale]);\n  var setStartRange = React__namespace.useCallback(function (startIndex) {\n    return Math.max(startIndex - NUM_OVERSCAN_PAGES, 0);\n  }, []);\n  var setEndRange = React__namespace.useCallback(function (endIndex) {\n    return Math.min(endIndex + NUM_OVERSCAN_PAGES, numPages - 1);\n  }, [numPages]);\n  var virtualizer = useVirtual({\n    isRtl: isRtl,\n    numberOfItems: numPages,\n    parentRef: pagesRef,\n    scrollMode: currentScrollMode,\n    setStartRange: setStartRange,\n    setEndRange: setEndRange,\n    sizes: sizes,\n    viewMode: currentViewMode\n  });\n  var handlePagesResize = useDebounceCallback(function (_) {\n    if (keepSpecialZoomLevelRef.current) {\n      setRenderPageIndex(-1);\n      zoom(keepSpecialZoomLevelRef.current);\n    }\n  }, 200);\n  useTrackResize({\n    targetRef: pagesRef,\n    onResize: handlePagesResize\n  });\n  var setViewerState = function (viewerState) {\n    var newState = viewerState;\n    plugins.forEach(function (plugin) {\n      if (plugin.onViewerStateChange) {\n        newState = plugin.onViewerStateChange(newState);\n      }\n    });\n    stateRef.current = newState;\n  };\n  var getPagesContainer = function () {\n    return pagesRef.current;\n  };\n  var getViewerState = function () {\n    return stateRef.current;\n  };\n  var jumpToDestination = React__namespace.useCallback(function (pageIndex, bottomOffset, leftOffset, scaleTo) {\n    var pagesContainer = pagesRef.current;\n    var currentState = stateRef.current;\n    if (!pagesContainer || !currentState) {\n      return;\n    }\n    getPage(doc, pageIndex).then(function (page) {\n      var viewport = page.getViewport({\n        scale: 1\n      });\n      var top = 0;\n      var bottom = (typeof bottomOffset === 'function' ? bottomOffset(viewport.width, viewport.height) : bottomOffset) || 0;\n      var left = (typeof leftOffset === 'function' ? leftOffset(viewport.width, viewport.height) : leftOffset) || 0;\n      var updateScale = currentState.scale;\n      switch (scaleTo) {\n        case exports.SpecialZoomLevel.PageFit:\n          top = 0;\n          left = 0;\n          zoom(exports.SpecialZoomLevel.PageFit);\n          break;\n        case exports.SpecialZoomLevel.PageWidth:\n          updateScale = calculateScale(pagesContainer, pageSizes[pageIndex].pageHeight, pageSizes[pageIndex].pageWidth, exports.SpecialZoomLevel.PageWidth, viewMode, numPages);\n          top = (viewport.height - bottom) * updateScale;\n          left = left * updateScale;\n          zoom(updateScale);\n          break;\n        default:\n          top = (viewport.height - bottom) * updateScale;\n          left = left * updateScale;\n          break;\n      }\n      switch (currentState.scrollMode) {\n        case exports.ScrollMode.Horizontal:\n          virtualizer.scrollToItem(pageIndex, {\n            left: left,\n            top: 0\n          });\n          break;\n        case exports.ScrollMode.Vertical:\n        default:\n          virtualizer.scrollToItem(pageIndex, {\n            left: 0,\n            top: top\n          });\n          break;\n      }\n    });\n  }, []);\n  var jumpToNextPage = React__namespace.useCallback(function () {\n    virtualizer.scrollToNextItem(stateRef.current.pageIndex, ZERO_OFFSET);\n  }, []);\n  var jumpToPage = React__namespace.useCallback(function (pageIndex) {\n    if (0 <= pageIndex && pageIndex < numPages) {\n      virtualizer.scrollToItem(pageIndex, ZERO_OFFSET);\n    }\n  }, []);\n  var jumpToPreviousPage = React__namespace.useCallback(function () {\n    virtualizer.scrollToPreviousItem(stateRef.current.pageIndex, ZERO_OFFSET);\n  }, []);\n  var openFile = React__namespace.useCallback(function (file) {\n    if (getFileExt(file.name).toLowerCase() !== 'pdf') {\n      return;\n    }\n    new Promise(function (resolve) {\n      var reader = new FileReader();\n      reader.readAsArrayBuffer(file);\n      reader.onload = function () {\n        var bytes = new Uint8Array(reader.result);\n        resolve(bytes);\n      };\n    }).then(function (data) {\n      onOpenFile(file.name, data);\n    });\n  }, [onOpenFile]);\n  var rotate = React__namespace.useCallback(function (direction) {\n    var degrees = direction === exports.RotateDirection.Backward ? -90 : 90;\n    var currentRotation = stateRef.current.rotation;\n    var updateRotation = currentRotation === 360 || currentRotation === -360 ? degrees : currentRotation + degrees;\n    renderQueue.markNotRendered();\n    setRotation(updateRotation);\n    setViewerState(__assign(__assign({}, stateRef.current), {\n      rotation: updateRotation\n    }));\n    onRotate({\n      direction: direction,\n      doc: doc,\n      rotation: updateRotation\n    });\n  }, []);\n  var rotatePage = React__namespace.useCallback(function (pageIndex, direction) {\n    var degrees = direction === exports.RotateDirection.Backward ? -90 : 90;\n    var rotations = stateRef.current.pagesRotation;\n    var currentPageRotation = rotations.has(pageIndex) ? rotations.get(pageIndex) : initialRotation;\n    var finalRotation = currentPageRotation + degrees;\n    var updateRotations = rotations.set(pageIndex, finalRotation);\n    setPagesRotation(updateRotations);\n    setPagesRotationChanged(function (value) {\n      return !value;\n    });\n    setViewerState(__assign(__assign({}, stateRef.current), {\n      pagesRotation: updateRotations,\n      rotatedPage: pageIndex\n    }));\n    onRotatePage({\n      direction: direction,\n      doc: doc,\n      pageIndex: pageIndex,\n      rotation: finalRotation\n    });\n    renderQueue.markRendering(pageIndex);\n    setRenderPageIndex(pageIndex);\n  }, []);\n  var switchScrollMode = React__namespace.useCallback(function (scrollMode) {\n    setViewerState(__assign(__assign({}, stateRef.current), {\n      scrollMode: scrollMode\n    }));\n    setCurrentScrollMode(scrollMode);\n  }, []);\n  var switchViewMode = React__namespace.useCallback(function (viewMode) {\n    setViewerState(__assign(__assign({}, stateRef.current), {\n      viewMode: viewMode\n    }));\n    setCurrentViewMode(viewMode);\n  }, []);\n  var zoom = React__namespace.useCallback(function (newScale) {\n    var pagesEle = pagesRef.current;\n    var currentPage = stateRef.current.pageIndex;\n    if (currentPage < 0 || currentPage >= numPages) {\n      return;\n    }\n    var currentPageHeight = pageSizes[currentPage].pageHeight;\n    var currentPageWidth = pageSizes[currentPage].pageWidth;\n    var updateScale = pagesEle ? typeof newScale === 'string' ? calculateScale(pagesEle, currentPageHeight, currentPageWidth, newScale, stateRef.current.viewMode, numPages) : newScale : 1;\n    keepSpecialZoomLevelRef.current = typeof newScale === 'string' ? newScale : null;\n    if (updateScale === stateRef.current.scale) {\n      return;\n    }\n    setRenderQueueKey(function (key) {\n      return key + 1;\n    });\n    renderQueue.markNotRendered();\n    setScale(updateScale);\n    onZoom({\n      doc: doc,\n      scale: updateScale\n    });\n    setViewerState(__assign(__assign({}, stateRef.current), {\n      scale: updateScale\n    }));\n  }, []);\n  React__namespace.useEffect(function () {\n    var pluginMethods = {\n      getPagesContainer: getPagesContainer,\n      getViewerState: getViewerState,\n      jumpToDestination: jumpToDestination,\n      jumpToNextPage: jumpToNextPage,\n      jumpToPreviousPage: jumpToPreviousPage,\n      jumpToPage: jumpToPage,\n      openFile: openFile,\n      rotate: rotate,\n      rotatePage: rotatePage,\n      setViewerState: setViewerState,\n      switchScrollMode: switchScrollMode,\n      switchViewMode: switchViewMode,\n      zoom: zoom\n    };\n    plugins.forEach(function (plugin) {\n      if (plugin.install) {\n        plugin.install(pluginMethods);\n      }\n    });\n    return function () {\n      plugins.forEach(function (plugin) {\n        if (plugin.uninstall) {\n          plugin.uninstall(pluginMethods);\n        }\n      });\n    };\n  }, [docId]);\n  React__namespace.useEffect(function () {\n    onDocumentLoad({\n      doc: doc,\n      file: currentFile\n    });\n    plugins.forEach(function (plugin) {\n      plugin.onDocumentLoad && plugin.onDocumentLoad({\n        doc: doc,\n        file: currentFile\n      });\n    });\n  }, [docId]);\n  useIsomorphicLayoutEffect(function () {\n    var rect = virtualizer.boundingClientRect;\n    if (rect.height > 0 && rect.width > 0 && initialPage) {\n      jumpToPage(initialPage);\n    }\n  }, [docId, virtualizer.boundingClientRect]);\n  useIsomorphicLayoutEffect(function () {\n    var latestPage = stateRef.current.pageIndex;\n    if (latestPage > -1 && previousScrollMode !== currentScrollMode) {\n      virtualizer.scrollToItem(latestPage, ZERO_OFFSET);\n    }\n  }, [currentScrollMode]);\n  useIsomorphicLayoutEffect(function () {\n    var latestPage = stateRef.current.pageIndex;\n    if (latestPage > -1 && previousRotation !== rotation) {\n      virtualizer.scrollToItem(latestPage, ZERO_OFFSET);\n    }\n  }, [rotation]);\n  useIsomorphicLayoutEffect(function () {\n    if (previousScale != 0 && previousScale != stateRef.current.scale) {\n      virtualizer.zoom(stateRef.current.scale / previousScale, stateRef.current.pageIndex);\n    }\n  }, [scale]);\n  useIsomorphicLayoutEffect(function () {\n    if (previousViewMode === stateRef.current.viewMode) {\n      return;\n    }\n    var startRange = virtualizer.startRange,\n      endRange = virtualizer.endRange,\n      virtualItems = virtualizer.virtualItems;\n    renderQueue.markNotRendered();\n    renderQueue.setRange(startRange, endRange);\n    var _loop_1 = function (i) {\n      var item = virtualItems.find(function (item) {\n        return item.index === i;\n      });\n      if (item) {\n        renderQueue.setVisibility(i, item.visibility);\n      }\n    };\n    for (var i = startRange; i <= endRange; i++) {\n      _loop_1(i);\n    }\n    renderNextPage();\n  }, [currentViewMode]);\n  useIsomorphicLayoutEffect(function () {\n    var latestPage = stateRef.current.pageIndex;\n    if (latestPage > -1 && previousViewMode !== currentViewMode) {\n      virtualizer.scrollToItem(latestPage, ZERO_OFFSET);\n    }\n  }, [currentViewMode]);\n  React__namespace.useEffect(function () {\n    var isSmoothScrolling = virtualizer.isSmoothScrolling;\n    if (isSmoothScrolling) {\n      return;\n    }\n    if (mostRecentVisitedRef.current === null || mostRecentVisitedRef.current !== currentPage) {\n      mostRecentVisitedRef.current = currentPage;\n      onPageChange({\n        currentPage: currentPage,\n        doc: doc\n      });\n    }\n  }, [currentPage, virtualizer.isSmoothScrolling]);\n  React__namespace.useEffect(function () {\n    var startRange = virtualizer.startRange,\n      endRange = virtualizer.endRange,\n      maxVisbilityIndex = virtualizer.maxVisbilityIndex,\n      virtualItems = virtualizer.virtualItems;\n    var currentPage = maxVisbilityIndex;\n    setCurrentPage(currentPage);\n    setViewerState(__assign(__assign({}, stateRef.current), {\n      pageIndex: currentPage\n    }));\n    renderQueue.setRange(startRange, endRange);\n    var _loop_2 = function (i) {\n      var item = virtualItems.find(function (item) {\n        return item.index === i;\n      });\n      if (item) {\n        renderQueue.setVisibility(i, item.visibility);\n      }\n    };\n    for (var i = startRange; i <= endRange; i++) {\n      _loop_2(i);\n    }\n    renderNextPage();\n  }, [virtualizer.startRange, virtualizer.endRange, virtualizer.maxVisbilityIndex, pagesRotationChanged, rotation, scale]);\n  var handlePageRenderCompleted = React__namespace.useCallback(function (pageIndex) {\n    renderQueue.markRendered(pageIndex);\n    renderNextPage();\n  }, [renderQueueKey]);\n  var renderNextPage = function () {\n    var nextPage = renderQueue.getHighestPriorityPage();\n    if (nextPage > -1 && renderQueue.isInRange(nextPage)) {\n      renderQueue.markRendering(nextPage);\n      setRenderPageIndex(nextPage);\n    }\n  };\n  var executeNamedAction = function (action) {\n    var previousPage = currentPage - 1;\n    var nextPage = currentPage + 1;\n    switch (action) {\n      case 'FirstPage':\n        jumpToPage(0);\n        break;\n      case 'LastPage':\n        jumpToPage(numPages - 1);\n        break;\n      case 'NextPage':\n        nextPage < numPages && jumpToPage(nextPage);\n        break;\n      case 'PrevPage':\n        previousPage >= 0 && jumpToPage(previousPage);\n        break;\n    }\n  };\n  var renderViewer = React__namespace.useCallback(function () {\n    var virtualItems = virtualizer.virtualItems;\n    var chunks = [];\n    switch (currentViewMode) {\n      case exports.ViewMode.DualPage:\n        chunks = chunk(virtualItems, 2);\n        break;\n      case exports.ViewMode.DualPageWithCover:\n        if (virtualItems.length) {\n          chunks = virtualItems[0].index === 0 ? [[virtualItems[0]]].concat(chunk(virtualItems.slice(1), 2)) : chunk(virtualItems, 2);\n        }\n        break;\n      case exports.ViewMode.SinglePage:\n      default:\n        chunks = chunk(virtualItems, 1);\n        break;\n    }\n    var pageLabel = l10n && l10n.core ? l10n.core.pageLabel : 'Page {{pageIndex}}';\n    var slot = {\n      attrs: {\n        'data-testid': 'core__inner-container',\n        ref: containerRef,\n        style: {\n          height: '100%'\n        }\n      },\n      children: React__namespace.createElement(React__namespace.Fragment, null),\n      subSlot: {\n        attrs: {\n          'data-testid': 'core__inner-pages',\n          className: classNames({\n            'rpv-core__inner-pages': true,\n            'rpv-core__inner-pages--horizontal': currentScrollMode === exports.ScrollMode.Horizontal,\n            'rpv-core__inner-pages--rtl': isRtl,\n            'rpv-core__inner-pages--single': currentScrollMode === exports.ScrollMode.Page,\n            'rpv-core__inner-pages--vertical': currentScrollMode === exports.ScrollMode.Vertical,\n            'rpv-core__inner-pages--wrapped': currentScrollMode === exports.ScrollMode.Wrapped\n          }),\n          ref: pagesRef,\n          style: {\n            height: '100%',\n            position: 'relative'\n          }\n        },\n        children: React__namespace.createElement(\"div\", {\n          style: Object.assign({\n            '--scale-factor': scale\n          }, virtualizer.getContainerStyles())\n        }, chunks.map(function (items) {\n          return React__namespace.createElement(\"div\", {\n            className: classNames({\n              'rpv-core__inner-page-container': true,\n              'rpv-core__inner-page-container--single': currentScrollMode === exports.ScrollMode.Page\n            }),\n            style: virtualizer.getItemContainerStyles(items[0]),\n            key: \"\".concat(items[0].index, \"-\").concat(currentViewMode)\n          }, items.map(function (item) {\n            var isCover = currentViewMode === exports.ViewMode.DualPageWithCover && (item.index === 0 || numPages % 2 === 0 && item.index === numPages - 1);\n            return React__namespace.createElement(\"div\", {\n              \"aria-label\": pageLabel.replace('{{pageIndex}}', \"\".concat(item.index + 1)),\n              className: classNames({\n                'rpv-core__inner-page': true,\n                'rpv-core__inner-page--dual-even': currentViewMode === exports.ViewMode.DualPage && item.index % 2 === 0,\n                'rpv-core__inner-page--dual-odd': currentViewMode === exports.ViewMode.DualPage && item.index % 2 === 1,\n                'rpv-core__inner-page--dual-cover': isCover,\n                'rpv-core__inner-page--dual-cover-even': currentViewMode === exports.ViewMode.DualPageWithCover && !isCover && item.index % 2 === 0,\n                'rpv-core__inner-page--dual-cover-odd': currentViewMode === exports.ViewMode.DualPageWithCover && !isCover && item.index % 2 === 1,\n                'rpv-core__inner-page--single': currentViewMode === exports.ViewMode.SinglePage && currentScrollMode === exports.ScrollMode.Page\n              }),\n              role: \"region\",\n              key: \"\".concat(item.index, \"-\").concat(currentViewMode),\n              style: Object.assign({}, virtualizer.getItemStyles(item), layoutBuilder.buildPageStyles({\n                numPages: numPages,\n                pageIndex: item.index,\n                scrollMode: currentScrollMode,\n                viewMode: currentViewMode\n              }))\n            }, React__namespace.createElement(PageLayer, {\n              doc: doc,\n              measureRef: item.measureRef,\n              outlines: outlines,\n              pageIndex: item.index,\n              pageRotation: pagesRotation.has(item.index) ? pagesRotation.get(item.index) : 0,\n              pageSize: pageSizes[item.index],\n              plugins: plugins,\n              renderPage: renderPage,\n              renderQueueKey: renderQueueKey,\n              rotation: rotation,\n              scale: scale,\n              shouldRender: renderPageIndex === item.index,\n              viewMode: currentViewMode,\n              onExecuteNamedAction: executeNamedAction,\n              onJumpToDest: jumpToDestination,\n              onRenderCompleted: handlePageRenderCompleted,\n              onRotatePage: rotatePage\n            }));\n          }));\n        }))\n      }\n    };\n    plugins.forEach(function (plugin) {\n      if (plugin.renderViewer) {\n        slot = plugin.renderViewer({\n          containerRef: containerRef,\n          doc: doc,\n          pagesContainerRef: pagesRef,\n          pagesRotation: pagesRotation,\n          pageSizes: pageSizes,\n          rotation: rotation,\n          slot: slot,\n          themeContext: themeContext,\n          jumpToPage: jumpToPage,\n          openFile: openFile,\n          rotate: rotate,\n          rotatePage: rotatePage,\n          switchScrollMode: switchScrollMode,\n          switchViewMode: switchViewMode,\n          zoom: zoom\n        });\n      }\n    });\n    return slot;\n  }, [plugins, virtualizer]);\n  var renderSlot = React__namespace.useCallback(function (slot) {\n    return React__namespace.createElement(\"div\", __assign({}, slot.attrs, {\n      style: slot.attrs && slot.attrs.style ? slot.attrs.style : {}\n    }), slot.children, slot.subSlot && renderSlot(slot.subSlot));\n  }, []);\n  return renderSlot(renderViewer());\n};\nvar LEVELS = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.4, 2.7, 3.0, 3.3, 3.7, 4.1, 4.6, 5.1, 5.7, 6.3, 7.0, 7.7, 8.5, 9.4, 10];\nvar decrease = function (currentLevel) {\n  var found = LEVELS.findIndex(function (item) {\n    return item >= currentLevel;\n  });\n  return found === -1 || found === 0 ? currentLevel : LEVELS[found - 1];\n};\nvar RESERVE_HEIGHT = 45;\nvar RESERVE_WIDTH = 45;\nvar PageSizeCalculator = function (_a) {\n  var defaultScale = _a.defaultScale,\n    doc = _a.doc,\n    render = _a.render,\n    scrollMode = _a.scrollMode,\n    viewMode = _a.viewMode;\n  var pagesRef = React__namespace.useRef();\n  var _b = React__namespace.useState({\n      pageSizes: [],\n      scale: 0\n    }),\n    state = _b[0],\n    setState = _b[1];\n  React__namespace.useLayoutEffect(function () {\n    var queryPageSizes = Array(doc.numPages).fill(0).map(function (_, i) {\n      return new Promise(function (resolve, _) {\n        getPage(doc, i).then(function (pdfPage) {\n          var viewport = pdfPage.getViewport({\n            scale: 1\n          });\n          resolve({\n            pageHeight: viewport.height,\n            pageWidth: viewport.width,\n            rotation: viewport.rotation\n          });\n        });\n      });\n    });\n    Promise.all(queryPageSizes).then(function (pageSizes) {\n      var pagesEle = pagesRef.current;\n      if (!pagesEle || pageSizes.length === 0) {\n        return;\n      }\n      var w = pageSizes[0].pageWidth;\n      var h = pageSizes[0].pageHeight;\n      var parentEle = pagesEle.parentElement;\n      var scaleWidth = (parentEle.clientWidth - RESERVE_WIDTH) / w;\n      var scaleHeight = (parentEle.clientHeight - RESERVE_HEIGHT) / h;\n      var scaled = scaleWidth;\n      switch (scrollMode) {\n        case exports.ScrollMode.Horizontal:\n          scaled = Math.min(scaleWidth, scaleHeight);\n          break;\n        case exports.ScrollMode.Vertical:\n        default:\n          scaled = scaleWidth;\n          break;\n      }\n      var scale = defaultScale ? typeof defaultScale === 'string' ? calculateScale(parentEle, h, w, defaultScale, viewMode, doc.numPages) : defaultScale : decrease(scaled);\n      setState({\n        pageSizes: pageSizes,\n        scale: scale\n      });\n    });\n  }, [doc.loadingTask.docId]);\n  return state.pageSizes.length === 0 || state.scale === 0 ? React__namespace.createElement(\"div\", {\n    className: \"rpv-core__page-size-calculator\",\n    \"data-testid\": \"core__page-size-calculating\",\n    ref: pagesRef\n  }, React__namespace.createElement(Spinner, null)) : render(state.pageSizes, state.scale);\n};\nvar LoadingStatus = function () {\n  function LoadingStatus() {}\n  return LoadingStatus;\n}();\nvar AskForPasswordState = function (_super) {\n  __extends(AskForPasswordState, _super);\n  function AskForPasswordState(verifyPassword, passwordStatus) {\n    var _this = _super.call(this) || this;\n    _this.verifyPassword = verifyPassword;\n    _this.passwordStatus = passwordStatus;\n    return _this;\n  }\n  return AskForPasswordState;\n}(LoadingStatus);\nvar AskingPassword = function (_a) {\n  var passwordStatus = _a.passwordStatus,\n    renderProtectedView = _a.renderProtectedView,\n    verifyPassword = _a.verifyPassword,\n    onDocumentAskPassword = _a.onDocumentAskPassword;\n  var l10n = React__namespace.useContext(LocalizationContext).l10n;\n  var _b = React__namespace.useState(''),\n    password = _b[0],\n    setPassword = _b[1];\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var submit = function () {\n    return verifyPassword(password);\n  };\n  var handleKeyDown = function (e) {\n    if (e.key === 'Enter') {\n      submit();\n    }\n  };\n  React__namespace.useEffect(function () {\n    if (onDocumentAskPassword) {\n      onDocumentAskPassword({\n        verifyPassword: verifyPassword\n      });\n    }\n  }, []);\n  if (renderProtectedView) {\n    return renderProtectedView({\n      passwordStatus: passwordStatus,\n      verifyPassword: verifyPassword\n    });\n  }\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-core__asking-password-wrapper\"\n  }, React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__asking-password': true,\n      'rpv-core__asking-password--rtl': isRtl\n    })\n  }, React__namespace.createElement(\"div\", {\n    className: \"rpv-core__asking-password-message\"\n  }, passwordStatus === exports.PasswordStatus.RequiredPassword && l10n.core.askingPassword.requirePasswordToOpen, passwordStatus === exports.PasswordStatus.WrongPassword && l10n.core.wrongPassword.tryAgain), React__namespace.createElement(\"div\", {\n    className: \"rpv-core__asking-password-body\"\n  }, React__namespace.createElement(\"div\", {\n    className: classNames({\n      'rpv-core__asking-password-input': true,\n      'rpv-core__asking-password-input--ltr': !isRtl,\n      'rpv-core__asking-password-input--rtl': isRtl\n    })\n  }, React__namespace.createElement(TextBox, {\n    testId: \"core__asking-password-input\",\n    type: \"password\",\n    value: password,\n    onChange: setPassword,\n    onKeyDown: handleKeyDown\n  })), React__namespace.createElement(PrimaryButton, {\n    onClick: submit\n  }, l10n.core.askingPassword.submit))));\n};\nvar CompletedState = function (_super) {\n  __extends(CompletedState, _super);\n  function CompletedState(doc) {\n    var _this = _super.call(this) || this;\n    _this.doc = doc;\n    return _this;\n  }\n  return CompletedState;\n}(LoadingStatus);\nvar FailureState = function (_super) {\n  __extends(FailureState, _super);\n  function FailureState(error) {\n    var _this = _super.call(this) || this;\n    _this.error = error;\n    return _this;\n  }\n  return FailureState;\n}(LoadingStatus);\nvar LoadingState = function (_super) {\n  __extends(LoadingState, _super);\n  function LoadingState(percentages) {\n    var _this = _super.call(this) || this;\n    _this.percentages = percentages;\n    return _this;\n  }\n  return LoadingState;\n}(LoadingStatus);\nvar DocumentLoader = function (_a) {\n  var characterMap = _a.characterMap,\n    file = _a.file,\n    httpHeaders = _a.httpHeaders,\n    render = _a.render,\n    renderError = _a.renderError,\n    renderLoader = _a.renderLoader,\n    renderProtectedView = _a.renderProtectedView,\n    transformGetDocumentParams = _a.transformGetDocumentParams,\n    withCredentials = _a.withCredentials,\n    onDocumentAskPassword = _a.onDocumentAskPassword;\n  var direction = React__namespace.useContext(ThemeContext).direction;\n  var isRtl = direction === exports.TextDirection.RightToLeft;\n  var _b = React__namespace.useState(new LoadingState(0)),\n    status = _b[0],\n    setStatus = _b[1];\n  var docRef = React__namespace.useRef('');\n  var isMounted = useIsMounted();\n  React__namespace.useEffect(function () {\n    docRef.current = '';\n    setStatus(new LoadingState(0));\n    var worker = new PdfJsApi__namespace.PDFWorker({\n      name: \"PDFWorker_\".concat(Date.now())\n    });\n    var params = Object.assign({\n      httpHeaders: httpHeaders,\n      withCredentials: withCredentials,\n      worker: worker\n    }, 'string' === typeof file ? {\n      url: file\n    } : {\n      data: file\n    }, characterMap ? {\n      cMapUrl: characterMap.url,\n      cMapPacked: characterMap.isCompressed\n    } : {});\n    var transformParams = transformGetDocumentParams ? transformGetDocumentParams(params) : params;\n    var loadingTask = PdfJsApi__namespace.getDocument(transformParams);\n    loadingTask.onPassword = function (verifyPassword, reason) {\n      switch (reason) {\n        case PdfJsApi__namespace.PasswordResponses.NEED_PASSWORD:\n          isMounted.current && setStatus(new AskForPasswordState(verifyPassword, exports.PasswordStatus.RequiredPassword));\n          break;\n        case PdfJsApi__namespace.PasswordResponses.INCORRECT_PASSWORD:\n          isMounted.current && setStatus(new AskForPasswordState(verifyPassword, exports.PasswordStatus.WrongPassword));\n          break;\n      }\n    };\n    loadingTask.onProgress = function (progress) {\n      var loaded = progress.total > 0 ? Math.min(100, 100 * progress.loaded / progress.total) : 100;\n      if (isMounted.current && docRef.current === '') {\n        setStatus(new LoadingState(loaded));\n      }\n    };\n    loadingTask.promise.then(function (doc) {\n      docRef.current = doc.loadingTask.docId;\n      isMounted.current && setStatus(new CompletedState(doc));\n    }, function (err) {\n      return isMounted.current && !worker.destroyed && setStatus(new FailureState({\n        message: err.message || 'Cannot load document',\n        name: err.name\n      }));\n    });\n    return function () {\n      loadingTask.destroy();\n      worker.destroy();\n    };\n  }, [file]);\n  if (status instanceof AskForPasswordState) {\n    return React__namespace.createElement(AskingPassword, {\n      passwordStatus: status.passwordStatus,\n      renderProtectedView: renderProtectedView,\n      verifyPassword: status.verifyPassword,\n      onDocumentAskPassword: onDocumentAskPassword\n    });\n  }\n  if (status instanceof CompletedState) {\n    return render(status.doc);\n  }\n  if (status instanceof FailureState) {\n    return renderError ? renderError(status.error) : React__namespace.createElement(\"div\", {\n      className: classNames({\n        'rpv-core__doc-error': true,\n        'rpv-core__doc-error--rtl': isRtl\n      })\n    }, React__namespace.createElement(\"div\", {\n      className: \"rpv-core__doc-error-text\"\n    }, status.error.message));\n  }\n  return React__namespace.createElement(\"div\", {\n    \"data-testid\": \"core__doc-loading\",\n    className: classNames({\n      'rpv-core__doc-loading': true,\n      'rpv-core__doc-loading--rtl': isRtl\n    })\n  }, renderLoader ? renderLoader(status.percentages) : React__namespace.createElement(Spinner, null));\n};\nvar isDarkMode = function () {\n  return typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n};\nvar withTheme = function (theme, onSwitchTheme) {\n  var initialTheme = React__namespace.useMemo(function () {\n    return theme === 'auto' ? isDarkMode() ? 'dark' : 'light' : theme;\n  }, []);\n  var _a = React__namespace.useState(initialTheme),\n    currentTheme = _a[0],\n    setCurrentTheme = _a[1];\n  var prevTheme = usePrevious(currentTheme);\n  React__namespace.useEffect(function () {\n    if (theme !== 'auto') {\n      return;\n    }\n    var media = window.matchMedia('(prefers-color-scheme: dark)');\n    var handler = function (e) {\n      setCurrentTheme(e.matches ? 'dark' : 'light');\n    };\n    media.addEventListener('change', handler);\n    return function () {\n      return media.removeEventListener('change', handler);\n    };\n  }, []);\n  React__namespace.useEffect(function () {\n    if (currentTheme !== prevTheme && onSwitchTheme) {\n      onSwitchTheme(currentTheme);\n    }\n  }, [currentTheme]);\n  React__namespace.useEffect(function () {\n    if (theme !== currentTheme) {\n      setCurrentTheme(theme);\n    }\n  }, [theme]);\n  return {\n    currentTheme: currentTheme,\n    setCurrentTheme: setCurrentTheme\n  };\n};\nvar isSameUrl = function (a, b) {\n  var typeA = typeof a;\n  var typeB = typeof b;\n  if (typeA === 'string' && typeB === 'string' && a === b) {\n    return true;\n  }\n  if (typeA === 'object' && typeB === 'object') {\n    return a.length === b.length && a.every(function (v, i) {\n      return v === b[i];\n    });\n  }\n  return false;\n};\nvar Viewer = function (_a) {\n  var characterMap = _a.characterMap,\n    defaultScale = _a.defaultScale,\n    fileUrl = _a.fileUrl,\n    _b = _a.httpHeaders,\n    httpHeaders = _b === void 0 ? {} : _b,\n    _c = _a.initialPage,\n    initialPage = _c === void 0 ? 0 : _c,\n    pageLayout = _a.pageLayout,\n    _d = _a.initialRotation,\n    initialRotation = _d === void 0 ? 0 : _d,\n    localization = _a.localization,\n    _e = _a.plugins,\n    plugins = _e === void 0 ? [] : _e,\n    renderError = _a.renderError,\n    renderLoader = _a.renderLoader,\n    renderPage = _a.renderPage,\n    renderProtectedView = _a.renderProtectedView,\n    _f = _a.scrollMode,\n    scrollMode = _f === void 0 ? exports.ScrollMode.Vertical : _f,\n    transformGetDocumentParams = _a.transformGetDocumentParams,\n    _g = _a.theme,\n    theme = _g === void 0 ? {\n      direction: exports.TextDirection.LeftToRight,\n      theme: 'light'\n    } : _g,\n    _h = _a.viewMode,\n    viewMode = _h === void 0 ? exports.ViewMode.SinglePage : _h,\n    _j = _a.withCredentials,\n    withCredentials = _j === void 0 ? false : _j,\n    onDocumentAskPassword = _a.onDocumentAskPassword,\n    _k = _a.onDocumentLoad,\n    onDocumentLoad = _k === void 0 ? function () {} : _k,\n    _l = _a.onPageChange,\n    onPageChange = _l === void 0 ? function () {} : _l,\n    _m = _a.onRotate,\n    onRotate = _m === void 0 ? function () {} : _m,\n    _o = _a.onRotatePage,\n    onRotatePage = _o === void 0 ? function () {} : _o,\n    _p = _a.onSwitchTheme,\n    onSwitchTheme = _p === void 0 ? function () {} : _p,\n    _q = _a.onZoom,\n    onZoom = _q === void 0 ? function () {} : _q;\n  var _r = React__namespace.useState({\n      data: fileUrl,\n      name: typeof fileUrl === 'string' ? fileUrl : '',\n      shouldLoad: false\n    }),\n    file = _r[0],\n    setFile = _r[1];\n  var openFile = function (fileName, data) {\n    setFile({\n      data: data,\n      name: fileName,\n      shouldLoad: true\n    });\n  };\n  var _s = React__namespace.useState(false),\n    visible = _s[0],\n    setVisible = _s[1];\n  var prevFile = usePrevious(file);\n  React__namespace.useEffect(function () {\n    if (!isSameUrl(prevFile.data, fileUrl)) {\n      setFile({\n        data: fileUrl,\n        name: typeof fileUrl === 'string' ? fileUrl : '',\n        shouldLoad: visible\n      });\n    }\n  }, [fileUrl, visible]);\n  var visibilityChanged = function (params) {\n    setVisible(params.isVisible);\n    if (params.isVisible) {\n      setFile(function (currentFile) {\n        return Object.assign({}, currentFile, {\n          shouldLoad: true\n        });\n      });\n    }\n  };\n  var containerRef = useIntersectionObserver({\n    onVisibilityChanged: visibilityChanged\n  });\n  var themeProps = typeof theme === 'string' ? {\n    direction: exports.TextDirection.LeftToRight,\n    theme: theme\n  } : theme;\n  var _t = React__namespace.useState(localization || DefaultLocalization),\n    l10n = _t[0],\n    setL10n = _t[1];\n  var localizationContext = {\n    l10n: l10n,\n    setL10n: setL10n\n  };\n  var themeContext = Object.assign({}, {\n    direction: themeProps.direction\n  }, withTheme(themeProps.theme || 'light', onSwitchTheme));\n  React__namespace.useEffect(function () {\n    if (localization) {\n      setL10n(localization);\n    }\n  }, [localization]);\n  return React__namespace.createElement(LocalizationContext.Provider, {\n    value: localizationContext\n  }, React__namespace.createElement(ThemeContext.Provider, {\n    value: themeContext\n  }, React__namespace.createElement(\"div\", {\n    ref: containerRef,\n    className: \"rpv-core__viewer rpv-core__viewer--\".concat(themeContext.currentTheme),\n    \"data-testid\": \"core__viewer\",\n    style: {\n      height: '100%',\n      width: '100%'\n    }\n  }, file.shouldLoad && React__namespace.createElement(DocumentLoader, {\n    characterMap: characterMap,\n    file: file.data,\n    httpHeaders: httpHeaders,\n    render: function (doc) {\n      return React__namespace.createElement(PageSizeCalculator, {\n        defaultScale: defaultScale,\n        doc: doc,\n        render: function (pageSizes, initialScale) {\n          return React__namespace.createElement(Inner, {\n            currentFile: {\n              data: file.data,\n              name: file.name\n            },\n            defaultScale: defaultScale,\n            doc: doc,\n            initialPage: initialPage,\n            initialRotation: initialRotation,\n            initialScale: initialScale,\n            pageLayout: pageLayout,\n            pageSizes: pageSizes,\n            plugins: plugins,\n            renderPage: renderPage,\n            scrollMode: scrollMode,\n            viewMode: viewMode,\n            viewerState: {\n              file: file,\n              pageIndex: -1,\n              pageHeight: pageSizes[0].pageHeight,\n              pageWidth: pageSizes[0].pageWidth,\n              pagesRotation: new Map(),\n              rotation: initialRotation,\n              scale: initialScale,\n              scrollMode: scrollMode,\n              viewMode: viewMode\n            },\n            onDocumentLoad: onDocumentLoad,\n            onOpenFile: openFile,\n            onPageChange: onPageChange,\n            onRotate: onRotate,\n            onRotatePage: onRotatePage,\n            onZoom: onZoom\n          });\n        },\n        scrollMode: scrollMode,\n        viewMode: viewMode\n      });\n    },\n    renderError: renderError,\n    renderLoader: renderLoader,\n    renderProtectedView: renderProtectedView,\n    transformGetDocumentParams: transformGetDocumentParams,\n    withCredentials: withCredentials,\n    onDocumentAskPassword: onDocumentAskPassword\n  }))));\n};\nvar Worker = function (_a) {\n  var children = _a.children,\n    workerUrl = _a.workerUrl;\n  PdfJsApi__namespace.GlobalWorkerOptions.workerSrc = workerUrl;\n  return React__namespace.createElement(React__namespace.Fragment, null, children);\n};\nexports.Button = Button;\nexports.Icon = Icon;\nexports.LazyRender = LazyRender;\nexports.LocalizationContext = LocalizationContext;\nexports.Menu = Menu;\nexports.MenuDivider = MenuDivider;\nexports.MenuItem = MenuItem;\nexports.MinimalButton = MinimalButton;\nexports.Modal = Modal;\nexports.Popover = Popover;\nexports.PrimaryButton = PrimaryButton;\nexports.ProgressBar = ProgressBar;\nexports.Separator = Separator;\nexports.Spinner = Spinner;\nexports.Splitter = Splitter;\nexports.TextBox = TextBox;\nexports.ThemeContext = ThemeContext;\nexports.Tooltip = Tooltip;\nexports.Viewer = Viewer;\nexports.Worker = Worker;\nexports.chunk = chunk;\nexports.classNames = classNames;\nexports.createStore = createStore;\nexports.getDestination = getDestination;\nexports.getPage = getPage;\nexports.isMac = isMac;\nexports.useIntersectionObserver = useIntersectionObserver;\nexports.useIsMounted = useIsMounted;\nexports.useIsomorphicLayoutEffect = useIsomorphicLayoutEffect;\nexports.usePrevious = usePrevious;\nexports.useRenderQueue = useRenderQueue;","map":{"version":3,"names":["React","require","PdfJsApi","_interopNamespaceDefault","e","n","Object","create","keys","forEach","k","d","getOwnPropertyDescriptor","defineProperty","get","enumerable","default","freeze","React__namespace","PdfJsApi__namespace","exports","AnnotationType","extendStatics","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","__assign","assign","t","s","i","arguments","length","apply","__spreadArray","to","from","pack","l","ar","slice","concat","TextDirection","ThemeContext","createContext","currentTheme","direction","LeftToRight","setCurrentTheme","classNames","classes","result","clazz","push","join","Button","_a","children","testId","onClick","useContext","isRtl","RightToLeft","attrs","createElement","className","type","useIsomorphicLayoutEffect","window","useLayoutEffect","useEffect","useIntersectionObserver","props","containerRef","useRef","once","threshold","onVisibilityChanged","container","current","intersectionTracker","IntersectionObserver","entries","entry","isVisible","isIntersecting","ratio","intersectionRatio","unobserve","disconnect","observe","LazyRender","_b","useState","visible","setVisible","containerAttrs","handleVisibilityChanged","params","ref","Menu","visibleMenuItemsRef","handleKeyDown","key","preventDefault","moveToItem","_","currentIndex","items","getNextItem","findIndex","item","getAttribute","targetIndex","Math","min","max","setAttribute","focus","findVisibleItems","visibleItems","querySelectorAll","HTMLElement","parent_1","parentElement","getComputedStyle","display","document","addEventListener","removeEventListener","role","tabIndex","MenuDivider","Icon","ignoreDirection","_c","size","width","focusable","height","viewBox","CheckIcon","MenuItem","checked","icon","_d","isDisabled","MinimalButton","ariaLabel","ariaKeyShortcuts","_e","isSelected","PrimaryButton","ProgressBar","progress","style","Separator","Spinner","Splitter","constrain","resizerRef","leftSideRef","rightSideRef","xRef","yRef","leftWidthRef","resizerWidthRef","eventOptions","capture","handleMouseMove","resizerEle","leftSide","rightSide","resizerWidth","dx","clientX","firstHalfSize","containerWidth","getBoundingClientRect","firstHalfPercentage","classList","add","secondHalfSize","secondHalfPercentage","body","handleMouseUp","remove","handleMouseDown","clientY","previousElementSibling","nextElementSibling","onMouseDown","TextBox","autoFocus","placeholder","_f","value","onChange","_g","onKeyDown","textboxRef","target","textboxEle","x","scrollX","y","scrollY","scrollTo","useIsMounted","isMountedRef","usePrevious","PageRenderStatus","OUT_OF_RANGE_VISIBILITY","useRenderQueue","doc","numPages","docId","loadingTask","initialPageVisibilities","useMemo","fill","map","pageIndex","renderStatus","NotRenderedYet","visibility","latestRef","currentRenderingPage","startRange","endRange","visibilities","markNotRendered","markRendered","Rendered","markRendering","Rendering","setRange","startIndex","endIndex","setOutOfRange","setVisibility","getHighestPriorityPage","visiblePages","filter","firstVisiblePage","lastVisiblePage","numVisiblePages","isInRange","core","askingPassword","requirePasswordToOpen","submit","wrongPassword","tryAgain","pageLabel","enUs","DefaultLocalization","LocalizationContext","l10n","setL10n","id","uniqueId","useClickOutside","closeOnClickOutside","targetRef","onClickOutside","clickHandler","clickedTarget","Element","shadowRoot","paths","composedPath","contains","useEscape","handler","keyUpHandler","useLockScroll","originalStyle","overflow","ModalBody","ariaControlsSuffix","closeOnEscape","onToggle","contentRef","contentEle","maxHeight","clientHeight","ModalOverlay","ToggleStatus","useToggle","isOpened","opened","setOpened","toggle","status","Close","Open","Toggle","Portal","content","Fragment","Modal","controlsSuffix","renderTarget","renderContent","Position","calculatePosition","position","offset","targetRect","contentRect","top","left","TopLeft","TopCenter","TopRight","RightTop","RightCenter","RightBottom","BottomLeft","BottomCenter","BottomRight","LeftTop","LeftCenter","LeftBottom","usePosition","anchorRef","targetEle","anchorEle","anchorRect","Arrow","customClassName","PopoverBody","onClose","innerRef","innerContentEle","innerId","PopoverOverlay","Popover","ariaHasPopup","lockScroll","TooltipBody","Tooltip","activeElement","close","open","onBlur","shouldHideTooltip","relatedTarget","currentTarget","onFocus","onMouseEnter","onMouseLeave","createStore","initialState","state","listeners","update","data","subscribe","unsubscribe","f","updateCurrentValue","updater","currentValue","undefined","LayerRenderStatus","PageMode","PasswordStatus","RotateDirection","ScrollMode","SpecialZoomLevel","ViewMode","chunk","arr","reduce","acc","isMac","test","navigator","platform","normalizeDestination","destArray","name","bottomOffset","viewportHeight","leftOffset","scaleTo","PageFit","PageWidth","pageOutlinesMap","Map","pagesMap","generateRefKey","outline","num","gen","getPageIndex","has","cacheOutlineRef","set","clearPagesCache","clear","getPage","Promise","reject","pageKey","page","resolve","then","getDestination","dest","res","outlineRef_1","useDebounceCallback","callback","wait","timeout","cleanup","clearTimeout","useCallback","args","_i","setTimeout","useTrackResize","onResize","io","ResizeObserver","AnnotationBorderStyleType","dateRegex","RegExp","parse","defaultValue","parsed","parseInt","convertDate","input","matches","exec","year","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","Date","UTC","getContents","annotation","contentsObj","str","contents","getTitle","titleObj","title","PopupWrapper","dateStr","modificationDate","date","toLocaleDateString","toLocaleTimeString","containerEle","annotationEle","querySelector","ele","zIndex","annotationType","Popup","split","index","TogglePopupBy","useTogglePopup","Hover","togglePopupBy","setTooglePopupBy","toggleOnClick","Click","openOnHover","closeOnHover","Annotation","ignoreBorder","hasPopup","isRenderable","viewport","rect","normalizeRect","r","bound","view","styles","borderColor","borderRadius","borderStyle","borderWidth","Dashed","Solid","Underline","borderBottomStyle","Beveled","Inset","horizontalCornerRadius","verticalCornerRadius","color","popup","slot","transform","transformOrigin","Caret","Circle","preserveAspectRatio","version","cy","rx","ry","stroke","strokeWidth","getFileName","url","pop","downloadFile","blobUrl","URL","createObjectURL","Blob","link","href","appendChild","click","removeChild","revokeObjectURL","FileAttachment","doubleClick","file","filename","onDoubleClick","FreeText","ignoredParents","parentType","indexOf","parentId","parent","parseFloat","Highlight","childAnnotation","hasQuadPoints","quadPoints","annotations","quadPoint","ann","Ink","inkLists","inkList","points","Line","x1","lineCoordinates","x2","y1","y2","INVALID_PROTOCOL","HTML_ENTITIES","CTRL_CHARS","URL_SCHEME","decodeHtmlEntities","replace","dec","fromCharCode","sanitizeUrl","defaultUrl","trim","firstChar","parsedUrlScheme","match","scheme","Link","outlines","onExecuteNamedAction","onJumpToDest","action","unsafeUrl","targetUrl","rel","newWindow","find","Polygon","vertices","Polyline","Square","Squiggly","Stamp","StrikeOut","CommentIcon","HelpIcon","KeyIcon","NoteIcon","ParagraphIcon","TriangleIcon","Text","toLowerCase","AnnotationLayerBody","plugins","rotation","scale","getViewport","clonedViewPort","clone","dontFlip","filterAnnotations","plugin","onAnnotationLayerRender","AnnotationLoader","renderAnnotations","isMounted","loading","setStatus","getAnnotations","intent","AnnotationLayer","floatToRatio","limit","floor","a","c","numerator","denominator","middle","roundToDivide","remainder","MAX_CANVAS_SIZE","CanvasLayer","canvasLayerRef","onRenderCanvasCompleted","renderTask","task","cancel","canvasEle","removeAttribute","onCanvasLayerRender","PreRender","outputScale","devicePixelRatio","maxScale","sqrt","shouldScaleByCSS","removeProperty","possibleScale","hidden","canvasContext","getContext","alpha","render","promise","DidRender","SvgLayer","empty","innerHTML","getOperatorList","operatorList","graphic","SVGGraphics","commonObjs","objs","getSVG","svg","TextLayer","onRenderTextCompleted","spans","span","breaks","br","onTextLayerRender","getTextContent","textContent","renderTextLayer","textContentSource","PageLayer","measureRef","pageRotation","pageSize","renderPage","renderQueueKey","shouldRender","viewMode","onRenderCompleted","onRotatePage","setPage","canvasLayerRendered","setCanvasLayerRendered","textLayerRendered","setTextLayerRendered","textLayerRef","isVertical","abs","scaledWidth","pageWidth","scaledHeight","pageHeight","w","h","rotationValue","renderQueueKeyRef","determinePageInstance","pdfPage","defaultPageRenderer","canvasLayer","textLayer","annotationLayer","renderPageLayer","handleRenderCanvasCompleted","handleRenderTextCompleted","DualPage","DualPageWithCover","SinglePage","svgLayer","idx","getFileExt","rectReducer","useMeasureRect","elementRef","element","setElement","initializedRectRef","useReducer","dispatch","tracker","ScrollDirection","easeOutQuart","pow","EPS","smoothScroll","scrollDirection","targetPosition","duration","easing","onReachTarget","Horizontal","scrollLeft","Both","scrollTop","Vertical","startTime","requestId","loop","currentTime","time","percent","easedPercent","updatePosition","requestAnimationFrame","cancelAnimationFrame","useRafState","rafRef","setState","setRafState","ZERO_OFFSET$6","SCROLL_EVENT_OPTIONS","passive","SCROLL_DURATION","useScroll","onSmoothScroll","scrollOffset","setScrollOffset","factor","handleSmoothScrollingComplete","handleScroll","withSmoothScroll","clamp","indexOfMax","prev","curr","buildContainerStyles","totalSize","scrollMode","buildItemContainerStyles","parentRect","Page","start","hasDifferentSizes","sizes","numberOfItems","getMinWidthOfCover","chunkWidths","eachChunk","widths","buildItemStyles","sideProperty","_h","transformTop","minWidth","Wrapped","findNearest","low","high","getItemValue","calculateRange","measurements","outerSize","currentOffset","getOffset","startTop","end","topLeftCorner","visibleSize","ZERO_OFFSET$5","measure","totalWidth","firstOfRow","ZERO_OFFSET$4","measureDualPage","ZERO_OFFSET$3","measureDualPageWithCover","ZERO_OFFSET$2","measureSinglePage","ZERO_RECT","ZERO_OFFSET$1","COMPARE_EPSILON","VIRTUAL_INDEX_ATTR","IO_THRESHOLD","useVirtual","parentRef","setStartRange","setEndRange","isSmoothScrolling","setSmoothScrolling","scrollModeRef","viewModeRef","defaultVisibilities","setVisibilities","indexAttribute","old","visiblePageVisibilities","maxVisbilityItem","maxVisbilityIndex","virtualItems","_loop_1","virtualItem","scrollToItem","normalizedIndex","measurement","withOffset","scrollToSmallestItemAbove","nextItem","nextIndex","scrollToBiggestItemBelow","prevIndex","found","scrollToNextItem","scrollToPreviousItem","getContainerStyles","getItemContainerStyles","getItemStyles","zoom","updateOffset","boundingClientRect","SCROLL_BAR_WIDTH","PAGE_PADDING","calculateScale","ActualSize","clientWidth","flaternSingleOutline","flaternOutlines","useOutlines","setOutlines","getOutline","NUM_OVERSCAN_PAGES","DEFAULT_PAGE_LAYOUT","buildPageStyles","transformSize","ZERO_OFFSET","Inner","currentFile","defaultScale","initialPage","initialRotation","initialScale","pageLayout","pageSizes","viewerState","onDocumentLoad","onOpenFile","onPageChange","onRotate","onZoom","themeContext","pagesRef","currentPage","setCurrentPage","mostRecentVisitedRef","setRotation","previousRotation","pagesRotationChanged","setPagesRotationChanged","pagesRotation","setPagesRotation","currentScrollMode","setCurrentScrollMode","previousScrollMode","currentViewMode","setCurrentViewMode","previousViewMode","setScale","previousScale","stateRef","keepSpecialZoomLevelRef","_j","renderPageIndex","setRenderPageIndex","_k","setRenderQueueKey","renderQueue","layoutBuilder","pageRect","virtualizer","handlePagesResize","setViewerState","newState","onViewerStateChange","getPagesContainer","getViewerState","jumpToDestination","pagesContainer","currentState","bottom","updateScale","jumpToNextPage","jumpToPage","jumpToPreviousPage","openFile","reader","FileReader","readAsArrayBuffer","onload","bytes","Uint8Array","rotate","degrees","Backward","currentRotation","updateRotation","rotatePage","rotations","currentPageRotation","finalRotation","updateRotations","rotatedPage","switchScrollMode","switchViewMode","newScale","pagesEle","currentPageHeight","currentPageWidth","pluginMethods","install","uninstall","latestPage","renderNextPage","_loop_2","handlePageRenderCompleted","nextPage","executeNamedAction","previousPage","renderViewer","chunks","subSlot","isCover","pagesContainerRef","renderSlot","LEVELS","decrease","currentLevel","RESERVE_HEIGHT","RESERVE_WIDTH","PageSizeCalculator","queryPageSizes","all","parentEle","scaleWidth","scaleHeight","scaled","LoadingStatus","AskForPasswordState","_super","verifyPassword","passwordStatus","_this","AskingPassword","renderProtectedView","onDocumentAskPassword","password","setPassword","RequiredPassword","WrongPassword","CompletedState","FailureState","error","LoadingState","percentages","DocumentLoader","characterMap","httpHeaders","renderError","renderLoader","transformGetDocumentParams","withCredentials","docRef","worker","PDFWorker","now","cMapUrl","cMapPacked","isCompressed","transformParams","getDocument","onPassword","reason","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","onProgress","loaded","total","err","destroyed","message","destroy","isDarkMode","matchMedia","withTheme","theme","onSwitchTheme","initialTheme","prevTheme","media","isSameUrl","typeA","typeB","every","v","Viewer","fileUrl","localization","_l","_m","_o","_p","_q","_r","shouldLoad","setFile","fileName","_s","prevFile","visibilityChanged","themeProps","_t","localizationContext","Provider","Worker","workerUrl","GlobalWorkerOptions","workerSrc"],"sources":["F:/React/Government/bteb/node_modules/@react-pdf-viewer/core/lib/cjs/core.js"],"sourcesContent":["'use strict';\n\nvar React = require('react');\nvar PdfJsApi = require('pdfjs-dist');\n\nfunction _interopNamespaceDefault(e) {\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n.default = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespaceDefault(React);\nvar PdfJsApi__namespace = /*#__PURE__*/_interopNamespaceDefault(PdfJsApi);\n\nexports.AnnotationType = void 0;\n(function (AnnotationType) {\n    AnnotationType[AnnotationType[\"Text\"] = 1] = \"Text\";\n    AnnotationType[AnnotationType[\"Link\"] = 2] = \"Link\";\n    AnnotationType[AnnotationType[\"FreeText\"] = 3] = \"FreeText\";\n    AnnotationType[AnnotationType[\"Line\"] = 4] = \"Line\";\n    AnnotationType[AnnotationType[\"Square\"] = 5] = \"Square\";\n    AnnotationType[AnnotationType[\"Circle\"] = 6] = \"Circle\";\n    AnnotationType[AnnotationType[\"Polygon\"] = 7] = \"Polygon\";\n    AnnotationType[AnnotationType[\"Polyline\"] = 8] = \"Polyline\";\n    AnnotationType[AnnotationType[\"Highlight\"] = 9] = \"Highlight\";\n    AnnotationType[AnnotationType[\"Underline\"] = 10] = \"Underline\";\n    AnnotationType[AnnotationType[\"Squiggly\"] = 11] = \"Squiggly\";\n    AnnotationType[AnnotationType[\"StrikeOut\"] = 12] = \"StrikeOut\";\n    AnnotationType[AnnotationType[\"Stamp\"] = 13] = \"Stamp\";\n    AnnotationType[AnnotationType[\"Caret\"] = 14] = \"Caret\";\n    AnnotationType[AnnotationType[\"Ink\"] = 15] = \"Ink\";\n    AnnotationType[AnnotationType[\"Popup\"] = 16] = \"Popup\";\n    AnnotationType[AnnotationType[\"FileAttachment\"] = 17] = \"FileAttachment\";\n})(exports.AnnotationType || (exports.AnnotationType = {}));\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\n\nexports.TextDirection = void 0;\n(function (TextDirection) {\n    TextDirection[\"RightToLeft\"] = \"RTL\";\n    TextDirection[\"LeftToRight\"] = \"LTR\";\n})(exports.TextDirection || (exports.TextDirection = {}));\nvar ThemeContext = React__namespace.createContext({\n    currentTheme: 'light',\n    direction: exports.TextDirection.LeftToRight,\n    setCurrentTheme: function () { },\n});\n\nvar classNames = function (classes) {\n    var result = [];\n    Object.keys(classes).forEach(function (clazz) {\n        if (clazz && classes[clazz]) {\n            result.push(clazz);\n        }\n    });\n    return result.join(' ');\n};\n\nvar Button = function (_a) {\n    var children = _a.children, testId = _a.testId, onClick = _a.onClick;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = testId ? { 'data-testid': testId } : {};\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\n            'rpv-core__button': true,\n            'rpv-core__button--rtl': isRtl,\n        }), type: \"button\", onClick: onClick }, attrs), children));\n};\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React__namespace.useLayoutEffect : React__namespace.useEffect;\n\nvar useIntersectionObserver = function (props) {\n    var containerRef = React__namespace.useRef(null);\n    var once = props.once, threshold = props.threshold, onVisibilityChanged = props.onVisibilityChanged;\n    useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var intersectionTracker = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entry) {\n                var isVisible = entry.isIntersecting;\n                var ratio = entry.intersectionRatio;\n                onVisibilityChanged({ isVisible: isVisible, ratio: ratio });\n                if (isVisible && once) {\n                    intersectionTracker.unobserve(container);\n                    intersectionTracker.disconnect();\n                }\n            });\n        }, {\n            threshold: threshold || 0,\n        });\n        intersectionTracker.observe(container);\n        return function () {\n            intersectionTracker.unobserve(container);\n            intersectionTracker.disconnect();\n        };\n    }, []);\n    return containerRef;\n};\n\nvar LazyRender = function (_a) {\n    var attrs = _a.attrs, children = _a.children, testId = _a.testId;\n    var _b = React__namespace.useState(false), visible = _b[0], setVisible = _b[1];\n    var containerAttrs = testId ? __assign(__assign({}, attrs), { 'data-testid': testId }) : attrs;\n    var handleVisibilityChanged = function (params) {\n        if (params.isVisible) {\n            setVisible(true);\n        }\n    };\n    var containerRef = useIntersectionObserver({\n        once: true,\n        onVisibilityChanged: handleVisibilityChanged,\n    });\n    return (React__namespace.createElement(\"div\", __assign({ ref: containerRef }, containerAttrs), visible && children));\n};\n\nvar Menu = function (_a) {\n    var children = _a.children;\n    var containerRef = React__namespace.useRef();\n    var visibleMenuItemsRef = React__namespace.useRef([]);\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var handleKeyDown = function (e) {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        switch (e.key) {\n            case 'Tab':\n                e.preventDefault();\n                break;\n            case 'ArrowDown':\n                e.preventDefault();\n                moveToItem(function (_, currentIndex) { return currentIndex + 1; });\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                moveToItem(function (_, currentIndex) { return currentIndex - 1; });\n                break;\n            case 'End':\n                e.preventDefault();\n                moveToItem(function (items, _) { return items.length - 1; });\n                break;\n            case 'Home':\n                e.preventDefault();\n                moveToItem(function (_, __) { return 0; });\n                break;\n        }\n    };\n    var moveToItem = function (getNextItem) {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var items = visibleMenuItemsRef.current;\n        var currentIndex = items.findIndex(function (item) { return item.getAttribute('tabindex') === '0'; });\n        var targetIndex = Math.min(items.length - 1, Math.max(0, getNextItem(items, currentIndex)));\n        if (currentIndex >= 0 && currentIndex <= items.length - 1) {\n            items[currentIndex].setAttribute('tabindex', '-1');\n        }\n        items[targetIndex].setAttribute('tabindex', '0');\n        items[targetIndex].focus();\n    };\n    var findVisibleItems = function (container) {\n        var visibleItems = [];\n        container.querySelectorAll('.rpv-core__menu-item[role=\"menuitem\"]').forEach(function (item) {\n            if (item instanceof HTMLElement) {\n                var parent_1 = item.parentElement;\n                if (parent_1 === container) {\n                    visibleItems.push(item);\n                }\n                else {\n                    if (window.getComputedStyle(parent_1).display !== 'none') {\n                        visibleItems.push(item);\n                    }\n                }\n            }\n        });\n        return visibleItems;\n    };\n    useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var visibleItems = findVisibleItems(container);\n        visibleMenuItemsRef.current = visibleItems;\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        document.addEventListener('keydown', handleKeyDown);\n        return function () {\n            document.removeEventListener('keydown', handleKeyDown);\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, \"aria-orientation\": \"vertical\", className: classNames({\n            'rpv-core__menu': true,\n            'rpv-core__menu--rtl': isRtl,\n        }), role: \"menu\", tabIndex: 0 }, children));\n};\n\nvar MenuDivider = function () { return (React__namespace.createElement(\"div\", { \"aria-orientation\": \"horizontal\", className: \"rpv-core__menu-divider\", role: \"separator\" })); };\n\nvar Icon = function (_a) {\n    var children = _a.children, _b = _a.ignoreDirection, ignoreDirection = _b === void 0 ? false : _b, _c = _a.size, size = _c === void 0 ? 24 : _c;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = !ignoreDirection && direction === exports.TextDirection.RightToLeft;\n    var width = \"\".concat(size || 24, \"px\");\n    return (React__namespace.createElement(\"svg\", { \"aria-hidden\": \"true\", className: classNames({\n            'rpv-core__icon': true,\n            'rpv-core__icon--rtl': isRtl,\n        }), focusable: \"false\", height: width, viewBox: \"0 0 24 24\", width: width }, children));\n};\n\nvar CheckIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.5,0.499l-16.5,23l-6.5-6.5\" }))); };\n\nvar MenuItem = function (_a) {\n    var _b = _a.checked, checked = _b === void 0 ? false : _b, children = _a.children, _c = _a.icon, icon = _c === void 0 ? null : _c, _d = _a.isDisabled, isDisabled = _d === void 0 ? false : _d, testId = _a.testId, onClick = _a.onClick;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = testId ? { 'data-testid': testId } : {};\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\n            'rpv-core__menu-item': true,\n            'rpv-core__menu-item--disabled': isDisabled,\n            'rpv-core__menu-item--ltr': !isRtl,\n            'rpv-core__menu-item--rtl': isRtl,\n        }), role: \"menuitem\", tabIndex: -1, type: \"button\", onClick: onClick }, attrs),\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__menu-item-icon': true,\n                'rpv-core__menu-item-icon--ltr': !isRtl,\n                'rpv-core__menu-item-icon--rtl': isRtl,\n            }) }, icon),\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__menu-item-label': true,\n                'rpv-core__menu-item-label--ltr': !isRtl,\n                'rpv-core__menu-item-label--rtl': isRtl,\n            }) }, children),\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__menu-item-check': true,\n                'rpv-core__menu-item-check--ltr': !isRtl,\n                'rpv-core__menu-item-check--rtl': isRtl,\n            }) }, checked && React__namespace.createElement(CheckIcon, null))));\n};\n\nvar MinimalButton = function (_a) {\n    var _b = _a.ariaLabel, ariaLabel = _b === void 0 ? '' : _b, _c = _a.ariaKeyShortcuts, ariaKeyShortcuts = _c === void 0 ? '' : _c, children = _a.children, _d = _a.isDisabled, isDisabled = _d === void 0 ? false : _d, _e = _a.isSelected, isSelected = _e === void 0 ? false : _e, testId = _a.testId, onClick = _a.onClick;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = testId ? { 'data-testid': testId } : {};\n    return (React__namespace.createElement(\"button\", __assign({ \"aria-label\": ariaLabel }, (ariaKeyShortcuts && { 'aria-keyshortcuts': ariaKeyShortcuts }), (isDisabled && { 'aria-disabled': true }), { className: classNames({\n            'rpv-core__minimal-button': true,\n            'rpv-core__minimal-button--disabled': isDisabled,\n            'rpv-core__minimal-button--rtl': isRtl,\n            'rpv-core__minimal-button--selected': isSelected,\n        }), type: \"button\", onClick: onClick }, attrs), children));\n};\n\nvar PrimaryButton = function (_a) {\n    var children = _a.children, testId = _a.testId, onClick = _a.onClick;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = testId ? { 'data-testid': testId } : {};\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\n            'rpv-core__primary-button': true,\n            'rpv-core__primary-button--rtl': isRtl,\n        }), type: \"button\", onClick: onClick }, attrs), children));\n};\n\nvar ProgressBar = function (_a) {\n    var progress = _a.progress;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    return (React__namespace.createElement(\"div\", { className: classNames({\n            'rpv-core__progress-bar': true,\n            'rpv-core__progress-bar--rtl': isRtl,\n        }) },\n        React__namespace.createElement(\"div\", { className: \"rpv-core__progress-bar-progress\", style: { width: \"\".concat(progress, \"%\") } },\n            progress,\n            \"%\")));\n};\n\nvar Separator = function () { return React__namespace.createElement(\"div\", { className: \"rpv-core__separator\" }); };\n\nvar Spinner = function (_a) {\n    var _b = _a.size, size = _b === void 0 ? '4rem' : _b, testId = _a.testId;\n    var _c = React__namespace.useState(false), visible = _c[0], setVisible = _c[1];\n    var attrs = testId ? { 'data-testid': testId } : {};\n    var handleVisibilityChanged = function (params) {\n        setVisible(params.isVisible);\n    };\n    var containerRef = useIntersectionObserver({\n        onVisibilityChanged: handleVisibilityChanged,\n    });\n    return (React__namespace.createElement(\"div\", __assign({}, attrs, { className: classNames({\n            'rpv-core__spinner': true,\n            'rpv-core__spinner--animating': visible,\n        }), ref: containerRef, style: { height: size, width: size } })));\n};\n\nvar Splitter = function (_a) {\n    var constrain = _a.constrain;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var resizerRef = React__namespace.useRef();\n    var leftSideRef = React__namespace.useRef();\n    var rightSideRef = React__namespace.useRef();\n    var xRef = React__namespace.useRef(0);\n    var yRef = React__namespace.useRef(0);\n    var leftWidthRef = React__namespace.useRef(0);\n    var resizerWidthRef = React__namespace.useRef(0);\n    var eventOptions = {\n        capture: true,\n    };\n    var handleMouseMove = function (e) {\n        var resizerEle = resizerRef.current;\n        var leftSide = leftSideRef.current;\n        var rightSide = rightSideRef.current;\n        if (!resizerEle || !leftSide || !rightSide) {\n            return;\n        }\n        var resizerWidth = resizerWidthRef.current;\n        var dx = e.clientX - xRef.current;\n        var firstHalfSize = leftWidthRef.current + (isRtl ? -dx : dx);\n        var containerWidth = resizerEle.parentElement.getBoundingClientRect().width;\n        var firstHalfPercentage = (firstHalfSize * 100) / containerWidth;\n        resizerEle.classList.add('rpv-core__splitter--resizing');\n        if (constrain) {\n            var secondHalfSize = containerWidth - firstHalfSize - resizerWidth;\n            var secondHalfPercentage = (secondHalfSize * 100) / containerWidth;\n            if (!constrain({ firstHalfPercentage: firstHalfPercentage, firstHalfSize: firstHalfSize, secondHalfPercentage: secondHalfPercentage, secondHalfSize: secondHalfSize })) {\n                return;\n            }\n        }\n        leftSide.style.width = \"\".concat(firstHalfPercentage, \"%\");\n        document.body.classList.add('rpv-core__splitter-body--resizing');\n        leftSide.classList.add('rpv-core__splitter-sibling--resizing');\n        rightSide.classList.add('rpv-core__splitter-sibling--resizing');\n    };\n    var handleMouseUp = function (e) {\n        var resizerEle = resizerRef.current;\n        var leftSide = leftSideRef.current;\n        var rightSide = rightSideRef.current;\n        if (!resizerEle || !leftSide || !rightSide) {\n            return;\n        }\n        document.body.classList.remove('rpv-core__splitter-body--resizing');\n        resizerEle.classList.remove('rpv-core__splitter--resizing');\n        leftSide.classList.remove('rpv-core__splitter-sibling--resizing');\n        rightSide.classList.remove('rpv-core__splitter-sibling--resizing');\n        document.removeEventListener('mousemove', handleMouseMove, eventOptions);\n        document.removeEventListener('mouseup', handleMouseUp, eventOptions);\n    };\n    var handleMouseDown = function (e) {\n        var leftSide = leftSideRef.current;\n        if (!leftSide) {\n            return;\n        }\n        xRef.current = e.clientX;\n        yRef.current = e.clientY;\n        leftWidthRef.current = leftSide.getBoundingClientRect().width;\n        document.addEventListener('mousemove', handleMouseMove, eventOptions);\n        document.addEventListener('mouseup', handleMouseUp, eventOptions);\n    };\n    React__namespace.useEffect(function () {\n        var resizerEle = resizerRef.current;\n        if (!resizerEle) {\n            return;\n        }\n        resizerWidthRef.current = resizerEle.getBoundingClientRect().width;\n        leftSideRef.current = resizerEle.previousElementSibling;\n        rightSideRef.current = resizerEle.nextElementSibling;\n    }, []);\n    return React__namespace.createElement(\"div\", { ref: resizerRef, className: \"rpv-core__splitter\", onMouseDown: handleMouseDown });\n};\n\nvar TextBox = function (_a) {\n    var _b = _a.ariaLabel, ariaLabel = _b === void 0 ? '' : _b, _c = _a.autoFocus, autoFocus = _c === void 0 ? false : _c, _d = _a.placeholder, placeholder = _d === void 0 ? '' : _d, testId = _a.testId, _e = _a.type, type = _e === void 0 ? 'text' : _e, _f = _a.value, value = _f === void 0 ? '' : _f, onChange = _a.onChange, _g = _a.onKeyDown, onKeyDown = _g === void 0 ? function () { } : _g;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var textboxRef = React__namespace.useRef();\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = {\n        ref: textboxRef,\n        'data-testid': '',\n        'aria-label': ariaLabel,\n        className: classNames({\n            'rpv-core__textbox': true,\n            'rpv-core__textbox--rtl': isRtl,\n        }),\n        placeholder: placeholder,\n        value: value,\n        onChange: function (e) { return onChange(e.target.value); },\n        onKeyDown: onKeyDown,\n    };\n    if (testId) {\n        attrs['data-testid'] = testId;\n    }\n    useIsomorphicLayoutEffect(function () {\n        if (autoFocus) {\n            var textboxEle = textboxRef.current;\n            if (textboxEle) {\n                var x = window.scrollX;\n                var y = window.scrollY;\n                textboxEle.focus();\n                window.scrollTo(x, y);\n            }\n        }\n    }, []);\n    return type === 'text' ? React__namespace.createElement(\"input\", __assign({ type: \"text\" }, attrs)) : React__namespace.createElement(\"input\", __assign({ type: \"password\" }, attrs));\n};\n\nvar useIsMounted = function () {\n    var isMountedRef = React__namespace.useRef(false);\n    React__namespace.useEffect(function () {\n        isMountedRef.current = true;\n        return function () {\n            isMountedRef.current = false;\n        };\n    }, []);\n    return isMountedRef;\n};\n\nvar usePrevious = function (value) {\n    var ref = React__namespace.useRef(value);\n    React__namespace.useEffect(function () {\n        ref.current = value;\n    }, [value]);\n    return ref.current;\n};\n\nvar PageRenderStatus;\n(function (PageRenderStatus) {\n    PageRenderStatus[\"NotRenderedYet\"] = \"NotRenderedYet\";\n    PageRenderStatus[\"Rendering\"] = \"Rendering\";\n    PageRenderStatus[\"Rendered\"] = \"Rendered\";\n})(PageRenderStatus || (PageRenderStatus = {}));\nvar OUT_OF_RANGE_VISIBILITY = -9999;\nvar useRenderQueue = function (_a) {\n    var doc = _a.doc;\n    var numPages = doc.numPages;\n    var docId = doc.loadingTask.docId;\n    var initialPageVisibilities = React__namespace.useMemo(function () {\n        return Array(numPages)\n            .fill(null)\n            .map(function (_, pageIndex) { return ({\n            pageIndex: pageIndex,\n            renderStatus: PageRenderStatus.NotRenderedYet,\n            visibility: OUT_OF_RANGE_VISIBILITY,\n        }); });\n    }, [docId]);\n    var latestRef = React__namespace.useRef({\n        currentRenderingPage: -1,\n        startRange: 0,\n        endRange: numPages - 1,\n        visibilities: initialPageVisibilities,\n    });\n    var markNotRendered = function () {\n        for (var i = 0; i < numPages; i++) {\n            latestRef.current.visibilities[i].renderStatus = PageRenderStatus.NotRenderedYet;\n        }\n    };\n    var markRendered = function (pageIndex) {\n        latestRef.current.visibilities[pageIndex].renderStatus = PageRenderStatus.Rendered;\n    };\n    var markRendering = function (pageIndex) {\n        if (latestRef.current.currentRenderingPage !== -1 &&\n            latestRef.current.currentRenderingPage !== pageIndex &&\n            latestRef.current.visibilities[latestRef.current.currentRenderingPage].renderStatus ===\n                PageRenderStatus.Rendering) {\n            latestRef.current.visibilities[latestRef.current.currentRenderingPage].renderStatus =\n                PageRenderStatus.NotRenderedYet;\n        }\n        latestRef.current.visibilities[pageIndex].renderStatus = PageRenderStatus.Rendering;\n        latestRef.current.currentRenderingPage = pageIndex;\n    };\n    var setRange = function (startIndex, endIndex) {\n        latestRef.current.startRange = startIndex;\n        latestRef.current.endRange = endIndex;\n        for (var i = 0; i < numPages; i++) {\n            if (i < startIndex || i > endIndex) {\n                latestRef.current.visibilities[i].visibility = OUT_OF_RANGE_VISIBILITY;\n                latestRef.current.visibilities[i].renderStatus = PageRenderStatus.NotRenderedYet;\n            }\n        }\n    };\n    var setOutOfRange = function (pageIndex) {\n        setVisibility(pageIndex, OUT_OF_RANGE_VISIBILITY);\n    };\n    var setVisibility = function (pageIndex, visibility) {\n        latestRef.current.visibilities[pageIndex].visibility = visibility;\n    };\n    var getHighestPriorityPage = function () {\n        var visiblePages = latestRef.current.visibilities\n            .slice(latestRef.current.startRange, latestRef.current.endRange + 1)\n            .filter(function (item) { return item.visibility > OUT_OF_RANGE_VISIBILITY; });\n        if (!visiblePages.length) {\n            return -1;\n        }\n        var firstVisiblePage = visiblePages[0].pageIndex;\n        var lastVisiblePage = visiblePages[visiblePages.length - 1].pageIndex;\n        var numVisiblePages = visiblePages.length;\n        for (var i = 0; i < numVisiblePages; i++) {\n            if (visiblePages[i].renderStatus === PageRenderStatus.Rendering) {\n                return -1;\n            }\n            if (visiblePages[i].renderStatus === PageRenderStatus.NotRenderedYet) {\n                return visiblePages[i].pageIndex;\n            }\n        }\n        if (lastVisiblePage + 1 < numPages &&\n            latestRef.current.visibilities[lastVisiblePage + 1].renderStatus !== PageRenderStatus.Rendered) {\n            return lastVisiblePage + 1;\n        }\n        else if (firstVisiblePage - 1 >= 0 &&\n            latestRef.current.visibilities[firstVisiblePage - 1].renderStatus !== PageRenderStatus.Rendered) {\n            return firstVisiblePage - 1;\n        }\n        return -1;\n    };\n    var isInRange = function (pageIndex) {\n        return pageIndex >= latestRef.current.startRange && pageIndex <= latestRef.current.endRange;\n    };\n    return {\n        getHighestPriorityPage: getHighestPriorityPage,\n        isInRange: isInRange,\n        markNotRendered: markNotRendered,\n        markRendered: markRendered,\n        markRendering: markRendering,\n        setOutOfRange: setOutOfRange,\n        setRange: setRange,\n        setVisibility: setVisibility,\n    };\n};\n\nvar core = {\n\taskingPassword: {\n\t\trequirePasswordToOpen: \"This document requires a password to open\",\n\t\tsubmit: \"Submit\"\n\t},\n\twrongPassword: {\n\t\ttryAgain: \"The password is wrong. Please try again\"\n\t},\n\tpageLabel: \"Page {{pageIndex}}\"\n};\nvar enUs = {\n\tcore: core\n};\n\nvar DefaultLocalization = enUs;\nvar LocalizationContext = React__namespace.createContext({\n    l10n: DefaultLocalization,\n    setL10n: function () { },\n});\n\nvar id = 0;\nvar uniqueId = function () { return id++; };\n\nvar useClickOutside = function (closeOnClickOutside, targetRef, onClickOutside) {\n    var clickHandler = function (e) {\n        var target = targetRef.current;\n        if (!target) {\n            return;\n        }\n        var clickedTarget = e.target;\n        if (clickedTarget instanceof Element && clickedTarget.shadowRoot) {\n            var paths = e.composedPath();\n            if (paths.length > 0 && !target.contains(paths[0])) {\n                onClickOutside();\n            }\n        }\n        else if (!target.contains(clickedTarget)) {\n            onClickOutside();\n        }\n    };\n    React__namespace.useEffect(function () {\n        if (!closeOnClickOutside) {\n            return;\n        }\n        var eventOptions = {\n            capture: true,\n        };\n        document.addEventListener('click', clickHandler, eventOptions);\n        return function () {\n            document.removeEventListener('click', clickHandler, eventOptions);\n        };\n    }, []);\n};\n\nvar useEscape = function (handler) {\n    var keyUpHandler = function (e) {\n        if (e.key === 'Escape') {\n            handler();\n        }\n    };\n    React__namespace.useEffect(function () {\n        document.addEventListener('keyup', keyUpHandler);\n        return function () {\n            document.removeEventListener('keyup', keyUpHandler);\n        };\n    }, []);\n};\n\nvar useLockScroll = function () {\n    React__namespace.useEffect(function () {\n        var originalStyle = window.getComputedStyle(document.body).overflow;\n        document.body.style.overflow = 'hidden';\n        return function () {\n            document.body.style.overflow = originalStyle;\n        };\n    }, []);\n};\n\nvar ModalBody = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, onToggle = _a.onToggle;\n    var contentRef = React__namespace.useRef();\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    useLockScroll();\n    useEscape(function () {\n        if (contentRef.current && closeOnEscape) {\n            onToggle();\n        }\n    });\n    useClickOutside(closeOnClickOutside, contentRef, onToggle);\n    useIsomorphicLayoutEffect(function () {\n        var contentEle = contentRef.current;\n        if (!contentEle) {\n            return;\n        }\n        var maxHeight = document.body.clientHeight * 0.75;\n        if (contentEle.getBoundingClientRect().height >= maxHeight) {\n            contentEle.style.overflow = 'auto';\n            contentEle.style.maxHeight = \"\".concat(maxHeight, \"px\");\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { \"aria-modal\": \"true\", className: classNames({\n            'rpv-core__modal-body': true,\n            'rpv-core__modal-body--rtl': isRtl,\n        }), id: \"rpv-core__modal-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"dialog\", tabIndex: -1 }, children));\n};\n\nvar ModalOverlay = function (_a) {\n    var children = _a.children;\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__modal-overlay\" }, children);\n};\n\nexports.ToggleStatus = void 0;\n(function (ToggleStatus) {\n    ToggleStatus[\"Close\"] = \"Close\";\n    ToggleStatus[\"Open\"] = \"Open\";\n    ToggleStatus[\"Toggle\"] = \"Toggle\";\n})(exports.ToggleStatus || (exports.ToggleStatus = {}));\n\nvar useToggle = function (isOpened) {\n    var _a = React__namespace.useState(isOpened), opened = _a[0], setOpened = _a[1];\n    var toggle = function (status) {\n        switch (status) {\n            case exports.ToggleStatus.Close:\n                setOpened(false);\n                break;\n            case exports.ToggleStatus.Open:\n                setOpened(true);\n                break;\n            case exports.ToggleStatus.Toggle:\n            default:\n                setOpened(function (isOpened) { return !isOpened; });\n                break;\n        }\n    };\n    return { opened: opened, toggle: toggle };\n};\n\nvar Portal = function (_a) {\n    var content = _a.content, _b = _a.isOpened, isOpened = _b === void 0 ? false : _b, target = _a.target;\n    var _c = useToggle(isOpened), opened = _c.opened, toggle = _c.toggle;\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        target && target(toggle, opened),\n        opened && content(toggle)));\n};\n\nvar Modal = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, content = _a.content, _b = _a.isOpened, isOpened = _b === void 0 ? false : _b, target = _a.target;\n    var controlsSuffix = ariaControlsSuffix || \"\".concat(uniqueId());\n    var renderTarget = function (toggle, opened) { return (React__namespace.createElement(\"div\", { \"aria-expanded\": opened ? 'true' : 'false', \"aria-haspopup\": \"dialog\", \"aria-controls\": \"rpv-core__modal-body-\".concat(controlsSuffix) }, target(toggle, opened))); };\n    var renderContent = function (toggle) { return (React__namespace.createElement(ModalOverlay, null,\n        React__namespace.createElement(ModalBody, { ariaControlsSuffix: controlsSuffix, closeOnClickOutside: closeOnClickOutside, closeOnEscape: closeOnEscape, onToggle: toggle }, content(toggle)))); };\n    return React__namespace.createElement(Portal, { target: target ? renderTarget : null, content: renderContent, isOpened: isOpened });\n};\n\nexports.Position = void 0;\n(function (Position) {\n    Position[\"TopLeft\"] = \"TOP_LEFT\";\n    Position[\"TopCenter\"] = \"TOP_CENTER\";\n    Position[\"TopRight\"] = \"TOP_RIGHT\";\n    Position[\"RightTop\"] = \"RIGHT_TOP\";\n    Position[\"RightCenter\"] = \"RIGHT_CENTER\";\n    Position[\"RightBottom\"] = \"RIGHT_BOTTOM\";\n    Position[\"BottomLeft\"] = \"BOTTOM_LEFT\";\n    Position[\"BottomCenter\"] = \"BOTTOM_CENTER\";\n    Position[\"BottomRight\"] = \"BOTTOM_RIGHT\";\n    Position[\"LeftTop\"] = \"LEFT_TOP\";\n    Position[\"LeftCenter\"] = \"LEFT_CENTER\";\n    Position[\"LeftBottom\"] = \"LEFT_BOTTOM\";\n})(exports.Position || (exports.Position = {}));\n\nvar calculatePosition = function (content, target, position, offset) {\n    var targetRect = target.getBoundingClientRect();\n    var contentRect = content.getBoundingClientRect();\n    var height = contentRect.height, width = contentRect.width;\n    var top = 0;\n    var left = 0;\n    switch (position) {\n        case exports.Position.TopLeft:\n            top = targetRect.top - height;\n            left = targetRect.left;\n            break;\n        case exports.Position.TopCenter:\n            top = targetRect.top - height;\n            left = targetRect.left + targetRect.width / 2 - width / 2;\n            break;\n        case exports.Position.TopRight:\n            top = targetRect.top - height;\n            left = targetRect.left + targetRect.width - width;\n            break;\n        case exports.Position.RightTop:\n            top = targetRect.top;\n            left = targetRect.left + targetRect.width;\n            break;\n        case exports.Position.RightCenter:\n            top = targetRect.top + targetRect.height / 2 - height / 2;\n            left = targetRect.left + targetRect.width;\n            break;\n        case exports.Position.RightBottom:\n            top = targetRect.top + targetRect.height - height;\n            left = targetRect.left + targetRect.width;\n            break;\n        case exports.Position.BottomLeft:\n            top = targetRect.top + targetRect.height;\n            left = targetRect.left;\n            break;\n        case exports.Position.BottomCenter:\n            top = targetRect.top + targetRect.height;\n            left = targetRect.left + targetRect.width / 2 - width / 2;\n            break;\n        case exports.Position.BottomRight:\n            top = targetRect.top + targetRect.height;\n            left = targetRect.left + targetRect.width - width;\n            break;\n        case exports.Position.LeftTop:\n            top = targetRect.top;\n            left = targetRect.left - width;\n            break;\n        case exports.Position.LeftCenter:\n            top = targetRect.top + targetRect.height / 2 - height / 2;\n            left = targetRect.left - width;\n            break;\n        case exports.Position.LeftBottom:\n            top = targetRect.top + targetRect.height - height;\n            left = targetRect.left - width;\n            break;\n    }\n    return {\n        left: left + (offset.left || 0),\n        top: top + (offset.top || 0),\n    };\n};\n\nvar usePosition = function (contentRef, targetRef, anchorRef, position, offset) {\n    useIsomorphicLayoutEffect(function () {\n        var targetEle = targetRef.current;\n        var contentEle = contentRef.current;\n        var anchorEle = anchorRef.current;\n        if (!contentEle || !targetEle || !anchorEle) {\n            return;\n        }\n        var anchorRect = anchorEle.getBoundingClientRect();\n        var _a = calculatePosition(contentEle, targetEle, position, offset), top = _a.top, left = _a.left;\n        contentEle.style.top = \"\".concat(top - anchorRect.top, \"px\");\n        contentEle.style.left = \"\".concat(left - anchorRect.left, \"px\");\n    }, []);\n};\n\nvar Arrow = function (_a) {\n    var _b;\n    var customClassName = _a.customClassName, position = _a.position;\n    return (React__namespace.createElement(\"div\", { className: classNames((_b = {\n                'rpv-core__arrow': true,\n                'rpv-core__arrow--tl': position === exports.Position.TopLeft,\n                'rpv-core__arrow--tc': position === exports.Position.TopCenter,\n                'rpv-core__arrow--tr': position === exports.Position.TopRight,\n                'rpv-core__arrow--rt': position === exports.Position.RightTop,\n                'rpv-core__arrow--rc': position === exports.Position.RightCenter,\n                'rpv-core__arrow--rb': position === exports.Position.RightBottom,\n                'rpv-core__arrow--bl': position === exports.Position.BottomLeft,\n                'rpv-core__arrow--bc': position === exports.Position.BottomCenter,\n                'rpv-core__arrow--br': position === exports.Position.BottomRight,\n                'rpv-core__arrow--lt': position === exports.Position.LeftTop,\n                'rpv-core__arrow--lc': position === exports.Position.LeftCenter,\n                'rpv-core__arrow--lb': position === exports.Position.LeftBottom\n            },\n            _b[\"\".concat(customClassName)] = customClassName !== '',\n            _b)) }));\n};\n\nvar PopoverBody = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, closeOnClickOutside = _a.closeOnClickOutside, offset = _a.offset, position = _a.position, targetRef = _a.targetRef, onClose = _a.onClose;\n    var contentRef = React__namespace.useRef();\n    var innerRef = React__namespace.useRef();\n    var anchorRef = React__namespace.useRef();\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    useClickOutside(closeOnClickOutside, contentRef, onClose);\n    usePosition(contentRef, targetRef, anchorRef, position, offset);\n    useIsomorphicLayoutEffect(function () {\n        var innerContentEle = innerRef.current;\n        if (!innerContentEle) {\n            return;\n        }\n        var maxHeight = document.body.clientHeight * 0.75;\n        if (innerContentEle.getBoundingClientRect().height >= maxHeight) {\n            innerContentEle.style.overflow = 'auto';\n            innerContentEle.style.maxHeight = \"\".concat(maxHeight, \"px\");\n        }\n    }, []);\n    var innerId = \"rpv-core__popover-body-inner-\".concat(ariaControlsSuffix);\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { ref: anchorRef, style: { left: 0, position: 'absolute', top: 0 } }),\n        React__namespace.createElement(\"div\", { \"aria-describedby\": innerId, className: classNames({\n                'rpv-core__popover-body': true,\n                'rpv-core__popover-body--rtl': isRtl,\n            }), id: \"rpv-core__popover-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"dialog\", tabIndex: -1 },\n            React__namespace.createElement(Arrow, { customClassName: \"rpv-core__popover-body-arrow\", position: position }),\n            React__namespace.createElement(\"div\", { id: innerId, ref: innerRef }, children))));\n};\n\nvar PopoverOverlay = function (_a) {\n    var closeOnEscape = _a.closeOnEscape, onClose = _a.onClose;\n    var containerRef = React__namespace.useRef();\n    useEscape(function () {\n        if (containerRef.current && closeOnEscape) {\n            onClose();\n        }\n    });\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__popover-overlay\", ref: containerRef });\n};\n\nvar Popover = function (_a) {\n    var _b = _a.ariaHasPopup, ariaHasPopup = _b === void 0 ? 'dialog' : _b, ariaControlsSuffix = _a.ariaControlsSuffix, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, content = _a.content, _c = _a.lockScroll, lockScroll = _c === void 0 ? true : _c, offset = _a.offset, position = _a.position, target = _a.target;\n    var _d = useToggle(false), opened = _d.opened, toggle = _d.toggle;\n    var targetRef = React__namespace.useRef();\n    var controlsSuffix = React__namespace.useMemo(function () { return ariaControlsSuffix || \"\".concat(uniqueId()); }, []);\n    return (React__namespace.createElement(\"div\", { ref: targetRef, \"aria-expanded\": opened ? 'true' : 'false', \"aria-haspopup\": ariaHasPopup, \"aria-controls\": \"rpv-core__popver-body-\".concat(controlsSuffix) },\n        target(toggle, opened),\n        opened && (React__namespace.createElement(React__namespace.Fragment, null,\n            lockScroll && React__namespace.createElement(PopoverOverlay, { closeOnEscape: closeOnEscape, onClose: toggle }),\n            React__namespace.createElement(PopoverBody, { ariaControlsSuffix: controlsSuffix, closeOnClickOutside: closeOnClickOutside, offset: offset, position: position, targetRef: targetRef, onClose: toggle }, content(toggle))))));\n};\n\nvar TooltipBody = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, contentRef = _a.contentRef, offset = _a.offset, position = _a.position, targetRef = _a.targetRef;\n    var anchorRef = React__namespace.useRef();\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    usePosition(contentRef, targetRef, anchorRef, position, offset);\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { ref: anchorRef, style: { left: 0, position: 'absolute', top: 0 } }),\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__tooltip-body': true,\n                'rpv-core__tooltip-body--rtl': isRtl,\n            }), id: \"rpv-core__tooltip-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"tooltip\" },\n            React__namespace.createElement(Arrow, { customClassName: \"rpv-core__tooltip-body-arrow\", position: position }),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__tooltip-body-content\" }, children))));\n};\n\nvar Tooltip = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, content = _a.content, offset = _a.offset, position = _a.position, target = _a.target;\n    var _b = useToggle(false), opened = _b.opened, toggle = _b.toggle;\n    var targetRef = React__namespace.useRef();\n    var contentRef = React__namespace.useRef();\n    var controlsSuffix = React__namespace.useMemo(function () { return ariaControlsSuffix || \"\".concat(uniqueId()); }, []);\n    useEscape(function () {\n        if (targetRef.current && document.activeElement && targetRef.current.contains(document.activeElement)) {\n            close();\n        }\n    });\n    var open = function () {\n        toggle(exports.ToggleStatus.Open);\n    };\n    var close = function () {\n        toggle(exports.ToggleStatus.Close);\n    };\n    var onBlur = function (e) {\n        var shouldHideTooltip = e.relatedTarget instanceof HTMLElement &&\n            e.currentTarget.parentElement &&\n            e.currentTarget.parentElement.contains(e.relatedTarget);\n        if (shouldHideTooltip) {\n            if (contentRef.current) {\n                contentRef.current.style.display = 'none';\n            }\n        }\n        else {\n            close();\n        }\n    };\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { ref: targetRef, \"aria-describedby\": \"rpv-core__tooltip-body-\".concat(controlsSuffix), onBlur: onBlur, onFocus: open, onMouseEnter: open, onMouseLeave: close }, target),\n        opened && (React__namespace.createElement(TooltipBody, { ariaControlsSuffix: controlsSuffix, contentRef: contentRef, offset: offset, position: position, targetRef: targetRef }, content()))));\n};\n\nfunction createStore(initialState) {\n    var state = initialState || {};\n    var listeners = {};\n    var update = function (key, data) {\n        var _a;\n        state = __assign(__assign({}, state), (_a = {}, _a[key] = data, _a));\n        (listeners[key] || []).forEach(function (handler) { return handler(state[key]); });\n    };\n    var get = function (key) { return state[key]; };\n    return {\n        subscribe: function (key, handler) {\n            listeners[key] = (listeners[key] || []).concat(handler);\n        },\n        unsubscribe: function (key, handler) {\n            listeners[key] = (listeners[key] || []).filter(function (f) { return f !== handler; });\n        },\n        update: function (key, data) {\n            update(key, data);\n        },\n        updateCurrentValue: function (key, updater) {\n            var currentValue = get(key);\n            if (currentValue !== undefined) {\n                update(key, updater(currentValue));\n            }\n        },\n        get: function (key) {\n            return get(key);\n        },\n    };\n}\n\nexports.LayerRenderStatus = void 0;\n(function (LayerRenderStatus) {\n    LayerRenderStatus[LayerRenderStatus[\"PreRender\"] = 0] = \"PreRender\";\n    LayerRenderStatus[LayerRenderStatus[\"DidRender\"] = 1] = \"DidRender\";\n})(exports.LayerRenderStatus || (exports.LayerRenderStatus = {}));\n\nexports.PageMode = void 0;\n(function (PageMode) {\n    PageMode[\"Attachments\"] = \"UseAttachments\";\n    PageMode[\"Bookmarks\"] = \"UseOutlines\";\n    PageMode[\"ContentGroup\"] = \"UseOC\";\n    PageMode[\"Default\"] = \"UserNone\";\n    PageMode[\"FullScreen\"] = \"FullScreen\";\n    PageMode[\"Thumbnails\"] = \"UseThumbs\";\n})(exports.PageMode || (exports.PageMode = {}));\n\nexports.PasswordStatus = void 0;\n(function (PasswordStatus) {\n    PasswordStatus[\"RequiredPassword\"] = \"RequiredPassword\";\n    PasswordStatus[\"WrongPassword\"] = \"WrongPassword\";\n})(exports.PasswordStatus || (exports.PasswordStatus = {}));\n\nexports.RotateDirection = void 0;\n(function (RotateDirection) {\n    RotateDirection[\"Backward\"] = \"Backward\";\n    RotateDirection[\"Forward\"] = \"Forward\";\n})(exports.RotateDirection || (exports.RotateDirection = {}));\n\nexports.ScrollMode = void 0;\n(function (ScrollMode) {\n    ScrollMode[\"Page\"] = \"Page\";\n    ScrollMode[\"Horizontal\"] = \"Horizontal\";\n    ScrollMode[\"Vertical\"] = \"Vertical\";\n    ScrollMode[\"Wrapped\"] = \"Wrapped\";\n})(exports.ScrollMode || (exports.ScrollMode = {}));\n\nexports.SpecialZoomLevel = void 0;\n(function (SpecialZoomLevel) {\n    SpecialZoomLevel[\"ActualSize\"] = \"ActualSize\";\n    SpecialZoomLevel[\"PageFit\"] = \"PageFit\";\n    SpecialZoomLevel[\"PageWidth\"] = \"PageWidth\";\n})(exports.SpecialZoomLevel || (exports.SpecialZoomLevel = {}));\n\nexports.ViewMode = void 0;\n(function (ViewMode) {\n    ViewMode[\"DualPage\"] = \"DualPage\";\n    ViewMode[\"DualPageWithCover\"] = \"DualPageWithCover\";\n    ViewMode[\"SinglePage\"] = \"SinglePage\";\n})(exports.ViewMode || (exports.ViewMode = {}));\n\nvar chunk = function (arr, size) {\n    return arr.reduce(function (acc, e, i) { return (i % size ? acc[acc.length - 1].push(e) : acc.push([e]), acc); }, []);\n};\n\nvar isMac = function () { return (typeof window !== 'undefined' ? /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform) : false); };\n\nvar normalizeDestination = function (pageIndex, destArray) {\n    switch (destArray[1].name) {\n        case 'XYZ':\n            return {\n                bottomOffset: function (_, viewportHeight) {\n                    return destArray[3] === null ? viewportHeight : destArray[3];\n                },\n                leftOffset: function (_, __) { return (destArray[2] === null ? 0 : destArray[2]); },\n                pageIndex: pageIndex,\n                scaleTo: destArray[4],\n            };\n        case 'Fit':\n        case 'FitB':\n            return {\n                bottomOffset: 0,\n                leftOffset: 0,\n                pageIndex: pageIndex,\n                scaleTo: exports.SpecialZoomLevel.PageFit,\n            };\n        case 'FitH':\n        case 'FitBH':\n            return {\n                bottomOffset: destArray[2],\n                leftOffset: 0,\n                pageIndex: pageIndex,\n                scaleTo: exports.SpecialZoomLevel.PageWidth,\n            };\n        default:\n            return {\n                bottomOffset: 0,\n                leftOffset: 0,\n                pageIndex: pageIndex,\n                scaleTo: 1,\n            };\n    }\n};\nvar pageOutlinesMap = new Map();\nvar pagesMap = new Map();\nvar generateRefKey = function (doc, outline) {\n    return \"\".concat(doc.loadingTask.docId, \"___\").concat(outline.num, \"R\").concat(outline.gen === 0 ? '' : outline.gen);\n};\nvar getPageIndex = function (doc, outline) {\n    var key = generateRefKey(doc, outline);\n    return pageOutlinesMap.has(key) ? pageOutlinesMap.get(key) : null;\n};\nvar cacheOutlineRef = function (doc, outline, pageIndex) {\n    pageOutlinesMap.set(generateRefKey(doc, outline), pageIndex);\n};\nvar clearPagesCache = function () {\n    pageOutlinesMap.clear();\n    pagesMap.clear();\n};\nvar getPage = function (doc, pageIndex) {\n    if (!doc) {\n        return Promise.reject('The document is not loaded yet');\n    }\n    var pageKey = \"\".concat(doc.loadingTask.docId, \"___\").concat(pageIndex);\n    var page = pagesMap.get(pageKey);\n    if (page) {\n        return Promise.resolve(page);\n    }\n    return new Promise(function (resolve, _) {\n        doc.getPage(pageIndex + 1).then(function (page) {\n            pagesMap.set(pageKey, page);\n            if (page.ref) {\n                cacheOutlineRef(doc, page.ref, pageIndex);\n            }\n            resolve(page);\n        });\n    });\n};\nvar getDestination = function (doc, dest) {\n    return new Promise(function (res) {\n        new Promise(function (resolve) {\n            if (typeof dest === 'string') {\n                doc.getDestination(dest).then(function (destArray) {\n                    resolve(destArray);\n                });\n            }\n            else {\n                resolve(dest);\n            }\n        }).then(function (destArray) {\n            if ('object' === typeof destArray[0] && destArray[0] !== null) {\n                var outlineRef_1 = destArray[0];\n                var pageIndex = getPageIndex(doc, outlineRef_1);\n                if (pageIndex === null) {\n                    doc.getPageIndex(outlineRef_1).then(function (pageIndex) {\n                        cacheOutlineRef(doc, outlineRef_1, pageIndex);\n                        getDestination(doc, dest).then(function (result) { return res(result); });\n                    });\n                }\n                else {\n                    res(normalizeDestination(pageIndex, destArray));\n                }\n            }\n            else {\n                var target = normalizeDestination(destArray[0], destArray);\n                res(target);\n            }\n        });\n    });\n};\n\nvar useDebounceCallback = function (callback, wait) {\n    var timeout = React__namespace.useRef();\n    var cleanup = function () {\n        if (timeout.current) {\n            clearTimeout(timeout.current);\n        }\n    };\n    React__namespace.useEffect(function () {\n        return function () { return cleanup(); };\n    }, []);\n    return React__namespace.useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        cleanup();\n        timeout.current = setTimeout(function () {\n            callback.apply(void 0, args);\n        }, wait);\n    }, [callback, wait]);\n};\n\nvar useTrackResize = function (_a) {\n    var targetRef = _a.targetRef, onResize = _a.onResize;\n    useIsomorphicLayoutEffect(function () {\n        var io = new ResizeObserver(function (entries) {\n            entries.forEach(function (entry) {\n                onResize(entry.target);\n            });\n        });\n        var container = targetRef.current;\n        if (!container) {\n            return;\n        }\n        io.observe(container);\n        return function () {\n            io.unobserve(container);\n        };\n    }, []);\n};\n\nvar AnnotationBorderStyleType;\n(function (AnnotationBorderStyleType) {\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Solid\"] = 1] = \"Solid\";\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Dashed\"] = 2] = \"Dashed\";\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Beveled\"] = 3] = \"Beveled\";\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Inset\"] = 4] = \"Inset\";\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Underline\"] = 5] = \"Underline\";\n})(AnnotationBorderStyleType || (AnnotationBorderStyleType = {}));\n\nvar dateRegex = new RegExp('^D:' +\n    '(\\\\d{4})' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '([Z|+|-])?' +\n    '(\\\\d{2})?' +\n    \"'?\" +\n    '(\\\\d{2})?' +\n    \"'?\");\nvar parse = function (value, min, max, defaultValue) {\n    var parsed = parseInt(value, 10);\n    return parsed >= min && parsed <= max ? parsed : defaultValue;\n};\nvar convertDate = function (input) {\n    var matches = dateRegex.exec(input);\n    if (!matches) {\n        return null;\n    }\n    var year = parseInt(matches[1], 10);\n    var month = parse(matches[2], 1, 12, 1) - 1;\n    var day = parse(matches[3], 1, 31, 1);\n    var hour = parse(matches[4], 0, 23, 0);\n    var minute = parse(matches[5], 0, 59, 0);\n    var second = parse(matches[6], 0, 59, 0);\n    var universalTimeRelation = matches[7] || 'Z';\n    var offsetHour = parse(matches[8], 0, 23, 0);\n    var offsetMinute = parse(matches[9], 0, 59, 0);\n    switch (universalTimeRelation) {\n        case '-':\n            hour += offsetHour;\n            minute += offsetMinute;\n            break;\n        case '+':\n            hour -= offsetHour;\n            minute -= offsetMinute;\n            break;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n};\n\nvar getContents = function (annotation) {\n    return annotation.contentsObj ? annotation.contentsObj.str : annotation.contents || '';\n};\n\nvar getTitle = function (annotation) {\n    return annotation.titleObj ? annotation.titleObj.str : annotation.title || '';\n};\n\nvar PopupWrapper = function (_a) {\n    var annotation = _a.annotation;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var containerRef = React__namespace.useRef();\n    var dateStr = '';\n    if (annotation.modificationDate) {\n        var date = convertDate(annotation.modificationDate);\n        dateStr = date ? \"\".concat(date.toLocaleDateString(), \", \").concat(date.toLocaleTimeString()) : '';\n    }\n    React__namespace.useLayoutEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        var annotationEle = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.id, \"\\\"]\"));\n        if (!annotationEle) {\n            return;\n        }\n        var ele = annotationEle;\n        ele.style.zIndex += 1;\n        return function () {\n            ele.style.zIndex = \"\".concat(parseInt(ele.style.zIndex, 10) - 1);\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, className: classNames({\n            'rpv-core__annotation-popup-wrapper': true,\n            'rpv-core__annotation-popup-wrapper--rtl': isRtl,\n        }), style: {\n            top: annotation.annotationType === exports.AnnotationType.Popup ? '' : '100%',\n        } },\n        title && (React__namespace.createElement(React__namespace.Fragment, null,\n            React__namespace.createElement(\"div\", { className: classNames({\n                    'rpv-core__annotation-popup-title': true,\n                    'rpv-core__annotation-popup-title--ltr': !isRtl,\n                    'rpv-core__annotation-popup-title--rtl': isRtl,\n                }) }, title),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-popup-date\" }, dateStr))),\n        contents && (React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-popup-content\" }, contents.split('\\n').map(function (item, index) { return (React__namespace.createElement(React__namespace.Fragment, { key: index },\n            item,\n            React__namespace.createElement(\"br\", null))); })))));\n};\n\nvar TogglePopupBy;\n(function (TogglePopupBy) {\n    TogglePopupBy[\"Click\"] = \"Click\";\n    TogglePopupBy[\"Hover\"] = \"Hover\";\n})(TogglePopupBy || (TogglePopupBy = {}));\nvar useTogglePopup = function () {\n    var _a = useToggle(false), opened = _a.opened, toggle = _a.toggle;\n    var _b = React__namespace.useState(TogglePopupBy.Hover), togglePopupBy = _b[0], setTooglePopupBy = _b[1];\n    var toggleOnClick = function () {\n        switch (togglePopupBy) {\n            case TogglePopupBy.Click:\n                opened && setTooglePopupBy(TogglePopupBy.Hover);\n                toggle(exports.ToggleStatus.Toggle);\n                break;\n            case TogglePopupBy.Hover:\n                setTooglePopupBy(TogglePopupBy.Click);\n                toggle(exports.ToggleStatus.Open);\n                break;\n        }\n    };\n    var openOnHover = function () {\n        togglePopupBy === TogglePopupBy.Hover && toggle(exports.ToggleStatus.Open);\n    };\n    var closeOnHover = function () {\n        togglePopupBy === TogglePopupBy.Hover && toggle(exports.ToggleStatus.Close);\n    };\n    return {\n        opened: opened,\n        closeOnHover: closeOnHover,\n        openOnHover: openOnHover,\n        toggleOnClick: toggleOnClick,\n    };\n};\n\nvar Annotation = function (_a) {\n    var annotation = _a.annotation, children = _a.children, ignoreBorder = _a.ignoreBorder, hasPopup = _a.hasPopup, isRenderable = _a.isRenderable, page = _a.page, viewport = _a.viewport;\n    var rect = annotation.rect;\n    var _b = useTogglePopup(), closeOnHover = _b.closeOnHover, opened = _b.opened, openOnHover = _b.openOnHover, toggleOnClick = _b.toggleOnClick;\n    var normalizeRect = function (r) { return [\n        Math.min(r[0], r[2]),\n        Math.min(r[1], r[3]),\n        Math.max(r[0], r[2]),\n        Math.max(r[1], r[3]),\n    ]; };\n    var bound = normalizeRect([\n        rect[0],\n        page.view[3] + page.view[1] - rect[1],\n        rect[2],\n        page.view[3] + page.view[1] - rect[3],\n    ]);\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var styles = {\n        borderColor: '',\n        borderRadius: '',\n        borderStyle: '',\n        borderWidth: '',\n    };\n    if (!ignoreBorder && annotation.borderStyle.width > 0) {\n        switch (annotation.borderStyle.style) {\n            case AnnotationBorderStyleType.Dashed:\n                styles.borderStyle = 'dashed';\n                break;\n            case AnnotationBorderStyleType.Solid:\n                styles.borderStyle = 'solid';\n                break;\n            case AnnotationBorderStyleType.Underline:\n                styles = Object.assign({\n                    borderBottomStyle: 'solid',\n                }, styles);\n                break;\n            case AnnotationBorderStyleType.Beveled:\n            case AnnotationBorderStyleType.Inset:\n        }\n        var borderWidth = annotation.borderStyle.width;\n        styles.borderWidth = \"\".concat(borderWidth, \"px\");\n        if (annotation.borderStyle.style !== AnnotationBorderStyleType.Underline) {\n            width = width - 2 * borderWidth;\n            height = height - 2 * borderWidth;\n        }\n        var _c = annotation.borderStyle, horizontalCornerRadius = _c.horizontalCornerRadius, verticalCornerRadius = _c.verticalCornerRadius;\n        if (horizontalCornerRadius > 0 || verticalCornerRadius > 0) {\n            styles.borderRadius = \"\".concat(horizontalCornerRadius, \"px / \").concat(verticalCornerRadius, \"px\");\n        }\n        annotation.color\n            ? (styles.borderColor = \"rgb(\".concat(annotation.color[0] | 0, \", \").concat(annotation.color[1] | 0, \", \").concat(annotation.color[2] | 0, \")\"))\n            :\n                (styles.borderWidth = '0');\n    }\n    return (React__namespace.createElement(React__namespace.Fragment, null, isRenderable &&\n        children({\n            popup: {\n                opened: opened,\n                closeOnHover: closeOnHover,\n                openOnHover: openOnHover,\n                toggleOnClick: toggleOnClick,\n            },\n            slot: {\n                attrs: {\n                    style: Object.assign({\n                        height: \"\".concat(height, \"px\"),\n                        left: \"\".concat(bound[0], \"px\"),\n                        top: \"\".concat(bound[1], \"px\"),\n                        transform: \"matrix(\".concat(viewport.transform.join(','), \")\"),\n                        transformOrigin: \"-\".concat(bound[0], \"px -\").concat(bound[1], \"px\"),\n                        width: \"\".concat(width, \"px\"),\n                    }, styles),\n                },\n                children: React__namespace.createElement(React__namespace.Fragment, null, hasPopup && opened && React__namespace.createElement(PopupWrapper, { annotation: annotation })),\n            },\n        })));\n};\n\nvar Caret = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--caret\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar Circle = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--circle\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"circle\", { cy: height / 2, fill: \"none\", rx: width / 2 - borderWidth / 2, ry: height / 2 - borderWidth / 2, stroke: \"transparent\", strokeWidth: borderWidth || 1 })),\n        props.slot.children)); }));\n};\n\nvar getFileName = function (url) {\n    var str = url.split('/').pop();\n    return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar downloadFile = function (url, data) {\n    var blobUrl = typeof data === 'string' ? '' : URL.createObjectURL(new Blob([data], { type: '' }));\n    var link = document.createElement('a');\n    link.style.display = 'none';\n    link.href = blobUrl || url;\n    link.setAttribute('download', getFileName(url));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    if (blobUrl) {\n        URL.revokeObjectURL(blobUrl);\n    }\n};\n\nvar FileAttachment = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var hasPopup = annotation.hasPopup === false && (!!title || !!contents);\n    var doubleClick = function () {\n        var file = annotation.file;\n        file && downloadFile(file.filename, file.content);\n    };\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: true, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--file-attachment\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onDoubleClick: doubleClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar FreeText = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--free-text\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar Popup = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(title || contents);\n    var ignoredParents = ['Circle', 'Ink', 'Line', 'Polygon', 'PolyLine', 'Square'];\n    var hasPopup = !annotation.parentType || ignoredParents.indexOf(annotation.parentType) !== -1;\n    useIsomorphicLayoutEffect(function () {\n        if (!annotation.parentId) {\n            return;\n        }\n        var parent = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.parentId, \"\\\"]\"));\n        var container = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.id, \"\\\"]\"));\n        if (!parent || !container) {\n            return;\n        }\n        var left = parseFloat(parent.style.left);\n        var top = parseFloat(parent.style.top) + parseFloat(parent.style.height);\n        container.style.left = \"\".concat(left, \"px\");\n        container.style.top = \"\".concat(top, \"px\");\n        container.style.transformOrigin = \"-\".concat(left, \"px -\").concat(top, \"px\");\n    }, []);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--popup\", \"data-annotation-id\": annotation.id }),\n        React__namespace.createElement(PopupWrapper, { annotation: annotation }))); }));\n};\n\nvar Highlight = function (_a) {\n    var annotation = _a.annotation, childAnnotation = _a.childAnnotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    var hasQuadPoints = annotation.quadPoints && annotation.quadPoints.length > 0;\n    if (hasQuadPoints) {\n        var annotations = annotation.quadPoints.map(function (quadPoint) {\n            return Object.assign({}, annotation, {\n                rect: [quadPoint[2].x, quadPoint[2].y, quadPoint[1].x, quadPoint[1].y],\n                quadPoints: [],\n            });\n        });\n        return (React__namespace.createElement(React__namespace.Fragment, null, annotations.map(function (ann, index) { return (React__namespace.createElement(Highlight, { key: index, annotation: ann, childAnnotation: childAnnotation, page: page, viewport: viewport })); })));\n    }\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--highlight\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children),\n        childAnnotation &&\n            childAnnotation.annotationType === exports.AnnotationType.Popup &&\n            props.popup.opened && React__namespace.createElement(Popup, { annotation: childAnnotation, page: page, viewport: viewport }))); }));\n};\n\nvar Ink = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--ink\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        annotation.inkLists && annotation.inkLists.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") }, annotation.inkLists.map(function (inkList, index) { return (React__namespace.createElement(\"polyline\", { key: index, fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: inkList.map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); }).join(' ') })); }))),\n        props.slot.children)); }));\n};\n\nvar Line = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--line\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"line\", { stroke: \"transparent\", strokeWidth: borderWidth || 1, x1: rect[2] - annotation.lineCoordinates[0], x2: rect[2] - annotation.lineCoordinates[2], y1: rect[3] - annotation.lineCoordinates[1], y2: rect[3] - annotation.lineCoordinates[3] })),\n        props.slot.children)); }));\n};\n\nvar INVALID_PROTOCOL = /^([^\\w]*)(javascript|data|vbscript)/im;\nvar HTML_ENTITIES = /&#(\\w+)(^\\w|;)?/g;\nvar CTRL_CHARS = /[\\u0000-\\u001F\\u007F-\\u009F\\u2000-\\u200D\\uFEFF]/gim;\nvar URL_SCHEME = /^([^:]+):/gm;\nvar decodeHtmlEntities = function (str) { return str.replace(HTML_ENTITIES, function (_, dec) { return String.fromCharCode(dec); }); };\nvar sanitizeUrl = function (url, defaultUrl) {\n    if (defaultUrl === void 0) { defaultUrl = 'about:blank'; }\n    var result = decodeHtmlEntities(url || '')\n        .replace(CTRL_CHARS, '')\n        .trim();\n    if (!result) {\n        return defaultUrl;\n    }\n    var firstChar = result[0];\n    if (firstChar === '.' || firstChar === '/') {\n        return result;\n    }\n    var parsedUrlScheme = result.match(URL_SCHEME);\n    if (!parsedUrlScheme) {\n        return result;\n    }\n    var scheme = parsedUrlScheme[0];\n    return INVALID_PROTOCOL.test(scheme) ? defaultUrl : result;\n};\n\nvar Link = function (_a) {\n    var _b;\n    var annotation = _a.annotation, doc = _a.doc, outlines = _a.outlines, page = _a.page, viewport = _a.viewport, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpToDest = _a.onJumpToDest;\n    var link = function (e) {\n        e.preventDefault();\n        annotation.action\n            ? onExecuteNamedAction(annotation.action)\n            : getDestination(doc, annotation.dest).then(function (target) {\n                var pageIndex = target.pageIndex, bottomOffset = target.bottomOffset, leftOffset = target.leftOffset, scaleTo = target.scaleTo;\n                onJumpToDest(pageIndex, bottomOffset, leftOffset, scaleTo);\n            });\n    };\n    var isRenderable = !!(annotation.url || annotation.dest || annotation.action || annotation.unsafeUrl);\n    var attrs = {};\n    if (annotation.url || annotation.unsafeUrl) {\n        var targetUrl = sanitizeUrl(annotation.url || annotation.unsafeUrl, '');\n        if (targetUrl) {\n            attrs = {\n                'data-target': 'external',\n                href: targetUrl,\n                rel: 'noopener noreferrer nofollow',\n                target: annotation.newWindow ? '_blank' : '',\n                title: targetUrl,\n            };\n        }\n        else {\n            isRenderable = false;\n        }\n    }\n    else {\n        attrs = {\n            href: '',\n            'data-annotation-link': annotation.id,\n            onClick: link,\n        };\n    }\n    var title = outlines && outlines.length && annotation.dest && typeof annotation.dest === 'string'\n        ? (_b = outlines.find(function (item) { return item.dest === annotation.dest; })) === null || _b === void 0 ? void 0 : _b.title\n        : '';\n    if (title) {\n        attrs = Object.assign({}, attrs, {\n            title: title,\n            'aria-label': title,\n        });\n    }\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: false, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--link\", \"data-annotation-id\": annotation.id, \"data-testid\": \"core__annotation--link-\".concat(annotation.id) }),\n        React__namespace.createElement(\"a\", __assign({}, attrs)))); }));\n};\n\nvar Polygon = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--polygon\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        annotation.vertices && annotation.vertices.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"polygon\", { fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: annotation.vertices\n                    .map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); })\n                    .join(' ') }))),\n        props.slot.children)); }));\n};\n\nvar Polyline = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--polyline\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        annotation.vertices && annotation.vertices.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"polyline\", { fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: annotation.vertices\n                    .map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); })\n                    .join(' ') }))),\n        props.slot.children)); }));\n};\n\nvar Square = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--square\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"rect\", { height: height - borderWidth, fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, x: borderWidth / 2, y: borderWidth / 2, width: width - borderWidth })),\n        props.slot.children)); }));\n};\n\nvar Squiggly = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--squiggly\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar Stamp = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--stamp\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar StrikeOut = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--strike-out\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar CommentIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25\" }),\n    React__namespace.createElement(\"path\", { d: \"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75\" }),\n    React__namespace.createElement(\"path\", { d: \"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25\" }))); };\n\nvar HelpIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M21.423 5.406L17.415 9.414\" }),\n    React__namespace.createElement(\"path\", { d: \"M14.587 6.585L18.607 2.565\" }),\n    React__namespace.createElement(\"path\", { d: \"M5.405 21.424L9.413 17.416\" }),\n    React__namespace.createElement(\"path\", { d: \"M6.585 14.588L2.577 18.596\" }),\n    React__namespace.createElement(\"path\", { d: \"M18.602 21.419L14.595 17.412\" }),\n    React__namespace.createElement(\"path\", { d: \"M17.419 14.58L21.428 18.589\" }),\n    React__namespace.createElement(\"path\", { d: \"M2.582 5.399L6.588 9.406\" }),\n    React__namespace.createElement(\"path\", { d: \"M9.421 6.581L5.412 2.572\" }))); };\n\nvar KeyIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z\" }))); };\n\nvar NoteIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M6 4.5L6 0.5\" }),\n    React__namespace.createElement(\"path\", { d: \"M18 4.5L18 0.5\" }),\n    React__namespace.createElement(\"path\", { d: \"M10 4.5L10 0.5\" }),\n    React__namespace.createElement(\"path\", { d: \"M14 4.5L14 0.5\" }))); };\n\nvar ParagraphIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M17.5 0.498L17.5 23.498\" }),\n    React__namespace.createElement(\"path\", { d: \"M10.5 0.498L10.5 23.498\" }),\n    React__namespace.createElement(\"path\", { d: \"M23.5.5H6.5a6,6,0,0,0,0,12h4\" }))); };\n\nvar TriangleIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z\" }))); };\n\nvar Text = function (_a) {\n    var annotation = _a.annotation, childAnnotation = _a.childAnnotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    var name = annotation.name ? annotation.name.toLowerCase() : '';\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--text\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n            name && (React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-text-icon\" },\n                name === 'check' && React__namespace.createElement(CheckIcon, null),\n                name === 'comment' && React__namespace.createElement(CommentIcon, null),\n                name === 'help' && React__namespace.createElement(HelpIcon, null),\n                name === 'insert' && React__namespace.createElement(TriangleIcon, null),\n                name === 'key' && React__namespace.createElement(KeyIcon, null),\n                name === 'note' && React__namespace.createElement(NoteIcon, null),\n                (name === 'newparagraph' || name === 'paragraph') && React__namespace.createElement(ParagraphIcon, null))),\n            props.slot.children),\n        childAnnotation &&\n            childAnnotation.annotationType === exports.AnnotationType.Popup &&\n            props.popup.opened && React__namespace.createElement(Popup, { annotation: childAnnotation, page: page, viewport: viewport }))); }));\n};\n\nvar Underline = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var title = getTitle(annotation);\n    var contents = getContents(annotation);\n    var isRenderable = !!(annotation.hasPopup || title || contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--underline\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar AnnotationLayerBody = function (_a) {\n    var annotations = _a.annotations, doc = _a.doc, outlines = _a.outlines, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpToDest = _a.onJumpToDest;\n    var containerRef = React__namespace.useRef();\n    var viewport = page.getViewport({ rotation: rotation, scale: scale });\n    var clonedViewPort = viewport.clone({ dontFlip: true });\n    var filterAnnotations = annotations.filter(function (annotation) { return !annotation.parentId; });\n    useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        plugins.forEach(function (plugin) {\n            if (plugin.onAnnotationLayerRender) {\n                plugin.onAnnotationLayerRender({\n                    annotations: filterAnnotations,\n                    container: container,\n                    pageIndex: pageIndex,\n                    rotation: rotation,\n                    scale: scale,\n                });\n            }\n        });\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, className: \"rpv-core__annotation-layer\", \"data-testid\": \"core__annotation-layer-\".concat(pageIndex) }, filterAnnotations.map(function (annotation) {\n        var childAnnotation = annotations.find(function (item) { return item.parentId === annotation.id; });\n        switch (annotation.annotationType) {\n            case exports.AnnotationType.Caret:\n                return (React__namespace.createElement(Caret, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Circle:\n                return (React__namespace.createElement(Circle, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.FileAttachment:\n                return (React__namespace.createElement(FileAttachment, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.FreeText:\n                return (React__namespace.createElement(FreeText, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Highlight:\n                return (React__namespace.createElement(Highlight, { key: annotation.id, annotation: annotation, childAnnotation: childAnnotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Ink:\n                return (React__namespace.createElement(Ink, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Line:\n                return (React__namespace.createElement(Line, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Link:\n                return (React__namespace.createElement(Link, { key: annotation.id, annotation: annotation, doc: doc, outlines: outlines, page: page, viewport: clonedViewPort, onExecuteNamedAction: onExecuteNamedAction, onJumpToDest: onJumpToDest }));\n            case exports.AnnotationType.Polygon:\n                return (React__namespace.createElement(Polygon, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Polyline:\n                return (React__namespace.createElement(Polyline, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Popup:\n                return (React__namespace.createElement(Popup, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Square:\n                return (React__namespace.createElement(Square, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Squiggly:\n                return (React__namespace.createElement(Squiggly, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Stamp:\n                return (React__namespace.createElement(Stamp, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.StrikeOut:\n                return (React__namespace.createElement(StrikeOut, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Text:\n                return (React__namespace.createElement(Text, { key: annotation.id, annotation: annotation, childAnnotation: childAnnotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Underline:\n                return (React__namespace.createElement(Underline, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            default:\n                return React__namespace.createElement(React__namespace.Fragment, { key: annotation.id });\n        }\n    })));\n};\n\nvar AnnotationLoader = function (_a) {\n    var page = _a.page, renderAnnotations = _a.renderAnnotations;\n    var isMounted = useIsMounted();\n    var _b = React__namespace.useState({\n        loading: true,\n        annotations: [],\n    }), status = _b[0], setStatus = _b[1];\n    React__namespace.useEffect(function () {\n        page.getAnnotations({ intent: 'display' }).then(function (result) {\n            if (isMounted.current) {\n                setStatus({\n                    loading: false,\n                    annotations: result,\n                });\n            }\n        });\n    }, []);\n    return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : renderAnnotations(status.annotations);\n};\n\nvar AnnotationLayer = function (_a) {\n    var doc = _a.doc, outlines = _a.outlines, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpToDest = _a.onJumpToDest;\n    var renderAnnotations = function (annotations) { return (React__namespace.createElement(AnnotationLayerBody, { annotations: annotations, doc: doc, outlines: outlines, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotation, scale: scale, onExecuteNamedAction: onExecuteNamedAction, onJumpToDest: onJumpToDest })); };\n    return React__namespace.createElement(AnnotationLoader, { page: page, renderAnnotations: renderAnnotations });\n};\n\nvar floatToRatio = function (x, limit) {\n    var _a, _b;\n    if (Math.floor(x) === x) {\n        return [x, 1];\n    }\n    var y = 1 / x;\n    if (y > limit) {\n        return [1, limit];\n    }\n    if (Math.floor(y) === y) {\n        return [1, y];\n    }\n    var value = x > 1 ? y : x;\n    var a = 0;\n    var b = 1;\n    var c = 1;\n    var d = 1;\n    while (true) {\n        var numerator = a + c;\n        var denominator = b + d;\n        if (denominator > limit) {\n            break;\n        }\n        value <= numerator / denominator ? (_a = [numerator, denominator], c = _a[0], d = _a[1], _a) : (_b = [numerator, denominator], a = _b[0], b = _b[1], _b);\n    }\n    var middle = (a / b + c / d) / 2;\n    return value < middle ? (value === x ? [a, b] : [b, a]) : value === x ? [c, d] : [d, c];\n};\n\nvar roundToDivide = function (a, b) {\n    var remainder = a % b;\n    return remainder === 0 ? a : Math.floor(a - remainder);\n};\n\nvar MAX_CANVAS_SIZE = 4096 * 4096;\nvar CanvasLayer = function (_a) {\n    var canvasLayerRef = _a.canvasLayerRef, height = _a.height, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, width = _a.width, onRenderCanvasCompleted = _a.onRenderCanvasCompleted;\n    var renderTask = React__namespace.useRef();\n    useIsomorphicLayoutEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var canvasEle = canvasLayerRef.current;\n        canvasEle.removeAttribute('data-testid');\n        plugins.forEach(function (plugin) {\n            if (plugin.onCanvasLayerRender) {\n                plugin.onCanvasLayerRender({\n                    ele: canvasEle,\n                    pageIndex: pageIndex,\n                    rotation: rotation,\n                    scale: scale,\n                    status: exports.LayerRenderStatus.PreRender,\n                });\n            }\n        });\n        var viewport = page.getViewport({\n            rotation: rotation,\n            scale: scale,\n        });\n        var outputScale = window.devicePixelRatio || 1;\n        var maxScale = Math.sqrt(MAX_CANVAS_SIZE / (viewport.width * viewport.height));\n        var shouldScaleByCSS = outputScale > maxScale;\n        shouldScaleByCSS ? (canvasEle.style.transform = \"scale(1, 1)\") : canvasEle.style.removeProperty('transform');\n        var possibleScale = Math.min(maxScale, outputScale);\n        var _a = floatToRatio(possibleScale, 8), x = _a[0], y = _a[1];\n        canvasEle.width = roundToDivide(viewport.width * possibleScale, x);\n        canvasEle.height = roundToDivide(viewport.height * possibleScale, x);\n        canvasEle.style.width = \"\".concat(roundToDivide(viewport.width, y), \"px\");\n        canvasEle.style.height = \"\".concat(roundToDivide(viewport.height, y), \"px\");\n        canvasEle.hidden = true;\n        var canvasContext = canvasEle.getContext('2d', { alpha: false });\n        var transform = shouldScaleByCSS || outputScale !== 1 ? [possibleScale, 0, 0, possibleScale, 0, 0] : null;\n        renderTask.current = page.render({ canvasContext: canvasContext, transform: transform, viewport: viewport });\n        renderTask.current.promise.then(function () {\n            canvasEle.hidden = false;\n            canvasEle.setAttribute('data-testid', \"core__canvas-layer-\".concat(pageIndex));\n            plugins.forEach(function (plugin) {\n                if (plugin.onCanvasLayerRender) {\n                    plugin.onCanvasLayerRender({\n                        ele: canvasEle,\n                        pageIndex: pageIndex,\n                        rotation: rotation,\n                        scale: scale,\n                        status: exports.LayerRenderStatus.DidRender,\n                    });\n                }\n            });\n            onRenderCanvasCompleted();\n        }, function () {\n            onRenderCanvasCompleted();\n        });\n        return function () {\n            if (canvasEle) {\n                canvasEle.width = 0;\n                canvasEle.height = 0;\n            }\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-core__canvas-layer\", style: {\n            height: \"\".concat(height, \"px\"),\n            width: \"\".concat(width, \"px\"),\n        } },\n        React__namespace.createElement(\"canvas\", { ref: canvasLayerRef })));\n};\n\nvar SvgLayer = function (_a) {\n    var height = _a.height, page = _a.page, rotation = _a.rotation, scale = _a.scale, width = _a.width;\n    var containerRef = React__namespace.useRef();\n    var empty = function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        containerEle.innerHTML = '';\n    };\n    useIsomorphicLayoutEffect(function () {\n        var containerEle = containerRef.current;\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\n        page.getOperatorList().then(function (operatorList) {\n            empty();\n            var graphic = new PdfJsApi__namespace.SVGGraphics(page.commonObjs, page.objs);\n            graphic.getSVG(operatorList, viewport).then(function (svg) {\n                svg.style.height = \"\".concat(height, \"px\");\n                svg.style.width = \"\".concat(width, \"px\");\n                containerEle.appendChild(svg);\n            });\n        });\n    }, []);\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__svg-layer\", ref: containerRef });\n};\n\nvar TextLayer = function (_a) {\n    var containerRef = _a.containerRef, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onRenderTextCompleted = _a.onRenderTextCompleted;\n    var renderTask = React__namespace.useRef();\n    var empty = function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        var spans = [].slice.call(containerEle.querySelectorAll('.rpv-core__text-layer-text'));\n        spans.forEach(function (span) { return containerEle.removeChild(span); });\n        var breaks = [].slice.call(containerEle.querySelectorAll('br[role=\"presentation\"]'));\n        breaks.forEach(function (br) { return containerEle.removeChild(br); });\n    };\n    useIsomorphicLayoutEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        containerEle.removeAttribute('data-testid');\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\n        plugins.forEach(function (plugin) {\n            if (plugin.onTextLayerRender) {\n                plugin.onTextLayerRender({\n                    ele: containerEle,\n                    pageIndex: pageIndex,\n                    scale: scale,\n                    status: exports.LayerRenderStatus.PreRender,\n                });\n            }\n        });\n        page.getTextContent().then(function (textContent) {\n            empty();\n            renderTask.current = PdfJsApi__namespace.renderTextLayer({\n                container: containerEle,\n                textContent: textContent,\n                textContentSource: textContent,\n                viewport: viewport,\n            });\n            renderTask.current.promise.then(function () {\n                containerEle.setAttribute('data-testid', \"core__text-layer-\".concat(pageIndex));\n                var spans = [].slice.call(containerEle.children);\n                spans.forEach(function (span) {\n                    if (!span.classList.contains('rpv-core__text-layer-text--not')) {\n                        span.classList.add('rpv-core__text-layer-text');\n                    }\n                });\n                plugins.forEach(function (plugin) {\n                    if (plugin.onTextLayerRender) {\n                        plugin.onTextLayerRender({\n                            ele: containerEle,\n                            pageIndex: pageIndex,\n                            scale: scale,\n                            status: exports.LayerRenderStatus.DidRender,\n                        });\n                    }\n                });\n                onRenderTextCompleted();\n            }, function () {\n                containerEle.removeAttribute('data-testid');\n                onRenderTextCompleted();\n            });\n        });\n        return function () {\n            var _a;\n            empty();\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        };\n    }, []);\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__text-layer\", ref: containerRef });\n};\n\nvar PageLayer = function (_a) {\n    var doc = _a.doc, measureRef = _a.measureRef, outlines = _a.outlines, pageIndex = _a.pageIndex, pageRotation = _a.pageRotation, pageSize = _a.pageSize, plugins = _a.plugins, renderPage = _a.renderPage, renderQueueKey = _a.renderQueueKey, rotation = _a.rotation, scale = _a.scale, shouldRender = _a.shouldRender, viewMode = _a.viewMode, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpToDest = _a.onJumpToDest, onRenderCompleted = _a.onRenderCompleted, onRotatePage = _a.onRotatePage;\n    var isMounted = useIsMounted();\n    var _b = React__namespace.useState(null), page = _b[0], setPage = _b[1];\n    var _c = React__namespace.useState(false), canvasLayerRendered = _c[0], setCanvasLayerRendered = _c[1];\n    var _d = React__namespace.useState(false), textLayerRendered = _d[0], setTextLayerRendered = _d[1];\n    var canvasLayerRef = React__namespace.useRef();\n    var textLayerRef = React__namespace.useRef();\n    var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n    var scaledWidth = pageSize.pageWidth * scale;\n    var scaledHeight = pageSize.pageHeight * scale;\n    var w = isVertical ? scaledWidth : scaledHeight;\n    var h = isVertical ? scaledHeight : scaledWidth;\n    var rotationValue = (pageSize.rotation + rotation + pageRotation) % 360;\n    var renderQueueKeyRef = React__namespace.useRef(0);\n    var determinePageInstance = function () {\n        getPage(doc, pageIndex).then(function (pdfPage) {\n            if (isMounted.current) {\n                renderQueueKeyRef.current = renderQueueKey;\n                setPage(pdfPage);\n            }\n        });\n    };\n    var defaultPageRenderer = function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        props.canvasLayer.children,\n        props.textLayer.children,\n        props.annotationLayer.children)); };\n    var renderPageLayer = renderPage || defaultPageRenderer;\n    var handleRenderCanvasCompleted = function () {\n        if (isMounted.current) {\n            setCanvasLayerRendered(true);\n        }\n    };\n    var handleRenderTextCompleted = function () {\n        if (isMounted.current) {\n            setTextLayerRendered(true);\n        }\n    };\n    React__namespace.useEffect(function () {\n        setPage(null);\n        setCanvasLayerRendered(false);\n        setTextLayerRendered(false);\n    }, [pageRotation, rotation, scale]);\n    React__namespace.useEffect(function () {\n        if (shouldRender && isMounted.current && !page) {\n            determinePageInstance();\n        }\n    }, [shouldRender, page]);\n    React__namespace.useEffect(function () {\n        if (canvasLayerRendered && textLayerRendered) {\n            if (renderQueueKey !== renderQueueKeyRef.current) {\n                setPage(null);\n                setCanvasLayerRendered(false);\n                setTextLayerRendered(false);\n            }\n            else {\n                onRenderCompleted(pageIndex);\n            }\n        }\n    }, [canvasLayerRendered, textLayerRendered]);\n    return (React__namespace.createElement(\"div\", { className: classNames({\n            'rpv-core__page-layer': true,\n            'rpv-core__page-layer--dual': viewMode === exports.ViewMode.DualPage,\n            'rpv-core__page-layer--dual-cover': viewMode === exports.ViewMode.DualPageWithCover,\n            'rpv-core__page-layer--single': viewMode === exports.ViewMode.SinglePage,\n        }), \"data-testid\": \"core__page-layer-\".concat(pageIndex), ref: measureRef, style: {\n            height: \"\".concat(h, \"px\"),\n            width: \"\".concat(w, \"px\"),\n        } }, !page ? (React__namespace.createElement(Spinner, { testId: \"core__page-layer-loading-\".concat(pageIndex) })) : (React__namespace.createElement(React__namespace.Fragment, null,\n        renderPageLayer({\n            annotationLayer: {\n                attrs: {},\n                children: (React__namespace.createElement(AnnotationLayer, { doc: doc, outlines: outlines, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, onExecuteNamedAction: onExecuteNamedAction, onJumpToDest: onJumpToDest })),\n            },\n            canvasLayer: {\n                attrs: {},\n                children: (React__namespace.createElement(CanvasLayer, { canvasLayerRef: canvasLayerRef, height: h, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, width: w, onRenderCanvasCompleted: handleRenderCanvasCompleted })),\n            },\n            canvasLayerRendered: canvasLayerRendered,\n            doc: doc,\n            height: h,\n            pageIndex: pageIndex,\n            rotation: rotationValue,\n            scale: scale,\n            svgLayer: {\n                attrs: {},\n                children: (React__namespace.createElement(SvgLayer, { height: h, page: page, rotation: rotationValue, scale: scale, width: w })),\n            },\n            textLayer: {\n                attrs: {},\n                children: (React__namespace.createElement(TextLayer, { containerRef: textLayerRef, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, onRenderTextCompleted: handleRenderTextCompleted })),\n            },\n            textLayerRendered: textLayerRendered,\n            width: w,\n            markRendered: onRenderCompleted,\n            onRotatePage: function (direction) { return onRotatePage(pageIndex, direction); },\n        }),\n        plugins.map(function (plugin, idx) {\n            return plugin.renderPageLayer ? (React__namespace.createElement(React__namespace.Fragment, { key: idx }, plugin.renderPageLayer({\n                canvasLayerRef: canvasLayerRef,\n                canvasLayerRendered: canvasLayerRendered,\n                doc: doc,\n                height: h,\n                pageIndex: pageIndex,\n                rotation: rotationValue,\n                scale: scale,\n                textLayerRef: textLayerRef,\n                textLayerRendered: textLayerRendered,\n                width: w,\n            }))) : (React__namespace.createElement(React__namespace.Fragment, { key: idx }));\n        })))));\n};\n\nvar getFileExt = function (url) {\n    var str = url.split(/\\./).pop();\n    return str ? str.toLowerCase() : '';\n};\n\nvar rectReducer = function (state, action) {\n    var rect = action.rect;\n    return state.height !== rect.height || state.width !== rect.width ? rect : state;\n};\nvar useMeasureRect = function (_a) {\n    var elementRef = _a.elementRef;\n    var _b = React__namespace.useState(elementRef.current), element = _b[0], setElement = _b[1];\n    var initializedRectRef = React__namespace.useRef(false);\n    var _c = React__namespace.useReducer(rectReducer, { height: 0, width: 0 }), rect = _c[0], dispatch = _c[1];\n    useIsomorphicLayoutEffect(function () {\n        if (elementRef.current !== element) {\n            setElement(elementRef.current);\n        }\n    });\n    useIsomorphicLayoutEffect(function () {\n        if (element && !initializedRectRef.current) {\n            initializedRectRef.current = true;\n            var _a = element.getBoundingClientRect(), height = _a.height, width = _a.width;\n            dispatch({\n                rect: { height: height, width: width },\n            });\n        }\n    }, [element]);\n    React__namespace.useEffect(function () {\n        if (!element) {\n            return;\n        }\n        var tracker = new ResizeObserver(function (entries, __) {\n            entries.forEach(function (entry) {\n                if (entry.target === element) {\n                    var _a = entry.contentRect, height = _a.height, width = _a.width;\n                    dispatch({\n                        rect: { height: height, width: width },\n                    });\n                }\n            });\n        });\n        tracker.observe(element);\n        return function () {\n            tracker.unobserve(element);\n        };\n    }, [element]);\n    return rect;\n};\n\nvar ScrollDirection;\n(function (ScrollDirection) {\n    ScrollDirection[\"Horizontal\"] = \"Horizontal\";\n    ScrollDirection[\"Vertical\"] = \"Vertical\";\n    ScrollDirection[\"Both\"] = \"Both\";\n})(ScrollDirection || (ScrollDirection = {}));\n\nvar easeOutQuart = function (t) { return 1 - Math.pow(1 - t, 4); };\n\nvar EPS = 0.0001;\nvar smoothScroll = function (ele, scrollDirection, targetPosition, duration, easing, onReachTarget) {\n    if (easing === void 0) { easing = function (t) { return t; }; }\n    if (onReachTarget === void 0) { onReachTarget = function () { }; }\n    var top = 0;\n    var left = 0;\n    switch (scrollDirection) {\n        case ScrollDirection.Horizontal:\n            left = ele.scrollLeft;\n            top = 0;\n        case ScrollDirection.Both:\n            left = ele.scrollLeft;\n            top = ele.scrollTop;\n            break;\n        case ScrollDirection.Vertical:\n        default:\n            left = 0;\n            top = ele.scrollTop;\n            break;\n    }\n    if (top === targetPosition.top && scrollDirection === ScrollDirection.Vertical) {\n        return;\n    }\n    if (left === targetPosition.left && scrollDirection === ScrollDirection.Horizontal) {\n        return;\n    }\n    var startTime = -1;\n    var requestId;\n    var offset = {\n        left: left - targetPosition.left,\n        top: top - targetPosition.top,\n    };\n    var loop = function (currentTime) {\n        if (startTime === -1) {\n            startTime = currentTime;\n        }\n        var time = currentTime - startTime;\n        var percent = Math.min(time / duration, 1);\n        var easedPercent = easing(percent);\n        var updatePosition = {\n            left: left - offset.left * easedPercent,\n            top: top - offset.top * easedPercent,\n        };\n        switch (scrollDirection) {\n            case ScrollDirection.Horizontal:\n                ele.scrollLeft = updatePosition.left;\n                break;\n            case ScrollDirection.Both:\n                ele.scrollLeft = updatePosition.left;\n                ele.scrollTop = updatePosition.top;\n                break;\n            case ScrollDirection.Vertical:\n            default:\n                ele.scrollTop = updatePosition.top;\n                break;\n        }\n        if (Math.abs(updatePosition.top - targetPosition.top) <= EPS &&\n            Math.abs(updatePosition.left - targetPosition.left) <= EPS) {\n            onReachTarget();\n        }\n        if (time < duration) {\n            requestId = window.requestAnimationFrame(loop);\n        }\n        else {\n            window.cancelAnimationFrame(requestId);\n        }\n    };\n    requestId = window.requestAnimationFrame(loop);\n};\n\nvar useRafState = function (initialState) {\n    var isMounted = useIsMounted();\n    var rafRef = React__namespace.useRef(0);\n    var _a = React__namespace.useState(initialState), state = _a[0], setState = _a[1];\n    var setRafState = React__namespace.useCallback(function (value) {\n        cancelAnimationFrame(rafRef.current);\n        rafRef.current = requestAnimationFrame(function () {\n            isMounted.current && setState(value);\n        });\n    }, []);\n    React__namespace.useEffect(function () {\n        return function () {\n            cancelAnimationFrame(rafRef.current);\n        };\n    }, []);\n    return [state, setRafState];\n};\n\nvar ZERO_OFFSET$6 = {\n    left: 0,\n    top: 0,\n};\nvar SCROLL_EVENT_OPTIONS = {\n    capture: false,\n    passive: true,\n};\nvar SCROLL_DURATION = 400;\nvar useScroll = function (_a) {\n    var elementRef = _a.elementRef, isRtl = _a.isRtl, scrollDirection = _a.scrollDirection, onSmoothScroll = _a.onSmoothScroll;\n    var _b = useRafState(ZERO_OFFSET$6), scrollOffset = _b[0], setScrollOffset = _b[1];\n    var _c = React__namespace.useState(elementRef.current), element = _c[0], setElement = _c[1];\n    var factor = isRtl ? -1 : 1;\n    var latestRef = React__namespace.useRef(scrollDirection);\n    latestRef.current = scrollDirection;\n    var handleSmoothScrollingComplete = React__namespace.useCallback(function () { return onSmoothScroll(false); }, []);\n    var handleScroll = React__namespace.useCallback(function () {\n        if (!element) {\n            return;\n        }\n        switch (latestRef.current) {\n            case ScrollDirection.Horizontal:\n                setScrollOffset({\n                    left: factor * element.scrollLeft,\n                    top: 0,\n                });\n                break;\n            case ScrollDirection.Both:\n                setScrollOffset({\n                    left: factor * element.scrollLeft,\n                    top: element.scrollTop,\n                });\n                break;\n            case ScrollDirection.Vertical:\n            default:\n                setScrollOffset({\n                    left: 0,\n                    top: element.scrollTop,\n                });\n                break;\n        }\n    }, [element]);\n    useIsomorphicLayoutEffect(function () {\n        setElement(elementRef.current);\n    });\n    useIsomorphicLayoutEffect(function () {\n        if (!element) {\n            return;\n        }\n        element.addEventListener('scroll', handleScroll, SCROLL_EVENT_OPTIONS);\n        return function () {\n            element.removeEventListener('scroll', handleScroll, SCROLL_EVENT_OPTIONS);\n        };\n    }, [element]);\n    var scrollTo = React__namespace.useCallback(function (targetPosition, withSmoothScroll) {\n        var ele = elementRef.current;\n        if (!ele) {\n            return;\n        }\n        var updatePosition = {\n            left: 0,\n            top: 0,\n        };\n        switch (latestRef.current) {\n            case ScrollDirection.Horizontal:\n                updatePosition.left = factor * targetPosition.left;\n                break;\n            case ScrollDirection.Both:\n                updatePosition.left = factor * targetPosition.left;\n                updatePosition.top = targetPosition.top;\n                break;\n            case ScrollDirection.Vertical:\n            default:\n                updatePosition.top = targetPosition.top;\n                break;\n        }\n        if (withSmoothScroll) {\n            onSmoothScroll(true);\n            smoothScroll(ele, latestRef.current, updatePosition, SCROLL_DURATION, easeOutQuart, handleSmoothScrollingComplete);\n        }\n        else {\n            switch (latestRef.current) {\n                case ScrollDirection.Horizontal:\n                    ele.scrollLeft = updatePosition.left;\n                    break;\n                case ScrollDirection.Both:\n                    ele.scrollLeft = updatePosition.left;\n                    ele.scrollTop = updatePosition.top;\n                    break;\n                case ScrollDirection.Vertical:\n                default:\n                    ele.scrollTop = updatePosition.top;\n                    break;\n            }\n        }\n    }, [elementRef]);\n    return {\n        scrollOffset: scrollOffset,\n        scrollTo: scrollTo,\n    };\n};\n\nvar clamp = function (min, max, value) { return Math.max(min, Math.min(value, max)); };\n\nvar indexOfMax = function (arr) { return arr.reduce(function (prev, curr, i, a) { return (curr > a[prev] ? i : prev); }, 0); };\n\nvar buildContainerStyles = function (totalSize, scrollMode) {\n    switch (scrollMode) {\n        case exports.ScrollMode.Horizontal:\n            return {\n                position: 'relative',\n                height: '100%',\n                width: \"\".concat(totalSize.width, \"px\"),\n            };\n        case exports.ScrollMode.Vertical:\n        default:\n            return {\n                position: 'relative',\n                height: \"\".concat(totalSize.height, \"px\"),\n                width: '100%',\n            };\n    }\n};\n\nvar buildItemContainerStyles = function (item, parentRect, scrollMode) {\n    return scrollMode !== exports.ScrollMode.Page\n        ? {}\n        : {\n            height: \"\".concat(parentRect.height, \"px\"),\n            width: '100%',\n            position: 'absolute',\n            top: 0,\n            transform: \"translateY(\".concat(item.start.top, \"px)\"),\n        };\n};\n\nvar hasDifferentSizes = function (sizes) {\n    var numberOfItems = sizes.length;\n    if (numberOfItems === 1) {\n        return false;\n    }\n    for (var i = 1; i < numberOfItems; i++) {\n        if (sizes[i].height !== sizes[0].height || sizes[i].width !== sizes[0].width) {\n            return true;\n        }\n    }\n    return false;\n};\nvar getMinWidthOfCover = function (sizes, viewMode) {\n    if (viewMode !== exports.ViewMode.DualPageWithCover) {\n        return 0;\n    }\n    if (!hasDifferentSizes(sizes)) {\n        return 2 * sizes[0].width;\n    }\n    var chunkWidths = chunk(sizes.slice(1), 2).map(function (eachChunk) {\n        return eachChunk.length === 2 ? eachChunk[0].width + eachChunk[1].width : eachChunk[0].width;\n    });\n    var widths = [sizes[0].width].concat(chunkWidths);\n    return Math.max.apply(Math, widths);\n};\nvar buildItemStyles = function (item, isRtl, sizes, viewMode, scrollMode) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var sideProperty = isRtl ? 'right' : 'left';\n    var factor = isRtl ? -1 : 1;\n    var numberOfItems = sizes.length;\n    var left = item.start.left * factor;\n    var _h = item.size, height = _h.height, width = _h.width;\n    if (viewMode === exports.ViewMode.DualPageWithCover) {\n        var transformTop = scrollMode === exports.ScrollMode.Page ? 0 : item.start.top;\n        if (item.index === 0 || (numberOfItems % 2 === 0 && item.index === numberOfItems - 1)) {\n            return _a = {\n                    height: \"\".concat(height, \"px\"),\n                    minWidth: \"\".concat(getMinWidthOfCover(sizes, viewMode), \"px\"),\n                    width: '100%'\n                },\n                _a[sideProperty] = 0,\n                _a.position = 'absolute',\n                _a.top = 0,\n                _a.transform = \"translate(\".concat(left, \"px, \").concat(transformTop, \"px)\"),\n                _a;\n        }\n        return _b = {\n                height: \"\".concat(height, \"px\"),\n                width: \"\".concat(width, \"px\")\n            },\n            _b[sideProperty] = 0,\n            _b.position = 'absolute',\n            _b.top = 0,\n            _b.transform = \"translate(\".concat(left, \"px, \").concat(transformTop, \"px)\"),\n            _b;\n    }\n    if (viewMode === exports.ViewMode.DualPage) {\n        return _c = {\n                height: \"\".concat(height, \"px\"),\n                width: \"\".concat(width, \"px\")\n            },\n            _c[sideProperty] = 0,\n            _c.position = 'absolute',\n            _c.top = 0,\n            _c.transform = \"translate(\".concat(left, \"px, \").concat(scrollMode === exports.ScrollMode.Page ? 0 : item.start.top, \"px)\"),\n            _c;\n    }\n    switch (scrollMode) {\n        case exports.ScrollMode.Horizontal:\n            return _d = {\n                    height: '100%',\n                    width: \"\".concat(width, \"px\")\n                },\n                _d[sideProperty] = 0,\n                _d.position = 'absolute',\n                _d.top = 0,\n                _d.transform = \"translateX(\".concat(left, \"px)\"),\n                _d;\n        case exports.ScrollMode.Page:\n            return _e = {\n                    height: \"\".concat(height, \"px\"),\n                    width: \"\".concat(width, \"px\")\n                },\n                _e[sideProperty] = 0,\n                _e.position = 'absolute',\n                _e.top = 0,\n                _e;\n        case exports.ScrollMode.Wrapped:\n            return _f = {\n                    height: \"\".concat(height, \"px\"),\n                    width: \"\".concat(width, \"px\")\n                },\n                _f[sideProperty] = 0,\n                _f.position = 'absolute',\n                _f.top = 0,\n                _f.transform = \"translate(\".concat(left, \"px, \").concat(item.start.top, \"px)\"),\n                _f;\n        case exports.ScrollMode.Vertical:\n        default:\n            return _g = {\n                    height: \"\".concat(height, \"px\"),\n                    width: '100%'\n                },\n                _g[sideProperty] = 0,\n                _g.position = 'absolute',\n                _g.top = 0,\n                _g.transform = \"translateY(\".concat(item.start.top, \"px)\"),\n                _g;\n    }\n};\n\nvar findNearest = function (low, high, value, getItemValue) {\n    while (low <= high) {\n        var middle = ((low + high) / 2) | 0;\n        var currentValue = getItemValue(middle);\n        if (currentValue < value) {\n            low = middle + 1;\n        }\n        else if (currentValue > value) {\n            high = middle - 1;\n        }\n        else {\n            return middle;\n        }\n    }\n    return low > 0 ? low - 1 : 0;\n};\n\nvar calculateRange = function (scrollDirection, measurements, outerSize, scrollOffset) {\n    var currentOffset = 0;\n    switch (scrollDirection) {\n        case ScrollDirection.Horizontal:\n            currentOffset = scrollOffset.left;\n            break;\n        case ScrollDirection.Vertical:\n        default:\n            currentOffset = scrollOffset.top;\n            break;\n    }\n    var size = measurements.length - 1;\n    var getOffset = function (index) {\n        switch (scrollDirection) {\n            case ScrollDirection.Horizontal:\n                return measurements[index].start.left;\n            case ScrollDirection.Both:\n            case ScrollDirection.Vertical:\n            default:\n                return measurements[index].start.top;\n        }\n    };\n    var start = findNearest(0, size, currentOffset, getOffset);\n    if (scrollDirection === ScrollDirection.Both) {\n        var startTop = measurements[start].start.top;\n        while (start - 1 >= 0 &&\n            measurements[start - 1].start.top === startTop &&\n            measurements[start - 1].start.left >= scrollOffset.left) {\n            start--;\n        }\n    }\n    var end = start;\n    while (end <= size) {\n        var topLeftCorner = {\n            top: measurements[end].start.top - scrollOffset.top,\n            left: measurements[end].start.left - scrollOffset.left,\n        };\n        var visibleSize = {\n            height: outerSize.height - topLeftCorner.top,\n            width: outerSize.width - topLeftCorner.left,\n        };\n        if (scrollDirection === ScrollDirection.Horizontal && visibleSize.width < 0) {\n            break;\n        }\n        if (scrollDirection === ScrollDirection.Vertical && visibleSize.height < 0) {\n            break;\n        }\n        if (scrollDirection === ScrollDirection.Both && (visibleSize.width < 0 || visibleSize.height < 0)) {\n            break;\n        }\n        end++;\n    }\n    return {\n        start: start,\n        end: end,\n    };\n};\n\nvar ZERO_OFFSET$5 = {\n    left: 0,\n    top: 0,\n};\nvar measure = function (numberOfItems, parentRect, sizes, scrollMode) {\n    var measurements = [];\n    var totalWidth = 0;\n    var firstOfRow = {\n        left: 0,\n        top: 0,\n    };\n    var maxHeight = 0;\n    var start = ZERO_OFFSET$5;\n    for (var i = 0; i < numberOfItems; i++) {\n        var size = sizes[i];\n        if (i === 0) {\n            totalWidth = size.width;\n            firstOfRow = {\n                left: 0,\n                top: 0,\n            };\n            maxHeight = size.height;\n        }\n        else {\n            switch (scrollMode) {\n                case exports.ScrollMode.Wrapped:\n                    totalWidth += size.width;\n                    if (totalWidth < parentRect.width) {\n                        start = {\n                            left: measurements[i - 1].end.left,\n                            top: firstOfRow.top,\n                        };\n                        maxHeight = Math.max(maxHeight, size.height);\n                    }\n                    else {\n                        totalWidth = size.width;\n                        start = {\n                            left: firstOfRow.left,\n                            top: firstOfRow.top + maxHeight,\n                        };\n                        firstOfRow = {\n                            left: start.left,\n                            top: start.top,\n                        };\n                        maxHeight = size.height;\n                    }\n                    break;\n                case exports.ScrollMode.Horizontal:\n                case exports.ScrollMode.Vertical:\n                default:\n                    start = measurements[i - 1].end;\n                    break;\n            }\n        }\n        var end = {\n            left: start.left + size.width,\n            top: start.top + size.height,\n        };\n        measurements[i] = {\n            index: i,\n            start: start,\n            size: size,\n            end: end,\n            visibility: -1,\n        };\n    }\n    return measurements;\n};\n\nvar ZERO_OFFSET$4 = {\n    left: 0,\n    top: 0,\n};\nvar measureDualPage = function (numberOfItems, parentRect, sizes, scrollMode) {\n    var measurements = [];\n    var top = 0;\n    var maxHeight = 0;\n    var start = ZERO_OFFSET$4;\n    for (var i = 0; i < numberOfItems; i++) {\n        var size = {\n            height: scrollMode === exports.ScrollMode.Page ? Math.max(parentRect.height, sizes[i].height) : sizes[i].height,\n            width: Math.max(parentRect.width / 2, sizes[i].width),\n        };\n        if (scrollMode === exports.ScrollMode.Page) {\n            start = {\n                left: i % 2 === 0 ? 0 : size.width,\n                top: Math.floor(i / 2) * size.height,\n            };\n        }\n        else {\n            if (i % 2 === 0) {\n                top = top + maxHeight;\n                start = {\n                    left: 0,\n                    top: top,\n                };\n                maxHeight = i === numberOfItems - 1 ? sizes[i].height : Math.max(sizes[i].height, sizes[i + 1].height);\n            }\n            else {\n                start = {\n                    left: measurements[i - 1].end.left,\n                    top: top,\n                };\n            }\n        }\n        var end = {\n            left: start.left + size.width,\n            top: start.top + size.height,\n        };\n        measurements[i] = {\n            index: i,\n            start: start,\n            size: size,\n            end: end,\n            visibility: -1,\n        };\n    }\n    return measurements;\n};\n\nvar ZERO_OFFSET$3 = {\n    left: 0,\n    top: 0,\n};\nvar measureDualPageWithCover = function (numberOfItems, parentRect, sizes, scrollMode) {\n    var measurements = [];\n    var top = 0;\n    var maxHeight = 0;\n    var start = ZERO_OFFSET$3;\n    for (var i = 0; i < numberOfItems; i++) {\n        var size = i === 0\n            ? {\n                height: scrollMode === exports.ScrollMode.Page\n                    ? Math.max(parentRect.height, sizes[i].height)\n                    : sizes[i].height,\n                width: scrollMode === exports.ScrollMode.Page ? Math.max(parentRect.width, sizes[i].width) : sizes[i].width,\n            }\n            : {\n                height: scrollMode === exports.ScrollMode.Page\n                    ? Math.max(parentRect.height, sizes[i].height)\n                    : sizes[i].height,\n                width: Math.max(parentRect.width / 2, sizes[i].width),\n            };\n        if (scrollMode === exports.ScrollMode.Page) {\n            start =\n                i === 0\n                    ? ZERO_OFFSET$3\n                    : {\n                        left: i % 2 === 0 ? size.width : 0,\n                        top: Math.floor((i - 1) / 2) * size.height + measurements[0].end.top,\n                    };\n        }\n        else {\n            if (i === 0) {\n                start = ZERO_OFFSET$3;\n                top = sizes[0].height;\n                maxHeight = 0;\n            }\n            else if (i % 2 === 1) {\n                top = top + maxHeight;\n                start = {\n                    left: 0,\n                    top: top,\n                };\n                maxHeight = i === numberOfItems - 1 ? sizes[i].height : Math.max(sizes[i].height, sizes[i + 1].height);\n            }\n            else {\n                start = {\n                    left: measurements[i - 1].end.left,\n                    top: top,\n                };\n            }\n        }\n        var end = {\n            left: start.left + size.width,\n            top: start.top + size.height,\n        };\n        measurements[i] = {\n            index: i,\n            start: start,\n            size: size,\n            end: end,\n            visibility: -1,\n        };\n    }\n    return measurements;\n};\n\nvar ZERO_OFFSET$2 = {\n    left: 0,\n    top: 0,\n};\nvar measureSinglePage = function (numberOfItems, parentRect, sizes) {\n    var measurements = [];\n    for (var i = 0; i < numberOfItems; i++) {\n        var size = {\n            height: Math.max(parentRect.height, sizes[i].height),\n            width: Math.max(parentRect.width, sizes[i].width),\n        };\n        var start = i === 0 ? ZERO_OFFSET$2 : measurements[i - 1].end;\n        var end = {\n            left: start.left + size.width,\n            top: start.top + size.height,\n        };\n        measurements[i] = {\n            index: i,\n            start: start,\n            size: size,\n            end: end,\n            visibility: -1,\n        };\n    }\n    return measurements;\n};\n\nvar ZERO_RECT = {\n    height: 0,\n    width: 0,\n};\nvar ZERO_OFFSET$1 = {\n    left: 0,\n    top: 0,\n};\nvar COMPARE_EPSILON = 0.000000000001;\nvar VIRTUAL_INDEX_ATTR = 'data-virtual-index';\nvar IO_THRESHOLD = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];\nvar useVirtual = function (_a) {\n    var isRtl = _a.isRtl, numberOfItems = _a.numberOfItems, parentRef = _a.parentRef, setStartRange = _a.setStartRange, setEndRange = _a.setEndRange, sizes = _a.sizes, scrollMode = _a.scrollMode, viewMode = _a.viewMode;\n    var _b = React__namespace.useState(false), isSmoothScrolling = _b[0], setSmoothScrolling = _b[1];\n    var onSmoothScroll = React__namespace.useCallback(function (isSmoothScrolling) { return setSmoothScrolling(isSmoothScrolling); }, []);\n    var scrollModeRef = React__namespace.useRef(scrollMode);\n    scrollModeRef.current = scrollMode;\n    var viewModeRef = React__namespace.useRef(viewMode);\n    viewModeRef.current = viewMode;\n    var scrollDirection = scrollMode === exports.ScrollMode.Wrapped || viewMode === exports.ViewMode.DualPageWithCover || viewMode === exports.ViewMode.DualPage\n        ? ScrollDirection.Both\n        : scrollMode === exports.ScrollMode.Horizontal\n            ? ScrollDirection.Horizontal\n            : ScrollDirection.Vertical;\n    var _c = useScroll({\n        elementRef: parentRef,\n        isRtl: isRtl,\n        scrollDirection: scrollDirection,\n        onSmoothScroll: onSmoothScroll,\n    }), scrollOffset = _c.scrollOffset, scrollTo = _c.scrollTo;\n    var parentRect = useMeasureRect({\n        elementRef: parentRef,\n    });\n    var latestRef = React__namespace.useRef({\n        scrollOffset: ZERO_OFFSET$1,\n        measurements: [],\n        parentRect: ZERO_RECT,\n        totalSize: ZERO_RECT,\n    });\n    latestRef.current.scrollOffset = scrollOffset;\n    latestRef.current.parentRect = parentRect;\n    var defaultVisibilities = React__namespace.useMemo(function () { return Array(numberOfItems).fill(-1); }, []);\n    var _d = React__namespace.useState(defaultVisibilities), visibilities = _d[0], setVisibilities = _d[1];\n    var intersectionTracker = React__namespace.useMemo(function () {\n        var io = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entry) {\n                var ratio = entry.isIntersecting ? entry.intersectionRatio : -1;\n                var target = entry.target;\n                var indexAttribute = target.getAttribute(VIRTUAL_INDEX_ATTR);\n                if (!indexAttribute) {\n                    return;\n                }\n                var index = parseInt(indexAttribute, 10);\n                if (0 <= index && index < numberOfItems) {\n                    setVisibilities(function (old) {\n                        old[index] = ratio;\n                        return __spreadArray([], old, true);\n                    });\n                }\n            });\n        }, {\n            threshold: IO_THRESHOLD,\n        });\n        return io;\n    }, []);\n    var measurements = React__namespace.useMemo(function () {\n        if (scrollMode === exports.ScrollMode.Page && viewMode === exports.ViewMode.SinglePage) {\n            return measureSinglePage(numberOfItems, parentRect, sizes);\n        }\n        if (viewMode === exports.ViewMode.DualPageWithCover) {\n            return measureDualPageWithCover(numberOfItems, parentRect, sizes, scrollMode);\n        }\n        if (viewMode === exports.ViewMode.DualPage) {\n            return measureDualPage(numberOfItems, parentRect, sizes, scrollMode);\n        }\n        return measure(numberOfItems, parentRect, sizes, scrollMode);\n    }, [scrollMode, sizes, viewMode, parentRect]);\n    var totalSize = measurements[numberOfItems - 1]\n        ? {\n            height: measurements[numberOfItems - 1].end.top,\n            width: measurements[numberOfItems - 1].end.left,\n        }\n        : ZERO_RECT;\n    latestRef.current.measurements = measurements;\n    latestRef.current.totalSize = totalSize;\n    var _e = calculateRange(scrollDirection, latestRef.current.measurements, latestRef.current.parentRect, latestRef.current.scrollOffset), start = _e.start, end = _e.end;\n    var visiblePageVisibilities = visibilities.slice(clamp(0, numberOfItems, start), clamp(0, numberOfItems, end));\n    var maxVisbilityItem = start + indexOfMax(visiblePageVisibilities);\n    maxVisbilityItem = clamp(0, numberOfItems - 1, maxVisbilityItem);\n    var maxVisbilityIndex = maxVisbilityItem;\n    var startRange = setStartRange(start);\n    var endRange = setEndRange(end);\n    switch (viewMode) {\n        case exports.ViewMode.DualPageWithCover:\n            if (maxVisbilityItem > 0) {\n                maxVisbilityIndex = maxVisbilityItem % 2 === 1 ? maxVisbilityItem : maxVisbilityItem - 1;\n            }\n            startRange = startRange === 0 ? 0 : startRange % 2 === 1 ? startRange : startRange - 1;\n            endRange = endRange % 2 === 1 ? endRange - 1 : endRange;\n            if (numberOfItems - endRange <= 2) {\n                endRange = numberOfItems - 1;\n            }\n            break;\n        case exports.ViewMode.DualPage:\n            maxVisbilityIndex = maxVisbilityItem % 2 === 0 ? maxVisbilityItem : maxVisbilityItem - 1;\n            startRange = startRange % 2 === 0 ? startRange : startRange - 1;\n            endRange = endRange % 2 === 1 ? endRange : endRange - 1;\n            break;\n        case exports.ViewMode.SinglePage:\n        default:\n            maxVisbilityIndex = maxVisbilityItem;\n            break;\n    }\n    var virtualItems = React__namespace.useMemo(function () {\n        var virtualItems = [];\n        var _loop_1 = function (i) {\n            var item = measurements[i];\n            var virtualItem = __assign(__assign({}, item), { visibility: visibilities[i] !== undefined ? visibilities[i] : -1, measureRef: function (ele) {\n                    if (!ele) {\n                        return;\n                    }\n                    ele.setAttribute(VIRTUAL_INDEX_ATTR, \"\".concat(i));\n                    intersectionTracker.observe(ele);\n                } });\n            virtualItems.push(virtualItem);\n        };\n        for (var i = startRange; i <= endRange; i++) {\n            _loop_1(i);\n        }\n        return virtualItems;\n    }, [startRange, endRange, visibilities, measurements]);\n    var scrollToItem = React__namespace.useCallback(function (index, offset) {\n        var measurements = latestRef.current.measurements;\n        var normalizedIndex = clamp(0, numberOfItems - 1, index);\n        var measurement = measurements[normalizedIndex];\n        var withOffset = scrollModeRef.current === exports.ScrollMode.Page ? ZERO_OFFSET$1 : offset;\n        if (measurement) {\n            scrollTo({\n                left: withOffset.left + measurement.start.left,\n                top: withOffset.top + measurement.start.top,\n            }, true);\n        }\n    }, [scrollTo]);\n    var scrollToSmallestItemAbove = React__namespace.useCallback(function (index, offset) {\n        var measurements = latestRef.current.measurements;\n        var start = measurements[index].start;\n        var nextItem = measurements.find(function (item) { return item.start.top - start.top > COMPARE_EPSILON; });\n        if (!nextItem) {\n            return;\n        }\n        var nextIndex = nextItem.index;\n        switch (viewModeRef.current) {\n            case exports.ViewMode.DualPage:\n                nextIndex = nextIndex % 2 === 0 ? nextIndex : nextIndex + 1;\n                break;\n            case exports.ViewMode.DualPageWithCover:\n                nextIndex = nextIndex % 2 === 1 ? nextIndex : nextIndex + 1;\n                break;\n        }\n        scrollToItem(nextIndex, offset);\n    }, []);\n    var scrollToBiggestItemBelow = React__namespace.useCallback(function (index, offset) {\n        var measurements = latestRef.current.measurements;\n        var start = measurements[index].start;\n        var prevIndex = index;\n        var found = false;\n        for (var i = numberOfItems - 1; i >= 0; i--) {\n            if (start.top - measurements[i].start.top > COMPARE_EPSILON) {\n                found = true;\n                prevIndex = measurements[i].index;\n                break;\n            }\n        }\n        if (!found) {\n            return;\n        }\n        switch (viewModeRef.current) {\n            case exports.ViewMode.DualPage:\n                prevIndex = prevIndex % 2 === 0 ? prevIndex : prevIndex - 1;\n                break;\n            case exports.ViewMode.DualPageWithCover:\n                prevIndex = prevIndex % 2 === 0 ? prevIndex - 1 : prevIndex;\n                break;\n        }\n        if (prevIndex === index) {\n            prevIndex = index - 1;\n        }\n        scrollToItem(prevIndex, offset);\n    }, []);\n    var scrollToNextItem = React__namespace.useCallback(function (index, offset) {\n        if (viewModeRef.current === exports.ViewMode.DualPageWithCover || viewModeRef.current === exports.ViewMode.DualPage) {\n            scrollToSmallestItemAbove(index, offset);\n            return;\n        }\n        switch (scrollModeRef.current) {\n            case exports.ScrollMode.Wrapped:\n                scrollToSmallestItemAbove(index, offset);\n                break;\n            case exports.ScrollMode.Horizontal:\n            case exports.ScrollMode.Vertical:\n            default:\n                scrollToItem(index + 1, offset);\n                break;\n        }\n    }, []);\n    var scrollToPreviousItem = React__namespace.useCallback(function (index, offset) {\n        if (viewModeRef.current === exports.ViewMode.DualPageWithCover || viewModeRef.current === exports.ViewMode.DualPage) {\n            scrollToBiggestItemBelow(index, offset);\n            return;\n        }\n        switch (scrollModeRef.current) {\n            case exports.ScrollMode.Wrapped:\n                scrollToBiggestItemBelow(index, offset);\n                break;\n            case exports.ScrollMode.Horizontal:\n            case exports.ScrollMode.Vertical:\n            default:\n                scrollToItem(index - 1, offset);\n                break;\n        }\n    }, []);\n    var getContainerStyles = React__namespace.useCallback(function () { return buildContainerStyles(totalSize, scrollModeRef.current); }, [totalSize]);\n    var getItemContainerStyles = React__namespace.useCallback(function (item) { return buildItemContainerStyles(item, parentRect, scrollModeRef.current); }, [parentRect]);\n    var getItemStyles = React__namespace.useCallback(function (item) { return buildItemStyles(item, isRtl, sizes, viewModeRef.current, scrollModeRef.current); }, [isRtl, sizes]);\n    var zoom = React__namespace.useCallback(function (scale, index) {\n        var _a = latestRef.current, measurements = _a.measurements, scrollOffset = _a.scrollOffset;\n        var normalizedIndex = clamp(0, numberOfItems - 1, index);\n        var measurement = measurements[normalizedIndex];\n        if (measurement) {\n            var updateOffset = scrollModeRef.current === exports.ScrollMode.Page\n                ? {\n                    left: measurement.start.left,\n                    top: measurement.start.top,\n                }\n                : {\n                    left: scrollOffset.left * scale,\n                    top: scrollOffset.top * scale,\n                };\n            scrollTo(updateOffset, false);\n        }\n    }, []);\n    React__namespace.useEffect(function () {\n        return function () {\n            intersectionTracker.disconnect();\n        };\n    }, []);\n    return {\n        boundingClientRect: parentRect,\n        isSmoothScrolling: isSmoothScrolling,\n        startIndex: start,\n        startRange: startRange,\n        endIndex: end,\n        endRange: endRange,\n        maxVisbilityIndex: maxVisbilityIndex,\n        virtualItems: virtualItems,\n        getContainerStyles: getContainerStyles,\n        getItemContainerStyles: getItemContainerStyles,\n        getItemStyles: getItemStyles,\n        scrollToItem: scrollToItem,\n        scrollToNextItem: scrollToNextItem,\n        scrollToPreviousItem: scrollToPreviousItem,\n        zoom: zoom,\n    };\n};\n\nvar SCROLL_BAR_WIDTH = 17;\nvar PAGE_PADDING = 8;\nvar calculateScale = function (container, pageHeight, pageWidth, scale, viewMode, numPages) {\n    var w = pageWidth;\n    switch (true) {\n        case viewMode === exports.ViewMode.DualPageWithCover && numPages >= 3:\n        case viewMode === exports.ViewMode.DualPage && numPages >= 3:\n            w = 2 * pageWidth;\n            break;\n        default:\n            w = pageWidth;\n            break;\n    }\n    switch (scale) {\n        case exports.SpecialZoomLevel.ActualSize:\n            return 1;\n        case exports.SpecialZoomLevel.PageFit:\n            return Math.min((container.clientWidth - SCROLL_BAR_WIDTH) / w, (container.clientHeight - 2 * PAGE_PADDING) / pageHeight);\n        case exports.SpecialZoomLevel.PageWidth:\n            return (container.clientWidth - SCROLL_BAR_WIDTH) / w;\n    }\n};\n\nvar flaternSingleOutline = function (outline) {\n    var result = [];\n    if (outline.items && outline.items.length > 0) {\n        result = result.concat(flaternOutlines(outline.items));\n    }\n    return result;\n};\nvar flaternOutlines = function (outlines) {\n    var result = [];\n    outlines.map(function (outline) {\n        result = result.concat(outline).concat(flaternSingleOutline(outline));\n    });\n    return result;\n};\nvar useOutlines = function (doc) {\n    var isMounted = useIsMounted();\n    var _a = React__namespace.useState([]), outlines = _a[0], setOutlines = _a[1];\n    React__namespace.useEffect(function () {\n        doc.getOutline().then(function (result) {\n            if (isMounted.current && result !== null) {\n                var items = flaternOutlines(result);\n                setOutlines(items);\n            }\n        });\n    }, []);\n    return outlines;\n};\n\nvar NUM_OVERSCAN_PAGES = 3;\nvar DEFAULT_PAGE_LAYOUT = {\n    buildPageStyles: function () { return ({}); },\n    transformSize: function (_a) {\n        var size = _a.size;\n        return size;\n    },\n};\nvar ZERO_OFFSET = {\n    left: 0,\n    top: 0,\n};\nvar Inner = function (_a) {\n    var currentFile = _a.currentFile, defaultScale = _a.defaultScale, doc = _a.doc, initialPage = _a.initialPage, initialRotation = _a.initialRotation, initialScale = _a.initialScale, pageLayout = _a.pageLayout, pageSizes = _a.pageSizes, plugins = _a.plugins, renderPage = _a.renderPage, scrollMode = _a.scrollMode, viewMode = _a.viewMode, viewerState = _a.viewerState, onDocumentLoad = _a.onDocumentLoad, onOpenFile = _a.onOpenFile, onPageChange = _a.onPageChange, onRotate = _a.onRotate, onRotatePage = _a.onRotatePage, onZoom = _a.onZoom;\n    var numPages = doc.numPages;\n    var docId = doc.loadingTask.docId;\n    var l10n = React__namespace.useContext(LocalizationContext).l10n;\n    var themeContext = React__namespace.useContext(ThemeContext);\n    var isRtl = themeContext.direction === exports.TextDirection.RightToLeft;\n    var containerRef = React__namespace.useRef();\n    var pagesRef = React__namespace.useRef();\n    var _b = React__namespace.useState(initialPage), currentPage = _b[0], setCurrentPage = _b[1];\n    var mostRecentVisitedRef = React__namespace.useRef(null);\n    var _c = React__namespace.useState(initialRotation), rotation = _c[0], setRotation = _c[1];\n    var previousRotation = usePrevious(rotation);\n    var _d = React__namespace.useState(false), pagesRotationChanged = _d[0], setPagesRotationChanged = _d[1];\n    var _e = React__namespace.useState(new Map()), pagesRotation = _e[0], setPagesRotation = _e[1];\n    var _f = React__namespace.useState(scrollMode), currentScrollMode = _f[0], setCurrentScrollMode = _f[1];\n    var previousScrollMode = usePrevious(currentScrollMode);\n    var _g = React__namespace.useState(viewMode), currentViewMode = _g[0], setCurrentViewMode = _g[1];\n    var previousViewMode = usePrevious(currentViewMode);\n    var outlines = useOutlines(doc);\n    var _h = React__namespace.useState(initialScale), scale = _h[0], setScale = _h[1];\n    var previousScale = usePrevious(scale);\n    var stateRef = React__namespace.useRef(viewerState);\n    var keepSpecialZoomLevelRef = React__namespace.useRef(typeof defaultScale === 'string' ? defaultScale : null);\n    var _j = React__namespace.useState(-1), renderPageIndex = _j[0], setRenderPageIndex = _j[1];\n    var _k = React__namespace.useState(0), renderQueueKey = _k[0], setRenderQueueKey = _k[1];\n    var renderQueue = useRenderQueue({ doc: doc });\n    React__namespace.useEffect(function () {\n        return function () {\n            clearPagesCache();\n        };\n    }, [docId]);\n    var layoutBuilder = React__namespace.useMemo(function () { return Object.assign({}, DEFAULT_PAGE_LAYOUT, pageLayout); }, []);\n    var sizes = React__namespace.useMemo(function () {\n        return Array(numPages)\n            .fill(0)\n            .map(function (_, pageIndex) {\n            var pageSize = [pageSizes[pageIndex].pageHeight, pageSizes[pageIndex].pageWidth];\n            var rect = Math.abs(rotation) % 180 === 0\n                ? {\n                    height: pageSize[0],\n                    width: pageSize[1],\n                }\n                : {\n                    height: pageSize[1],\n                    width: pageSize[0],\n                };\n            var pageRect = {\n                height: rect.height * scale,\n                width: rect.width * scale,\n            };\n            return layoutBuilder.transformSize({ numPages: numPages, pageIndex: pageIndex, size: pageRect });\n        });\n    }, [rotation, scale]);\n    var setStartRange = React__namespace.useCallback(function (startIndex) { return Math.max(startIndex - NUM_OVERSCAN_PAGES, 0); }, []);\n    var setEndRange = React__namespace.useCallback(function (endIndex) { return Math.min(endIndex + NUM_OVERSCAN_PAGES, numPages - 1); }, [numPages]);\n    var virtualizer = useVirtual({\n        isRtl: isRtl,\n        numberOfItems: numPages,\n        parentRef: pagesRef,\n        scrollMode: currentScrollMode,\n        setStartRange: setStartRange,\n        setEndRange: setEndRange,\n        sizes: sizes,\n        viewMode: currentViewMode,\n    });\n    var handlePagesResize = useDebounceCallback(function (_) {\n        if (keepSpecialZoomLevelRef.current) {\n            setRenderPageIndex(-1);\n            zoom(keepSpecialZoomLevelRef.current);\n        }\n    }, 200);\n    useTrackResize({\n        targetRef: pagesRef,\n        onResize: handlePagesResize,\n    });\n    var setViewerState = function (viewerState) {\n        var newState = viewerState;\n        plugins.forEach(function (plugin) {\n            if (plugin.onViewerStateChange) {\n                newState = plugin.onViewerStateChange(newState);\n            }\n        });\n        stateRef.current = newState;\n    };\n    var getPagesContainer = function () { return pagesRef.current; };\n    var getViewerState = function () { return stateRef.current; };\n    var jumpToDestination = React__namespace.useCallback(function (pageIndex, bottomOffset, leftOffset, scaleTo) {\n        var pagesContainer = pagesRef.current;\n        var currentState = stateRef.current;\n        if (!pagesContainer || !currentState) {\n            return;\n        }\n        getPage(doc, pageIndex).then(function (page) {\n            var viewport = page.getViewport({ scale: 1 });\n            var top = 0;\n            var bottom = (typeof bottomOffset === 'function'\n                ? bottomOffset(viewport.width, viewport.height)\n                : bottomOffset) || 0;\n            var left = (typeof leftOffset === 'function' ? leftOffset(viewport.width, viewport.height) : leftOffset) || 0;\n            var updateScale = currentState.scale;\n            switch (scaleTo) {\n                case exports.SpecialZoomLevel.PageFit:\n                    top = 0;\n                    left = 0;\n                    zoom(exports.SpecialZoomLevel.PageFit);\n                    break;\n                case exports.SpecialZoomLevel.PageWidth:\n                    updateScale = calculateScale(pagesContainer, pageSizes[pageIndex].pageHeight, pageSizes[pageIndex].pageWidth, exports.SpecialZoomLevel.PageWidth, viewMode, numPages);\n                    top = (viewport.height - bottom) * updateScale;\n                    left = left * updateScale;\n                    zoom(updateScale);\n                    break;\n                default:\n                    top = (viewport.height - bottom) * updateScale;\n                    left = left * updateScale;\n                    break;\n            }\n            switch (currentState.scrollMode) {\n                case exports.ScrollMode.Horizontal:\n                    virtualizer.scrollToItem(pageIndex, { left: left, top: 0 });\n                    break;\n                case exports.ScrollMode.Vertical:\n                default:\n                    virtualizer.scrollToItem(pageIndex, { left: 0, top: top });\n                    break;\n            }\n        });\n    }, []);\n    var jumpToNextPage = React__namespace.useCallback(function () {\n        virtualizer.scrollToNextItem(stateRef.current.pageIndex, ZERO_OFFSET);\n    }, []);\n    var jumpToPage = React__namespace.useCallback(function (pageIndex) {\n        if (0 <= pageIndex && pageIndex < numPages) {\n            virtualizer.scrollToItem(pageIndex, ZERO_OFFSET);\n        }\n    }, []);\n    var jumpToPreviousPage = React__namespace.useCallback(function () {\n        virtualizer.scrollToPreviousItem(stateRef.current.pageIndex, ZERO_OFFSET);\n    }, []);\n    var openFile = React__namespace.useCallback(function (file) {\n        if (getFileExt(file.name).toLowerCase() !== 'pdf') {\n            return;\n        }\n        new Promise(function (resolve) {\n            var reader = new FileReader();\n            reader.readAsArrayBuffer(file);\n            reader.onload = function () {\n                var bytes = new Uint8Array(reader.result);\n                resolve(bytes);\n            };\n        }).then(function (data) {\n            onOpenFile(file.name, data);\n        });\n    }, [onOpenFile]);\n    var rotate = React__namespace.useCallback(function (direction) {\n        var degrees = direction === exports.RotateDirection.Backward ? -90 : 90;\n        var currentRotation = stateRef.current.rotation;\n        var updateRotation = currentRotation === 360 || currentRotation === -360 ? degrees : currentRotation + degrees;\n        renderQueue.markNotRendered();\n        setRotation(updateRotation);\n        setViewerState(__assign(__assign({}, stateRef.current), { rotation: updateRotation }));\n        onRotate({ direction: direction, doc: doc, rotation: updateRotation });\n    }, []);\n    var rotatePage = React__namespace.useCallback(function (pageIndex, direction) {\n        var degrees = direction === exports.RotateDirection.Backward ? -90 : 90;\n        var rotations = stateRef.current.pagesRotation;\n        var currentPageRotation = rotations.has(pageIndex) ? rotations.get(pageIndex) : initialRotation;\n        var finalRotation = currentPageRotation + degrees;\n        var updateRotations = rotations.set(pageIndex, finalRotation);\n        setPagesRotation(updateRotations);\n        setPagesRotationChanged(function (value) { return !value; });\n        setViewerState(__assign(__assign({}, stateRef.current), { pagesRotation: updateRotations, rotatedPage: pageIndex }));\n        onRotatePage({ direction: direction, doc: doc, pageIndex: pageIndex, rotation: finalRotation });\n        renderQueue.markRendering(pageIndex);\n        setRenderPageIndex(pageIndex);\n    }, []);\n    var switchScrollMode = React__namespace.useCallback(function (scrollMode) {\n        setViewerState(__assign(__assign({}, stateRef.current), { scrollMode: scrollMode }));\n        setCurrentScrollMode(scrollMode);\n    }, []);\n    var switchViewMode = React__namespace.useCallback(function (viewMode) {\n        setViewerState(__assign(__assign({}, stateRef.current), { viewMode: viewMode }));\n        setCurrentViewMode(viewMode);\n    }, []);\n    var zoom = React__namespace.useCallback(function (newScale) {\n        var pagesEle = pagesRef.current;\n        var currentPage = stateRef.current.pageIndex;\n        if (currentPage < 0 || currentPage >= numPages) {\n            return;\n        }\n        var currentPageHeight = pageSizes[currentPage].pageHeight;\n        var currentPageWidth = pageSizes[currentPage].pageWidth;\n        var updateScale = pagesEle\n            ? typeof newScale === 'string'\n                ? calculateScale(pagesEle, currentPageHeight, currentPageWidth, newScale, stateRef.current.viewMode, numPages)\n                : newScale\n            : 1;\n        keepSpecialZoomLevelRef.current = typeof newScale === 'string' ? newScale : null;\n        if (updateScale === stateRef.current.scale) {\n            return;\n        }\n        setRenderQueueKey(function (key) { return key + 1; });\n        renderQueue.markNotRendered();\n        setScale(updateScale);\n        onZoom({ doc: doc, scale: updateScale });\n        setViewerState(__assign(__assign({}, stateRef.current), { scale: updateScale }));\n    }, []);\n    React__namespace.useEffect(function () {\n        var pluginMethods = {\n            getPagesContainer: getPagesContainer,\n            getViewerState: getViewerState,\n            jumpToDestination: jumpToDestination,\n            jumpToNextPage: jumpToNextPage,\n            jumpToPreviousPage: jumpToPreviousPage,\n            jumpToPage: jumpToPage,\n            openFile: openFile,\n            rotate: rotate,\n            rotatePage: rotatePage,\n            setViewerState: setViewerState,\n            switchScrollMode: switchScrollMode,\n            switchViewMode: switchViewMode,\n            zoom: zoom,\n        };\n        plugins.forEach(function (plugin) {\n            if (plugin.install) {\n                plugin.install(pluginMethods);\n            }\n        });\n        return function () {\n            plugins.forEach(function (plugin) {\n                if (plugin.uninstall) {\n                    plugin.uninstall(pluginMethods);\n                }\n            });\n        };\n    }, [docId]);\n    React__namespace.useEffect(function () {\n        onDocumentLoad({ doc: doc, file: currentFile });\n        plugins.forEach(function (plugin) {\n            plugin.onDocumentLoad && plugin.onDocumentLoad({ doc: doc, file: currentFile });\n        });\n    }, [docId]);\n    useIsomorphicLayoutEffect(function () {\n        var rect = virtualizer.boundingClientRect;\n        if (rect.height > 0 && rect.width > 0 && initialPage) {\n            jumpToPage(initialPage);\n        }\n    }, [docId, virtualizer.boundingClientRect]);\n    useIsomorphicLayoutEffect(function () {\n        var latestPage = stateRef.current.pageIndex;\n        if (latestPage > -1 && previousScrollMode !== currentScrollMode) {\n            virtualizer.scrollToItem(latestPage, ZERO_OFFSET);\n        }\n    }, [currentScrollMode]);\n    useIsomorphicLayoutEffect(function () {\n        var latestPage = stateRef.current.pageIndex;\n        if (latestPage > -1 && previousRotation !== rotation) {\n            virtualizer.scrollToItem(latestPage, ZERO_OFFSET);\n        }\n    }, [rotation]);\n    useIsomorphicLayoutEffect(function () {\n        if (previousScale != 0 && previousScale != stateRef.current.scale) {\n            virtualizer.zoom(stateRef.current.scale / previousScale, stateRef.current.pageIndex);\n        }\n    }, [scale]);\n    useIsomorphicLayoutEffect(function () {\n        if (previousViewMode === stateRef.current.viewMode) {\n            return;\n        }\n        var startRange = virtualizer.startRange, endRange = virtualizer.endRange, virtualItems = virtualizer.virtualItems;\n        renderQueue.markNotRendered();\n        renderQueue.setRange(startRange, endRange);\n        var _loop_1 = function (i) {\n            var item = virtualItems.find(function (item) { return item.index === i; });\n            if (item) {\n                renderQueue.setVisibility(i, item.visibility);\n            }\n        };\n        for (var i = startRange; i <= endRange; i++) {\n            _loop_1(i);\n        }\n        renderNextPage();\n    }, [currentViewMode]);\n    useIsomorphicLayoutEffect(function () {\n        var latestPage = stateRef.current.pageIndex;\n        if (latestPage > -1 && previousViewMode !== currentViewMode) {\n            virtualizer.scrollToItem(latestPage, ZERO_OFFSET);\n        }\n    }, [currentViewMode]);\n    React__namespace.useEffect(function () {\n        var isSmoothScrolling = virtualizer.isSmoothScrolling;\n        if (isSmoothScrolling) {\n            return;\n        }\n        if (mostRecentVisitedRef.current === null || mostRecentVisitedRef.current !== currentPage) {\n            mostRecentVisitedRef.current = currentPage;\n            onPageChange({ currentPage: currentPage, doc: doc });\n        }\n    }, [currentPage, virtualizer.isSmoothScrolling]);\n    React__namespace.useEffect(function () {\n        var startRange = virtualizer.startRange, endRange = virtualizer.endRange, maxVisbilityIndex = virtualizer.maxVisbilityIndex, virtualItems = virtualizer.virtualItems;\n        var currentPage = maxVisbilityIndex;\n        setCurrentPage(currentPage);\n        setViewerState(__assign(__assign({}, stateRef.current), { pageIndex: currentPage }));\n        renderQueue.setRange(startRange, endRange);\n        var _loop_2 = function (i) {\n            var item = virtualItems.find(function (item) { return item.index === i; });\n            if (item) {\n                renderQueue.setVisibility(i, item.visibility);\n            }\n        };\n        for (var i = startRange; i <= endRange; i++) {\n            _loop_2(i);\n        }\n        renderNextPage();\n    }, [\n        virtualizer.startRange,\n        virtualizer.endRange,\n        virtualizer.maxVisbilityIndex,\n        pagesRotationChanged,\n        rotation,\n        scale,\n    ]);\n    var handlePageRenderCompleted = React__namespace.useCallback(function (pageIndex) {\n        renderQueue.markRendered(pageIndex);\n        renderNextPage();\n    }, [renderQueueKey]);\n    var renderNextPage = function () {\n        var nextPage = renderQueue.getHighestPriorityPage();\n        if (nextPage > -1 && renderQueue.isInRange(nextPage)) {\n            renderQueue.markRendering(nextPage);\n            setRenderPageIndex(nextPage);\n        }\n    };\n    var executeNamedAction = function (action) {\n        var previousPage = currentPage - 1;\n        var nextPage = currentPage + 1;\n        switch (action) {\n            case 'FirstPage':\n                jumpToPage(0);\n                break;\n            case 'LastPage':\n                jumpToPage(numPages - 1);\n                break;\n            case 'NextPage':\n                nextPage < numPages && jumpToPage(nextPage);\n                break;\n            case 'PrevPage':\n                previousPage >= 0 && jumpToPage(previousPage);\n                break;\n        }\n    };\n    var renderViewer = React__namespace.useCallback(function () {\n        var virtualItems = virtualizer.virtualItems;\n        var chunks = [];\n        switch (currentViewMode) {\n            case exports.ViewMode.DualPage:\n                chunks = chunk(virtualItems, 2);\n                break;\n            case exports.ViewMode.DualPageWithCover:\n                if (virtualItems.length) {\n                    chunks =\n                        virtualItems[0].index === 0\n                            ? [[virtualItems[0]]].concat(chunk(virtualItems.slice(1), 2))\n                            : chunk(virtualItems, 2);\n                }\n                break;\n            case exports.ViewMode.SinglePage:\n            default:\n                chunks = chunk(virtualItems, 1);\n                break;\n        }\n        var pageLabel = l10n && l10n.core ? l10n.core.pageLabel : 'Page {{pageIndex}}';\n        var slot = {\n            attrs: {\n                'data-testid': 'core__inner-container',\n                ref: containerRef,\n                style: {\n                    height: '100%',\n                },\n            },\n            children: React__namespace.createElement(React__namespace.Fragment, null),\n            subSlot: {\n                attrs: {\n                    'data-testid': 'core__inner-pages',\n                    className: classNames({\n                        'rpv-core__inner-pages': true,\n                        'rpv-core__inner-pages--horizontal': currentScrollMode === exports.ScrollMode.Horizontal,\n                        'rpv-core__inner-pages--rtl': isRtl,\n                        'rpv-core__inner-pages--single': currentScrollMode === exports.ScrollMode.Page,\n                        'rpv-core__inner-pages--vertical': currentScrollMode === exports.ScrollMode.Vertical,\n                        'rpv-core__inner-pages--wrapped': currentScrollMode === exports.ScrollMode.Wrapped,\n                    }),\n                    ref: pagesRef,\n                    style: {\n                        height: '100%',\n                        position: 'relative',\n                    },\n                },\n                children: (React__namespace.createElement(\"div\", { style: Object.assign({\n                        '--scale-factor': scale,\n                    }, virtualizer.getContainerStyles()) }, chunks.map(function (items) { return (React__namespace.createElement(\"div\", { className: classNames({\n                        'rpv-core__inner-page-container': true,\n                        'rpv-core__inner-page-container--single': currentScrollMode === exports.ScrollMode.Page,\n                    }), style: virtualizer.getItemContainerStyles(items[0]), key: \"\".concat(items[0].index, \"-\").concat(currentViewMode) }, items.map(function (item) {\n                    var isCover = currentViewMode === exports.ViewMode.DualPageWithCover &&\n                        (item.index === 0 || (numPages % 2 === 0 && item.index === numPages - 1));\n                    return (React__namespace.createElement(\"div\", { \"aria-label\": pageLabel.replace('{{pageIndex}}', \"\".concat(item.index + 1)), className: classNames({\n                            'rpv-core__inner-page': true,\n                            'rpv-core__inner-page--dual-even': currentViewMode === exports.ViewMode.DualPage && item.index % 2 === 0,\n                            'rpv-core__inner-page--dual-odd': currentViewMode === exports.ViewMode.DualPage && item.index % 2 === 1,\n                            'rpv-core__inner-page--dual-cover': isCover,\n                            'rpv-core__inner-page--dual-cover-even': currentViewMode === exports.ViewMode.DualPageWithCover &&\n                                !isCover &&\n                                item.index % 2 === 0,\n                            'rpv-core__inner-page--dual-cover-odd': currentViewMode === exports.ViewMode.DualPageWithCover &&\n                                !isCover &&\n                                item.index % 2 === 1,\n                            'rpv-core__inner-page--single': currentViewMode === exports.ViewMode.SinglePage &&\n                                currentScrollMode === exports.ScrollMode.Page,\n                        }), role: \"region\", key: \"\".concat(item.index, \"-\").concat(currentViewMode), style: Object.assign({}, virtualizer.getItemStyles(item), layoutBuilder.buildPageStyles({\n                            numPages: numPages,\n                            pageIndex: item.index,\n                            scrollMode: currentScrollMode,\n                            viewMode: currentViewMode,\n                        })) },\n                        React__namespace.createElement(PageLayer, { doc: doc, measureRef: item.measureRef, outlines: outlines, pageIndex: item.index, pageRotation: pagesRotation.has(item.index) ? pagesRotation.get(item.index) : 0, pageSize: pageSizes[item.index], plugins: plugins, renderPage: renderPage, renderQueueKey: renderQueueKey, rotation: rotation, scale: scale, shouldRender: renderPageIndex === item.index, viewMode: currentViewMode, onExecuteNamedAction: executeNamedAction, onJumpToDest: jumpToDestination, onRenderCompleted: handlePageRenderCompleted, onRotatePage: rotatePage })));\n                }))); }))),\n            },\n        };\n        plugins.forEach(function (plugin) {\n            if (plugin.renderViewer) {\n                slot = plugin.renderViewer({\n                    containerRef: containerRef,\n                    doc: doc,\n                    pagesContainerRef: pagesRef,\n                    pagesRotation: pagesRotation,\n                    pageSizes: pageSizes,\n                    rotation: rotation,\n                    slot: slot,\n                    themeContext: themeContext,\n                    jumpToPage: jumpToPage,\n                    openFile: openFile,\n                    rotate: rotate,\n                    rotatePage: rotatePage,\n                    switchScrollMode: switchScrollMode,\n                    switchViewMode: switchViewMode,\n                    zoom: zoom,\n                });\n            }\n        });\n        return slot;\n    }, [plugins, virtualizer]);\n    var renderSlot = React__namespace.useCallback(function (slot) { return (React__namespace.createElement(\"div\", __assign({}, slot.attrs, { style: slot.attrs && slot.attrs.style ? slot.attrs.style : {} }),\n        slot.children,\n        slot.subSlot && renderSlot(slot.subSlot))); }, []);\n    return renderSlot(renderViewer());\n};\n\nvar LEVELS = [\n    0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.4, 2.7, 3.0, 3.3, 3.7, 4.1, 4.6,\n    5.1, 5.7, 6.3, 7.0, 7.7, 8.5, 9.4, 10,\n];\nvar decrease = function (currentLevel) {\n    var found = LEVELS.findIndex(function (item) { return item >= currentLevel; });\n    return found === -1 || found === 0 ? currentLevel : LEVELS[found - 1];\n};\n\nvar RESERVE_HEIGHT = 45;\nvar RESERVE_WIDTH = 45;\nvar PageSizeCalculator = function (_a) {\n    var defaultScale = _a.defaultScale, doc = _a.doc, render = _a.render, scrollMode = _a.scrollMode, viewMode = _a.viewMode;\n    var pagesRef = React__namespace.useRef();\n    var _b = React__namespace.useState({\n        pageSizes: [],\n        scale: 0,\n    }), state = _b[0], setState = _b[1];\n    React__namespace.useLayoutEffect(function () {\n        var queryPageSizes = Array(doc.numPages)\n            .fill(0)\n            .map(function (_, i) {\n            return new Promise(function (resolve, _) {\n                getPage(doc, i).then(function (pdfPage) {\n                    var viewport = pdfPage.getViewport({ scale: 1 });\n                    resolve({\n                        pageHeight: viewport.height,\n                        pageWidth: viewport.width,\n                        rotation: viewport.rotation,\n                    });\n                });\n            });\n        });\n        Promise.all(queryPageSizes).then(function (pageSizes) {\n            var pagesEle = pagesRef.current;\n            if (!pagesEle || pageSizes.length === 0) {\n                return;\n            }\n            var w = pageSizes[0].pageWidth;\n            var h = pageSizes[0].pageHeight;\n            var parentEle = pagesEle.parentElement;\n            var scaleWidth = (parentEle.clientWidth - RESERVE_WIDTH) / w;\n            var scaleHeight = (parentEle.clientHeight - RESERVE_HEIGHT) / h;\n            var scaled = scaleWidth;\n            switch (scrollMode) {\n                case exports.ScrollMode.Horizontal:\n                    scaled = Math.min(scaleWidth, scaleHeight);\n                    break;\n                case exports.ScrollMode.Vertical:\n                default:\n                    scaled = scaleWidth;\n                    break;\n            }\n            var scale = defaultScale\n                ? typeof defaultScale === 'string'\n                    ? calculateScale(parentEle, h, w, defaultScale, viewMode, doc.numPages)\n                    : defaultScale\n                : decrease(scaled);\n            setState({ pageSizes: pageSizes, scale: scale });\n        });\n    }, [doc.loadingTask.docId]);\n    return state.pageSizes.length === 0 || state.scale === 0 ? (React__namespace.createElement(\"div\", { className: \"rpv-core__page-size-calculator\", \"data-testid\": \"core__page-size-calculating\", ref: pagesRef },\n        React__namespace.createElement(Spinner, null))) : (render(state.pageSizes, state.scale));\n};\n\nvar LoadingStatus = (function () {\n    function LoadingStatus() {\n    }\n    return LoadingStatus;\n}());\n\nvar AskForPasswordState = (function (_super) {\n    __extends(AskForPasswordState, _super);\n    function AskForPasswordState(verifyPassword, passwordStatus) {\n        var _this = _super.call(this) || this;\n        _this.verifyPassword = verifyPassword;\n        _this.passwordStatus = passwordStatus;\n        return _this;\n    }\n    return AskForPasswordState;\n}(LoadingStatus));\n\nvar AskingPassword = function (_a) {\n    var passwordStatus = _a.passwordStatus, renderProtectedView = _a.renderProtectedView, verifyPassword = _a.verifyPassword, onDocumentAskPassword = _a.onDocumentAskPassword;\n    var l10n = React__namespace.useContext(LocalizationContext).l10n;\n    var _b = React__namespace.useState(''), password = _b[0], setPassword = _b[1];\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var submit = function () { return verifyPassword(password); };\n    var handleKeyDown = function (e) {\n        if (e.key === 'Enter') {\n            submit();\n        }\n    };\n    React__namespace.useEffect(function () {\n        if (onDocumentAskPassword) {\n            onDocumentAskPassword({\n                verifyPassword: verifyPassword,\n            });\n        }\n    }, []);\n    if (renderProtectedView) {\n        return renderProtectedView({\n            passwordStatus: passwordStatus,\n            verifyPassword: verifyPassword,\n        });\n    }\n    return (React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-wrapper\" },\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__asking-password': true,\n                'rpv-core__asking-password--rtl': isRtl,\n            }) },\n            React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-message\" },\n                passwordStatus === exports.PasswordStatus.RequiredPassword &&\n                    l10n.core.askingPassword\n                        .requirePasswordToOpen,\n                passwordStatus === exports.PasswordStatus.WrongPassword &&\n                    l10n.core.wrongPassword.tryAgain),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-body\" },\n                React__namespace.createElement(\"div\", { className: classNames({\n                        'rpv-core__asking-password-input': true,\n                        'rpv-core__asking-password-input--ltr': !isRtl,\n                        'rpv-core__asking-password-input--rtl': isRtl,\n                    }) },\n                    React__namespace.createElement(TextBox, { testId: \"core__asking-password-input\", type: \"password\", value: password, onChange: setPassword, onKeyDown: handleKeyDown })),\n                React__namespace.createElement(PrimaryButton, { onClick: submit }, l10n.core.askingPassword.submit)))));\n};\n\nvar CompletedState = (function (_super) {\n    __extends(CompletedState, _super);\n    function CompletedState(doc) {\n        var _this = _super.call(this) || this;\n        _this.doc = doc;\n        return _this;\n    }\n    return CompletedState;\n}(LoadingStatus));\n\nvar FailureState = (function (_super) {\n    __extends(FailureState, _super);\n    function FailureState(error) {\n        var _this = _super.call(this) || this;\n        _this.error = error;\n        return _this;\n    }\n    return FailureState;\n}(LoadingStatus));\n\nvar LoadingState = (function (_super) {\n    __extends(LoadingState, _super);\n    function LoadingState(percentages) {\n        var _this = _super.call(this) || this;\n        _this.percentages = percentages;\n        return _this;\n    }\n    return LoadingState;\n}(LoadingStatus));\n\nvar DocumentLoader = function (_a) {\n    var characterMap = _a.characterMap, file = _a.file, httpHeaders = _a.httpHeaders, render = _a.render, renderError = _a.renderError, renderLoader = _a.renderLoader, renderProtectedView = _a.renderProtectedView, transformGetDocumentParams = _a.transformGetDocumentParams, withCredentials = _a.withCredentials, onDocumentAskPassword = _a.onDocumentAskPassword;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var _b = React__namespace.useState(new LoadingState(0)), status = _b[0], setStatus = _b[1];\n    var docRef = React__namespace.useRef('');\n    var isMounted = useIsMounted();\n    React__namespace.useEffect(function () {\n        docRef.current = '';\n        setStatus(new LoadingState(0));\n        var worker = new PdfJsApi__namespace.PDFWorker({ name: \"PDFWorker_\".concat(Date.now()) });\n        var params = Object.assign({\n            httpHeaders: httpHeaders,\n            withCredentials: withCredentials,\n            worker: worker,\n        }, 'string' === typeof file ? { url: file } : { data: file }, characterMap\n            ? {\n                cMapUrl: characterMap.url,\n                cMapPacked: characterMap.isCompressed,\n            }\n            : {});\n        var transformParams = transformGetDocumentParams ? transformGetDocumentParams(params) : params;\n        var loadingTask = PdfJsApi__namespace.getDocument(transformParams);\n        loadingTask.onPassword = function (verifyPassword, reason) {\n            switch (reason) {\n                case PdfJsApi__namespace.PasswordResponses.NEED_PASSWORD:\n                    isMounted.current &&\n                        setStatus(new AskForPasswordState(verifyPassword, exports.PasswordStatus.RequiredPassword));\n                    break;\n                case PdfJsApi__namespace.PasswordResponses.INCORRECT_PASSWORD:\n                    isMounted.current &&\n                        setStatus(new AskForPasswordState(verifyPassword, exports.PasswordStatus.WrongPassword));\n                    break;\n            }\n        };\n        loadingTask.onProgress = function (progress) {\n            var loaded = progress.total > 0\n                ?\n                    Math.min(100, (100 * progress.loaded) / progress.total)\n                : 100;\n            if (isMounted.current && docRef.current === '') {\n                setStatus(new LoadingState(loaded));\n            }\n        };\n        loadingTask.promise.then(function (doc) {\n            docRef.current = doc.loadingTask.docId;\n            isMounted.current && setStatus(new CompletedState(doc));\n        }, function (err) {\n            return isMounted.current &&\n                !worker.destroyed &&\n                setStatus(new FailureState({\n                    message: err.message || 'Cannot load document',\n                    name: err.name,\n                }));\n        });\n        return function () {\n            loadingTask.destroy();\n            worker.destroy();\n        };\n    }, [file]);\n    if (status instanceof AskForPasswordState) {\n        return (React__namespace.createElement(AskingPassword, { passwordStatus: status.passwordStatus, renderProtectedView: renderProtectedView, verifyPassword: status.verifyPassword, onDocumentAskPassword: onDocumentAskPassword }));\n    }\n    if (status instanceof CompletedState) {\n        return render(status.doc);\n    }\n    if (status instanceof FailureState) {\n        return renderError ? (renderError(status.error)) : (React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__doc-error': true,\n                'rpv-core__doc-error--rtl': isRtl,\n            }) },\n            React__namespace.createElement(\"div\", { className: \"rpv-core__doc-error-text\" }, status.error.message)));\n    }\n    return (React__namespace.createElement(\"div\", { \"data-testid\": \"core__doc-loading\", className: classNames({\n            'rpv-core__doc-loading': true,\n            'rpv-core__doc-loading--rtl': isRtl,\n        }) }, renderLoader ? renderLoader(status.percentages) : React__namespace.createElement(Spinner, null)));\n};\n\nvar isDarkMode = function () {\n    return typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n};\n\nvar withTheme = function (theme, onSwitchTheme) {\n    var initialTheme = React__namespace.useMemo(function () { return (theme === 'auto' ? (isDarkMode() ? 'dark' : 'light') : theme); }, []);\n    var _a = React__namespace.useState(initialTheme), currentTheme = _a[0], setCurrentTheme = _a[1];\n    var prevTheme = usePrevious(currentTheme);\n    React__namespace.useEffect(function () {\n        if (theme !== 'auto') {\n            return;\n        }\n        var media = window.matchMedia('(prefers-color-scheme: dark)');\n        var handler = function (e) {\n            setCurrentTheme(e.matches ? 'dark' : 'light');\n        };\n        media.addEventListener('change', handler);\n        return function () { return media.removeEventListener('change', handler); };\n    }, []);\n    React__namespace.useEffect(function () {\n        if (currentTheme !== prevTheme && onSwitchTheme) {\n            onSwitchTheme(currentTheme);\n        }\n    }, [currentTheme]);\n    React__namespace.useEffect(function () {\n        if (theme !== currentTheme) {\n            setCurrentTheme(theme);\n        }\n    }, [theme]);\n    return {\n        currentTheme: currentTheme,\n        setCurrentTheme: setCurrentTheme,\n    };\n};\n\nvar isSameUrl = function (a, b) {\n    var typeA = typeof a;\n    var typeB = typeof b;\n    if (typeA === 'string' && typeB === 'string' && a === b) {\n        return true;\n    }\n    if (typeA === 'object' && typeB === 'object') {\n        return a.length === b.length && a.every(function (v, i) { return v === b[i]; });\n    }\n    return false;\n};\n\nvar Viewer = function (_a) {\n    var characterMap = _a.characterMap, defaultScale = _a.defaultScale, fileUrl = _a.fileUrl, _b = _a.httpHeaders, httpHeaders = _b === void 0 ? {} : _b, _c = _a.initialPage, initialPage = _c === void 0 ? 0 : _c, pageLayout = _a.pageLayout, _d = _a.initialRotation, initialRotation = _d === void 0 ? 0 : _d, localization = _a.localization, _e = _a.plugins, plugins = _e === void 0 ? [] : _e, renderError = _a.renderError, renderLoader = _a.renderLoader, renderPage = _a.renderPage, renderProtectedView = _a.renderProtectedView, _f = _a.scrollMode, scrollMode = _f === void 0 ? exports.ScrollMode.Vertical : _f, transformGetDocumentParams = _a.transformGetDocumentParams, _g = _a.theme, theme = _g === void 0 ? {\n        direction: exports.TextDirection.LeftToRight,\n        theme: 'light',\n    } : _g, _h = _a.viewMode, viewMode = _h === void 0 ? exports.ViewMode.SinglePage : _h, _j = _a.withCredentials, withCredentials = _j === void 0 ? false : _j, onDocumentAskPassword = _a.onDocumentAskPassword, _k = _a.onDocumentLoad, onDocumentLoad = _k === void 0 ? function () {\n    } : _k, _l = _a.onPageChange, onPageChange = _l === void 0 ? function () {\n    } : _l, _m = _a.onRotate, onRotate = _m === void 0 ? function () {\n    } : _m, _o = _a.onRotatePage, onRotatePage = _o === void 0 ? function () {\n    } : _o, _p = _a.onSwitchTheme, onSwitchTheme = _p === void 0 ? function () {\n    } : _p, _q = _a.onZoom, onZoom = _q === void 0 ? function () {\n    } : _q;\n    var _r = React__namespace.useState({\n        data: fileUrl,\n        name: typeof fileUrl === 'string' ? fileUrl : '',\n        shouldLoad: false,\n    }), file = _r[0], setFile = _r[1];\n    var openFile = function (fileName, data) {\n        setFile({\n            data: data,\n            name: fileName,\n            shouldLoad: true,\n        });\n    };\n    var _s = React__namespace.useState(false), visible = _s[0], setVisible = _s[1];\n    var prevFile = usePrevious(file);\n    React__namespace.useEffect(function () {\n        if (!isSameUrl(prevFile.data, fileUrl)) {\n            setFile({\n                data: fileUrl,\n                name: typeof fileUrl === 'string' ? fileUrl : '',\n                shouldLoad: visible,\n            });\n        }\n    }, [fileUrl, visible]);\n    var visibilityChanged = function (params) {\n        setVisible(params.isVisible);\n        if (params.isVisible) {\n            setFile(function (currentFile) { return Object.assign({}, currentFile, { shouldLoad: true }); });\n        }\n    };\n    var containerRef = useIntersectionObserver({\n        onVisibilityChanged: visibilityChanged,\n    });\n    var themeProps = typeof theme === 'string' ? { direction: exports.TextDirection.LeftToRight, theme: theme } : theme;\n    var _t = React__namespace.useState(localization || DefaultLocalization), l10n = _t[0], setL10n = _t[1];\n    var localizationContext = { l10n: l10n, setL10n: setL10n };\n    var themeContext = Object.assign({}, { direction: themeProps.direction }, withTheme(themeProps.theme || 'light', onSwitchTheme));\n    React__namespace.useEffect(function () {\n        if (localization) {\n            setL10n(localization);\n        }\n    }, [localization]);\n    return (React__namespace.createElement(LocalizationContext.Provider, { value: localizationContext },\n        React__namespace.createElement(ThemeContext.Provider, { value: themeContext },\n            React__namespace.createElement(\"div\", { ref: containerRef, className: \"rpv-core__viewer rpv-core__viewer--\".concat(themeContext.currentTheme), \"data-testid\": \"core__viewer\", style: {\n                    height: '100%',\n                    width: '100%',\n                } }, file.shouldLoad && (React__namespace.createElement(DocumentLoader, { characterMap: characterMap, file: file.data, httpHeaders: httpHeaders, render: function (doc) { return (React__namespace.createElement(PageSizeCalculator, { defaultScale: defaultScale, doc: doc, render: function (pageSizes, initialScale) { return (React__namespace.createElement(Inner, { currentFile: {\n                            data: file.data,\n                            name: file.name,\n                        }, defaultScale: defaultScale, doc: doc, initialPage: initialPage, initialRotation: initialRotation, initialScale: initialScale, pageLayout: pageLayout, pageSizes: pageSizes, plugins: plugins, renderPage: renderPage, scrollMode: scrollMode, viewMode: viewMode, viewerState: {\n                            file: file,\n                            pageIndex: -1,\n                            pageHeight: pageSizes[0].pageHeight,\n                            pageWidth: pageSizes[0].pageWidth,\n                            pagesRotation: new Map(),\n                            rotation: initialRotation,\n                            scale: initialScale,\n                            scrollMode: scrollMode,\n                            viewMode: viewMode,\n                        }, onDocumentLoad: onDocumentLoad, onOpenFile: openFile, onPageChange: onPageChange, onRotate: onRotate, onRotatePage: onRotatePage, onZoom: onZoom })); }, scrollMode: scrollMode, viewMode: viewMode })); }, renderError: renderError, renderLoader: renderLoader, renderProtectedView: renderProtectedView, transformGetDocumentParams: transformGetDocumentParams, withCredentials: withCredentials, onDocumentAskPassword: onDocumentAskPassword }))))));\n};\n\nvar Worker = function (_a) {\n    var children = _a.children, workerUrl = _a.workerUrl;\n    PdfJsApi__namespace.GlobalWorkerOptions.workerSrc = workerUrl;\n    return React__namespace.createElement(React__namespace.Fragment, null, children);\n};\n\nexports.Button = Button;\nexports.Icon = Icon;\nexports.LazyRender = LazyRender;\nexports.LocalizationContext = LocalizationContext;\nexports.Menu = Menu;\nexports.MenuDivider = MenuDivider;\nexports.MenuItem = MenuItem;\nexports.MinimalButton = MinimalButton;\nexports.Modal = Modal;\nexports.Popover = Popover;\nexports.PrimaryButton = PrimaryButton;\nexports.ProgressBar = ProgressBar;\nexports.Separator = Separator;\nexports.Spinner = Spinner;\nexports.Splitter = Splitter;\nexports.TextBox = TextBox;\nexports.ThemeContext = ThemeContext;\nexports.Tooltip = Tooltip;\nexports.Viewer = Viewer;\nexports.Worker = Worker;\nexports.chunk = chunk;\nexports.classNames = classNames;\nexports.createStore = createStore;\nexports.getDestination = getDestination;\nexports.getPage = getPage;\nexports.isMac = isMac;\nexports.useIntersectionObserver = useIntersectionObserver;\nexports.useIsMounted = useIsMounted;\nexports.useIsomorphicLayoutEffect = useIsomorphicLayoutEffect;\nexports.usePrevious = usePrevious;\nexports.useRenderQueue = useRenderQueue;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}